/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 * jQuery JavaScript Library v2.1.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-23T21:10Z
 */

/*!
 * Sizzle CSS Selector Engine v1.10.16
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-13
 */

/*
 * jsen
 * https://github.com/bugventure/jsen
 * v0.6.6
 *
 * Copyright (c) 2016 Veli Pehlivanov <bugventure@gmail.com>
 * Licensed under the MIT license
 */

//     (c) 2009-2020 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors

//     Underscore may be freely distributed under the MIT license.

//! moment.js
//! version : 2.28.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

/*! bignumber.js v4.0.4 https://github.com/MikeMcl/bignumber.js/LICENCE */

/*
      bignumber.js v4.0.4
      A JavaScript library for arbitrary-precision arithmetic.
      https://github.com/MikeMcl/bignumber.js
      Copyright (c) 2017 Michael Mclaughlin <M8ch88l@gmail.com>
      MIT Expat Licence
    */

/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

/*!
 * Pikaday
 *
 * Copyright Â© 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */

/*!
 * (The MIT License)
 * 
 * Copyright (c) 2012-2014 Marcin Warpechowski
 * Copyright (c) 2015 Handsoncode sp. z o.o. <hello@handsoncode.net>
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * 'Software'), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 * Version: 5.0.2
 * Release date: 12/09/2018 (built at 11/09/2018 09:55:19)
 */

/**
 * SheetClip - Spreadsheet Clipboard Parser
 * version 0.2
 *
 * This tiny library transforms JavaScript arrays to strings that are pasteable by LibreOffice, OpenOffice,
 * Google Docs and Microsoft Excel.
 *
 * Copyright 2012, Marcin Warpechowski
 * Licensed under the MIT license.
 * http://github.com/warpech/sheetclip/
 */

/**
   * License key for commercial version of Handsontable.
   *
   * @pro
   * @type {String}
   * @default 'trial'
   * @example
   * ```js
   * licenseKey: '00000-00000-00000-00000-00000',
   * ```
   */

/**
 * autoResize - resizes a DOM element to the width and height of another DOM element
 *
 * Copyright 2014, Marcin Warpechowski
 * Licensed under the MIT license
 */

/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * json-patch-duplex.js version: 0.5.7
 * (c) 2013 Joachim Wester
 * MIT license
 */

//     uuid.js
//
//     Copyright (c) 2010-2012 Robert Kieffer
//     MIT License - http://opensource.org/licenses/mit-license.php

/*
object-assign
(c) Sindre Sorhus
@license MIT
*/

/**
 * @license text 2.0.16 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */

/** @license
 * RequireJS plugin for loading JSON files
 * - depends on Text plugin and it was HEAVILY "inspired" by it as well.
 * Author: Miller Medeiros
 * Version: 0.4.0 (2014/04/10)
 * Released under the MIT license
 */

/*!
 * SelectWoo 1.0.1
 * https://github.com/woocommerce/selectWoo
 *
 * Released under the MIT license
 * https://github.com/woocommerce/selectWoo/blob/master/LICENSE.md
 */

/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */

var requirejs,require,define;(function(e){function h(e,t){return f.call(e,t)}function p(e,t){var n,r,i,s,o,a,f,l,h,p,d,v=t&&t.split("/"),m=u.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,u.nodeIdCompat&&c.test(e[o])&&(e[o]=e[o].replace(c,"")),e=v.concat(e);for(h=0;h<e.length;h+=1){d=e[h];if(d===".")e.splice(h,1),h-=1;else if(d===".."){if(h===1&&(e[2]===".."||e[0]===".."))break;h>0&&(e.splice(h-1,2),h-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(h=n.length;h>0;h-=1){r=n.slice(0,h).join("/");if(v)for(p=v.length;p>0;p-=1){i=m[v.slice(0,p).join("/")];if(i){i=i[r];if(i){s=i,a=h;break}}}if(s)break;!f&&g&&g[r]&&(f=g[r],l=h)}!s&&f&&(s=f,a=l),s&&(n.splice(0,a,s),e=n.join("/"))}return e}function d(t,r){return function(){return n.apply(e,l.call(arguments,0).concat([t,r]))}}function v(e){return function(t){return p(t,e)}}function m(e){return function(t){s[e]=t}}function g(n){if(h(o,n)){var r=o[n];delete o[n],a[n]=!0,t.apply(e,r)}if(!h(s,n)&&!h(a,n))throw new Error("No "+n);return s[n]}function y(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function b(e){return function(){return u&&u.config&&u.config[e]||{}}}var t,n,r,i,s={},o={},u={},a={},f=Object.prototype.hasOwnProperty,l=[].slice,c=/\.js$/;r=function(e,t){var n,r=y(e),i=r[0];return e=r[1],i&&(i=p(i,t),n=g(i)),i?n&&n.normalize?e=n.normalize(e,v(t)):e=p(e,t):(e=p(e,t),r=y(e),i=r[0],e=r[1],i&&(n=g(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},i={require:function(e){return d(e)},exports:function(e){var t=s[e];return typeof t!="undefined"?t:s[e]={}},module:function(e){return{id:e,uri:"",exports:s[e],config:b(e)}}},t=function(t,n,u,f){var l,c,p,v,y,b=[],w=typeof u,E;f=f||t;if(w==="undefined"||w==="function"){n=!n.length&&u.length?["require","exports","module"]:n;for(y=0;y<n.length;y+=1){v=r(n[y],f),c=v.f;if(c==="require")b[y]=i.require(t);else if(c==="exports")b[y]=i.exports(t),E=!0;else if(c==="module")l=b[y]=i.module(t);else if(h(s,c)||h(o,c)||h(a,c))b[y]=g(c);else{if(!v.p)throw new Error(t+" missing "+c);v.p.load(v.n,d(f,!0),m(c),{}),b[y]=s[c]}}p=u?u.apply(s[t],b):undefined;if(t)if(l&&l.exports!==e&&l.exports!==s[t])s[t]=l.exports;else if(p!==e||!E)s[t]=p}else t&&(s[t]=u)},requirejs=require=n=function(s,o,a,f,l){if(typeof s=="string")return i[s]?i[s](o):g(r(s,o).f);if(!s.splice){u=s,u.deps&&n(u.deps,u.callback);if(!o)return;o.splice?(s=o,o=a,a=null):s=e}return o=o||function(){},typeof a=="function"&&(a=f,f=l),f?t(e,s,o,a):setTimeout(function(){t(e,s,o,a)},4),n},n.config=function(e){return n(e)},requirejs._defined=s,define=function(e,t,n){t.splice||(n=t,t=[]),!h(s,e)&&!h(o,e)&&(o[e]=[e,t,n])},define.amd={jQuery:!0}})(),define("../../../bower_components/almond/almond",function(){}),function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}(typeof window!="undefined"?window:this,function(window,noGlobal){function isArraylike(e){var t=e.length,n=jQuery.type(e);return n==="function"||jQuery.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function winnow(e,t,n){if(jQuery.isFunction(t))return jQuery.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return jQuery.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(risSimple.test(t))return jQuery.filter(t,e,n);t=jQuery.filter(t,e)}return jQuery.grep(e,function(e){return indexOf.call(t,e)>=0!==n})}function sibling(e,t){while((e=e[t])&&e.nodeType!==1);return e}function createOptions(e){var t=optionsCache[e]={};return jQuery.each(e.match(rnotwhite)||[],function(e,n){t[n]=!0}),t}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Math.random()}function dataAttr(e,t,n){var r;if(n===undefined&&e.nodeType===1){r="data-"+t.replace(rmultiDash,"-$1").toLowerCase(),n=e.getAttribute(r);if(typeof n=="string"){try{n=n==="true"?!0:n==="false"?!1:n==="null"?null:+n+""===n?+n:rbrace.test(n)?jQuery.parseJSON(n):n}catch(i){}data_user.set(e,t,n)}else n=undefined}return n}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(e){}}function manipulationTarget(e,t){return jQuery.nodeName(e,"table")&&jQuery.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function disableScript(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function restoreScript(e){var t=rscriptTypeMasked.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function setGlobalEval(e,t){var n=0,r=e.length;for(;n<r;n++)data_priv.set(e[n],"globalEval",!t||data_priv.get(t[n],"globalEval"))}function cloneCopyEvent(e,t){var n,r,i,s,o,u,a,f;if(t.nodeType!==1)return;if(data_priv.hasData(e)){s=data_priv.access(e),o=data_priv.set(t,s),f=s.events;if(f){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;n<r;n++)jQuery.event.add(t,i,f[i][n])}}data_user.hasData(e)&&(u=data_user.access(e),a=jQuery.extend({},u),data_user.set(t,a))}function getAll(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&jQuery.nodeName(e,t)?jQuery.merge([e],n):n}function fixInput(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&rcheckableType.test(e.type))t.checked=e.checked;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function actualDisplay(e,t){var n=jQuery(t.createElement(e)).appendTo(t.body),r=window.getDefaultComputedStyle?window.getDefaultComputedStyle(n[0]).display:jQuery.css(n[0],"display");return n.detach(),r}function defaultDisplay(e){var t=document,n=elemdisplay[e];if(!n){n=actualDisplay(e,t);if(n==="none"||!n)iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=iframe[0].contentDocument,t.write(),t.close(),n=actualDisplay(e,t),iframe.detach();elemdisplay[e]=n}return n}function curCSS(e,t,n){var r,i,s,o,u=e.style;return n=n||getStyles(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(o===""&&!jQuery.contains(e.ownerDocument,e)&&(o=jQuery.style(e,t)),rnumnonpx.test(o)&&rmargin.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),o!==undefined?o+"":o}function addGetHookIf(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function vendorPropName(e,t){if(t in e)return t;var n=t[0].toUpperCase()+t.slice(1),r=t,i=cssPrefixes.length;while(i--){t=cssPrefixes[i]+n;if(t in e)return t}return r}function setPositiveNumber(e,t,n){var r=rnumsplit.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function augmentWidthOrHeight(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=jQuery.css(e,n+cssExpand[s],!0,i)),r?(n==="content"&&(o-=jQuery.css(e,"padding"+cssExpand[s],!0,i)),n!=="margin"&&(o-=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i))):(o+=jQuery.css(e,"padding"+cssExpand[s],!0,i),n!=="padding"&&(o+=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i)));return o}function getWidthOrHeight(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=getStyles(e),o=jQuery.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=curCSS(e,t,s);if(i<0||i==null)i=e.style[t];if(rnumnonpx.test(i))return i;r=o&&(support.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+augmentWidthOrHeight(e,t,n||(o?"border":"content"),r,s)+"px"}function showHide(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=data_priv.get(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&isHidden(r)&&(s[o]=data_priv.access(r,"olddisplay",defaultDisplay(r.nodeName)))):s[o]||(i=isHidden(r),(n&&n!=="none"||!i)&&data_priv.set(r,"olddisplay",i?n:jQuery.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function Tween(e,t,n,r,i){return new Tween.prototype.init(e,t,n,r,i)}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(e,t){var n,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t)n=cssExpand[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function createTween(e,t,n){var r,i=(tweeners[t]||[]).concat(tweeners["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function defaultPrefilter(e,t,n){var r,i,s,o,u,a,f,l=this,c={},h=e.style,p=e.nodeType&&isHidden(e),d=data_priv.get(e,"fxshow");n.queue||(u=jQuery._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,l.always(function(){l.always(function(){u.unqueued--,jQuery.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],f=jQuery.css(e,"display"),f==="none"&&(f=defaultDisplay(e.nodeName)),f==="inline"&&jQuery.css(e,"float")==="none"&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(rfxtypes.exec(i)){delete t[r],s=s||i==="toggle";if(i===(p?"hide":"show")){if(i!=="show"||!d||d[r]===undefined)continue;p=!0}c[r]=d&&d[r]||jQuery.style(e,r)}}if(!jQuery.isEmptyObject(c)){d?"hidden"in d&&(p=d.hidden):d=data_priv.access(e,"fxshow",{}),s&&(d.hidden=!p),p?jQuery(e).show():l.done(function(){jQuery(e).hide()}),l.done(function(){var t;data_priv.remove(e,"fxshow");for(t in c)jQuery.style(e,t,c[t])});for(r in c)o=createTween(p?d[r]:0,r,l),r in d||(d[r]=o.start,p&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}}function propFilter(e,t){var n,r,i,s,o;for(n in e){r=jQuery.camelCase(n),i=t[r],s=e[n],jQuery.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=jQuery.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Animation(e,t,n){var r,i,s=0,o=animationPrefilters.length,u=jQuery.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=fxNow||createFxNow(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:jQuery.extend({},t),opts:jQuery.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:fxNow||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=jQuery.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;propFilter(l,f.opts.specialEasing);for(;s<o;s++){r=animationPrefilters[s].call(f,e,l,f.opts);if(r)return r}return jQuery.map(l,createTween,f),jQuery.isFunction(f.opts.start)&&f.opts.start.call(e,f),jQuery.fx.timer(jQuery.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function addToPrefiltersOrTransports(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){function o(u){var a;return i[u]=!0,jQuery.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===transports;return o(t.dataTypes[0])||!i["*"]&&o("*")}function ajaxExtend(e,t){var n,r,i=jQuery.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&jQuery.extend(!0,e,r),e}function ajaxHandleResponses(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function ajaxConvert(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function buildParams(e,t,n,r){var i;if(jQuery.isArray(t))jQuery.each(t,function(t,i){n||rbracket.test(e)?r(e,i):buildParams(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&jQuery.type(t)==="object")for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}function getWindow(e){return jQuery.isWindow(e)?e:e.nodeType===9&&e.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,trim="".trim,support={},document=window.document,version="2.1.0",jQuery=function(e,t){return new jQuery.fn.init(e,t)},rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(e,t){return t.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:slice.call(this)},pushStack:function(e){var t=jQuery.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return jQuery.each(this,e,t)},map:function(e){return this.pushStack(jQuery.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[u]||{},u++),typeof o!="object"&&!jQuery.isFunction(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t],r=e[t];if(o===r)continue;f&&r&&(jQuery.isPlainObject(r)||(i=jQuery.isArray(r)))?(i?(i=!1,s=n&&jQuery.isArray(n)?n:[]):s=n&&jQuery.isPlainObject(n)?n:{},o[t]=jQuery.extend(f,s,r)):r!==undefined&&(o[t]=r)}return o},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return jQuery.type(e)==="function"},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if(jQuery.type(e)!=="object"||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?class2type[toString.call(e)]||"object":typeof e},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(code.indexOf("use strict")===1?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(e){return e.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:function(e){return e==null?"":trim.call(e)},makeArray:function(e,t){var n=t||[];return e!=null&&(isArraylike(Object(e))?jQuery.merge(n,typeof e=="string"?[e]:e):push.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:indexOf.call(t,e,n)},merge:function(e,t){var n=+t.length,r=0,i=e.length;for(;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length,u=!n;for(;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&u.push(r);else for(i in e)r=t(e[i],i,n),r!=null&&u.push(r);return concat.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),jQuery.isFunction(e)?(r=slice.call(arguments,2),i=function(){return e.apply(t||this,r.concat(slice.call(arguments)))},i.guid=e.guid=e.guid||jQuery.guid++,i):undefined},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){class2type["[object "+t+"]"]=t.toLowerCase()});var Sizzle=function(e){function rt(e,t,r,i){var s,o,u,a,f,h,v,m,w,E;(t?t.ownerDocument||t:b)!==c&&l(t),t=t||c,r=r||[];if(!e||typeof e!="string")return r;if((a=t.nodeType)!==1&&a!==9)return[];if(p&&!i){if(s=G.exec(e))if(u=s[1]){if(a===9){o=t.getElementById(u);if(!o||!o.parentNode)return r;if(o.id===u)return r.push(o),r}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&g(t,o)&&o.id===u)return r.push(o),r}else{if(s[2])return _.apply(r,t.getElementsByTagName(e)),r;if((u=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return _.apply(r,t.getElementsByClassName(u)),r}if(n.qsa&&(!d||!d.test(e))){m=v=y,w=t,E=a===9&&e;if(a===1&&t.nodeName.toLowerCase()!=="object"){h=dt(e),(v=t.getAttribute("id"))?m=v.replace(Z,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=h.length;while(f--)h[f]=m+vt(h[f]);w=Y.test(e)&&ht(t.parentNode)||t,E=h.join(",")}if(E)try{return _.apply(r,w.querySelectorAll(E)),r}catch(S){}finally{v||t.removeAttribute("id")}}}return xt(e.replace(R,"$1"),t,r,i)}function it(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function st(e){return e[y]=!0,e}function ot(e){var t=c.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ut(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function at(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||k)-(~e.sourceIndex||k);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e){return e&&typeof e.getElementsByTagName!==C&&e}function pt(){}function dt(e,t){var n,i,s,o,u,a,f,l=x[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=U.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=z.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(R," ")}),u=u.slice(n.length);for(o in r.filter)(i=$[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?rt.error(e):x(e,a).slice(0)}function vt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function mt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=E++;return t.first?function(t,n,s){while(t=t[r])if(t.nodeType===1||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[w,s];if(o){while(t=t[r])if(t.nodeType===1||i)if(e(t,n,o))return!0}else while(t=t[r])if(t.nodeType===1||i){a=t[y]||(t[y]={});if((u=a[r])&&u[0]===w&&u[1]===s)return f[2]=u[2];a[r]=f;if(f[2]=e(t,n,o))return!0}}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function yt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function bt(e,t,n,r,i,s){return r&&!r[y]&&(r=bt(r)),i&&!i[y]&&(i=bt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||St(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?yt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=yt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=yt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function wt(e){var t,n,i,s=e.length,o=r.relative[e[0].type],a=o||r.relative[" "],f=o?1:0,l=mt(function(e){return e===t},a,!0),c=mt(function(e){return P.call(t,e)>-1},a,!0),h=[function(e,n,r){return!o&&(r||n!==u)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;f<s;f++)if(n=r.relative[e[f].type])h=[mt(gt(h),n)];else{n=r.filter[e[f].type].apply(null,e[f].matches);if(n[y]){i=++f;for(;i<s;i++)if(r.relative[e[i].type])break;return bt(f>1&&gt(h),f>1&&vt(e.slice(0,f-1).concat({value:e[f-2].type===" "?"*":""})).replace(R,"$1"),n,f<i&&wt(e.slice(f,i)),i<s&&wt(e=e.slice(i)),i<s&&vt(e))}h.push(n)}return gt(h)}function Et(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,a,f,l){var h,p,d,v=0,m="0",g=s&&[],y=[],b=u,E=s||i&&r.find.TAG("*",l),S=w+=b==null?1:Math.random()||.1,x=E.length;l&&(u=o!==c&&o);for(;m!==x&&(h=E[m])!=null;m++){if(i&&h){p=0;while(d=e[p++])if(d(h,o,a)){f.push(h);break}l&&(w=S)}n&&((h=!d&&h)&&v--,s&&g.push(h))}v+=m;if(n&&m!==v){p=0;while(d=t[p++])d(g,y,o,a);if(s){if(v>0)while(m--)!g[m]&&!y[m]&&(y[m]=O.call(f));y=yt(y)}_.apply(f,y),l&&!s&&y.length>0&&v+t.length>1&&rt.uniqueSort(f)}return l&&(w=S,u=b),g};return n?st(s):s}function St(e,t,n){var r=0,i=t.length;for(;r<i;r++)rt(e,t[r],n);return n}function xt(e,t,i,s){var u,a,f,l,c,h=dt(e);if(!s&&h.length===1){a=h[0]=h[0].slice(0);if(a.length>2&&(f=a[0]).type==="ID"&&n.getById&&t.nodeType===9&&p&&r.relative[a[1].type]){t=(r.find.ID(f.matches[0].replace(et,tt),t)||[])[0];if(!t)return i;e=e.slice(a.shift().value.length)}u=$.needsContext.test(e)?0:a.length;while(u--){f=a[u];if(r.relative[l=f.type])break;if(c=r.find[l])if(s=c(f.matches[0].replace(et,tt),Y.test(a[0].type)&&ht(t.parentNode)||t)){a.splice(u,1),e=s.length&&vt(a);if(!e)return _.apply(i,s),i;break}}}return o(e,h)(s,t,!p,i,Y.test(e)&&ht(t.parentNode)||t),i}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y="sizzle"+ -(new Date),b=e.document,w=0,E=0,S=it(),x=it(),T=it(),N=function(e,t){return e===t&&(f=!0),0},C=typeof undefined,k=1<<31,L={}.hasOwnProperty,A=[],O=A.pop,M=A.push,_=A.push,D=A.slice,P=A.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=j.replace("w","w#"),I="\\["+B+"*("+j+")"+B+"*(?:([*^$|!~]?=)"+B+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+F+")|)|)"+B+"*\\]",q=":("+j+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),U=new RegExp("^"+B+"*,"+B+"*"),z=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),W=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),X=new RegExp(q),V=new RegExp("^"+F+"$"),$={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,Z=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{_.apply(A=D.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(nt){_={apply:A.length?function(e,t){M.apply(e,D.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=rt.support={},s=rt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},l=rt.setDocument=function(e){var t,i=e?e.ownerDocument||e:b,o=i.defaultView;if(i===c||i.nodeType!==9||!i.documentElement)return c;c=i,h=i.documentElement,p=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){l()},!1):o.attachEvent&&o.attachEvent("onunload",function(){l()})),n.attributes=ot(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ot(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(i.getElementsByClassName)&&ot(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),n.getById=ot(function(e){return h.appendChild(e).id=y,!i.getElementsByName||!i.getElementsByName(y).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==C&&p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==C&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==C)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==C&&p)return t.getElementsByClassName(e)},v=[],d=[];if(n.qsa=Q.test(i.querySelectorAll))ot(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&d.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||d.push("\\["+B+"*(?:value|"+H+")"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&d.push("name"+B+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")});return(n.matchesSelector=Q.test(m=h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){n.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=d.length&&new RegExp(d.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),g=t||Q.test(h.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===b&&g(b,e)?-1:t===i||t.ownerDocument===b&&g(b,t)?1:a?P.call(a,e)-P.call(a,t):0:r&4?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],l=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:a?P.call(a,e)-P.call(a,t):0;if(s===o)return at(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)l.unshift(n);while(u[r]===l[r])r++;return r?at(u[r],l[r]):u[r]===b?-1:l[r]===b?1:0},i},rt.matches=function(e,t){return rt(e,null,null,t)},rt.matchesSelector=function(e,t){(e.ownerDocument||e)!==c&&l(e),t=t.replace(W,"='$1']");if(n.matchesSelector&&p&&(!v||!v.test(t))&&(!d||!d.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch(i){}return rt(t,c,null,[e]).length>0},rt.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},rt.attr=function(e,t){(e.ownerDocument||e)!==c&&l(e);var i=r.attrHandle[t.toLowerCase()],s=i&&L.call(r.attrHandle,t.toLowerCase())?i(e,t,!p):undefined;return s!==undefined?s:n.attributes||!p?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},rt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},rt.uniqueSort=function(e){var t,r=[],i=0,s=0;f=!n.detectDuplicates,a=!n.sortStable&&e.slice(0),e.sort(N);if(f){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return a=null,e},i=rt.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s)while(t=e[r++])n+=i(t);else if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(s===3||s===4)return e.nodeValue;return n},r=rt.selectors={cacheLength:50,createPseudo:st,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||rt.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&rt.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return $.CHILD.test(e[0])?null:(e[3]&&e[4]!==undefined?e[2]=e[4]:n&&X.test(n)&&(t=dt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(et,tt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&S(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==C&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=rt.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),b=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&b){l=m[y]||(m[y]={}),f=l[e]||[],p=f[0]===w&&f[1],h=f[0]===w&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[w,p,h];break}}else if(b&&(f=(t[y]||(t[y]={}))[e])&&f[0]===w)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){b&&((c[y]||(c[y]={}))[e]=[w,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||rt.error("unsupported pseudo: "+e);return i[y]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=P.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:st(function(e){var t=[],n=[],r=o(e.replace(R,"$1"));return r[y]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return rt(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:st(function(e){return V.test(e||"")||rt.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[n<0?n+t:n]}),even:ct(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ft(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=lt(t);return pt.prototype=r.filters=r.pseudos,r.setFilters=new pt,o=rt.compile=function(e,t){var n,r=[],i=[],s=T[e+" "];if(!s){t||(t=dt(e)),n=t.length;while(n--)s=wt(t[n]),s[y]?r.push(s):i.push(s);s=T(e,Et(i,r))}return s},n.sortStable=y.split("").sort(N).join("")===y,n.detectDuplicates=!!f,l(),n.sortDetached=ot(function(e){return e.compareDocumentPosition(c.createElement("div"))&1}),ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||ut("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!n.attributes||!ot(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&ut("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),ot(function(e){return e.getAttribute("disabled")==null})||ut(H,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),rt}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?jQuery.find.matchesSelector(r,e)?[r]:[]:jQuery.find.matches(e,jQuery.grep(t,function(e){return e.nodeType===1}))},jQuery.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if(typeof e!="string")return this.pushStack(jQuery(e).filter(function(){for(t=0;t<n;t++)if(jQuery.contains(i[t],this))return!0}));for(t=0;t<n;t++)jQuery.find(e,i[t],r);return r=this.pushStack(n>1?jQuery.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,typeof e=="string"&&rneedsContext.test(e)?jQuery(e):e||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(e,t){var n,r;if(!e)return this;if(typeof e=="string"){e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?n=[null,e,null]:n=rquickExpr.exec(e);if(n&&(n[1]||!t)){if(n[1]){t=t instanceof jQuery?t[0]:t,jQuery.merge(this,jQuery.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:document,!0));if(rsingleTag.test(n[1])&&jQuery.isPlainObject(t))for(n in t)jQuery.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=document.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=document,this.selector=e,this}return!t||t.jquery?(t||rootjQuery).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):jQuery.isFunction(e)?typeof rootjQuery.ready!="undefined"?rootjQuery.ready(e):e(jQuery):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),jQuery.makeArray(e,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&e.nodeType!==9)if(e.nodeType===1){if(i&&jQuery(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}}),jQuery.fn.extend({has:function(e){var t=jQuery(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++)if(jQuery.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o=rneedsContext.test(e)||typeof e!="string"?jQuery(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&jQuery.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?jQuery.unique(s):s)},index:function(e){return e?typeof e=="string"?indexOf.call(jQuery(e),this[0]):indexOf.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),jQuery.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return jQuery.dir(e,"parentNode")},parentsUntil:function(e,t,n){return jQuery.dir(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return jQuery.dir(e,"nextSibling")},prevAll:function(e){return jQuery.dir(e,"previousSibling")},nextUntil:function(e,t,n){return jQuery.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return jQuery.dir(e,"previousSibling",n)},siblings:function(e){return jQuery.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return jQuery.sibling(e.firstChild)},contents:function(e){return e.contentDocument||jQuery.merge([],e.childNodes)}},function(e,t){jQuery.fn[e]=function(n,r){var i=jQuery.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=jQuery.filter(r,i)),this.length>1&&(guaranteedUnique[e]||jQuery.unique(i),rparentsprev.test(e)&&i.reverse()),this.pushStack(i)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(e){e=typeof e=="string"?optionsCache[e]||createOptions(e):jQuery.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){t=e.memory&&c,n=!0,o=i||0,i=0,s=u.length,r=!0;for(;u&&o<s;o++)if(u[o].apply(c[0],c[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(a?a.length&&f(a.shift()):t?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;(function o(t){jQuery.each(t,function(t,n){var r=jQuery.type(n);r==="function"?(!e.unique||!l.has(n))&&u.push(n):n&&n.length&&r!=="string"&&o(n)})})(arguments),r?s=u.length:t&&(i=n,f(t))}return this},remove:function(){return u&&jQuery.each(arguments,function(e,t){var n;while((n=jQuery.inArray(t,u,n))>-1)u.splice(n,1),r&&(n<=s&&s--,n<=o&&o--)}),this},has:function(e){return e?jQuery.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],s=0,this},disable:function(){return u=a=t=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,t||l.disable(),this},locked:function(){return!a},fireWith:function(e,t){return u&&(!n||a)&&(t=t||[],t=[e,t.slice?t.slice():t],r?a.push(t):f(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},jQuery.extend({Deferred:function(e){var t=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return jQuery.Deferred(function(n){jQuery.each(t,function(t,s){var o=jQuery.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&jQuery.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?jQuery.extend(e,r):r}},i={};return r.pipe=r.then,jQuery.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=slice.call(arguments),r=n.length,i=r!==1||e&&jQuery.isFunction(e.promise)?r:0,s=i===1?e:jQuery.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?slice.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&jQuery.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}});var readyList;jQuery.fn.ready=function(e){return jQuery.ready.promise().done(e),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(e){e?jQuery.readyWait++:jQuery.ready(!0)},ready:function(e){if(e===!0?--jQuery.readyWait:jQuery.isReady)return;jQuery.isReady=!0;if(e!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready")}}),jQuery.ready.promise=function(e){return readyList||(readyList=jQuery.Deferred(),document.readyState==="complete"?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(e)},jQuery.ready.promise();var access=jQuery.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=n==null;if(jQuery.type(n)==="object"){i=!0;for(u in n)jQuery.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined){i=!0,jQuery.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(jQuery(e),n)}));if(t)for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)))}return i?e:f?t.call(e):a?t(e[0],n):s};jQuery.acceptData=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(e){if(!Data.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=Data.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,jQuery.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),s=this.cache[i];if(typeof t=="string")s[t]=n;else if(jQuery.isEmptyObject(s))jQuery.extend(this.cache[i],t);else for(r in t)s[r]=t[r];return s},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&typeof t=="string"&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,jQuery.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,s=this.key(e),o=this.cache[s];if(t===undefined)this.cache[s]={};else{jQuery.isArray(t)?r=t.concat(t.map(jQuery.camelCase)):(i=jQuery.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(rnotwhite)||[])),n=r.length;while(n--)delete o[r[n]]}},hasData:function(e){return!jQuery.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(e){return data_user.hasData(e)||data_priv.hasData(e)},data:function(e,t,n){return data_user.access(e,t,n)},removeData:function(e,t){data_user.remove(e,t)},_data:function(e,t,n){return data_priv.access(e,t,n)},_removeData:function(e,t){data_priv.remove(e,t)}}),jQuery.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(e===undefined){if(this.length){i=data_user.get(s);if(s.nodeType===1&&!data_priv.get(s,"hasDataAttrs")){n=o.length;while(n--)r=o[n].name,r.indexOf("data-")===0&&(r=jQuery.camelCase(r.slice(5)),dataAttr(s,r,i[r]));data_priv.set(s,"hasDataAttrs",!0)}}return i}return typeof e=="object"?this.each(function(){data_user.set(this,e)}):access(this,function(t){var n,r=jQuery.camelCase(e);if(s&&t===undefined){n=data_user.get(s,e);if(n!==undefined)return n;n=data_user.get(s,r);if(n!==undefined)return n;n=dataAttr(s,r,undefined);if(n!==undefined)return n;return}this.each(function(){var n=data_user.get(this,r);data_user.set(this,r,t),e.indexOf("-")!==-1&&n!==undefined&&data_user.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){data_user.remove(this,e)})}}),jQuery.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=data_priv.get(e,t),n&&(!r||jQuery.isArray(n)?r=data_priv.access(e,t,jQuery.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=jQuery.queue(e,t),r=n.length,i=n.shift(),s=jQuery._queueHooks(e,t),o=function(){jQuery.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return data_priv.get(e,n)||data_priv.access(e,n,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(e,[t+"queue",n])})})}}),jQuery.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?jQuery.queue(this[0],e):t===undefined?this:this.each(function(){var n=jQuery.queue(this,e,t);jQuery._queueHooks(this,e),e==="fx"&&n[0]!=="inprogress"&&jQuery.dequeue(this,e)})},dequeue:function(e){return this.each(function(){jQuery.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=jQuery.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};typeof e!="string"&&(t=e,e=undefined),e=e||"fx";while(o--)n=data_priv.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(e,t){return e=t||e,jQuery.css(e,"display")==="none"||!jQuery.contains(e.ownerDocument,e)},rcheckableType=/^(?:checkbox|radio)$/i;(function(){var e=document.createDocumentFragment(),t=e.appendChild(document.createElement("div"));t.innerHTML="<input type='radio' checked='checked' name='t'/>",support.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.get(e);if(!m)return;n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=jQuery.guid++),(a=m.events)||(a=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof jQuery!==strundefined&&jQuery.event.triggered!==t.type?jQuery.event.dispatch.apply(e,arguments):undefined}),t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p)continue;c=jQuery.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=jQuery.event.special[p]||{},l=jQuery.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&jQuery.expr.match.needsContext.test(i),namespace:d.join(".")},s),(h=a[p])||(h=a[p]=[],h.delegateCount=0,(!c.setup||c.setup.call(e,r,d,o)===!1)&&e.addEventListener&&e.addEventListener(p,o,!1)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),jQuery.event.global[p]=!0}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.hasData(e)&&data_priv.get(e);if(!m||!(a=m.events))return;t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in a)jQuery.event.remove(e,p+t[f],n,r,!0);continue}c=jQuery.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],(i||v===l.origType)&&(!n||n.guid===l.guid)&&(!u||u.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)&&(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&jQuery.removeEvent(e,p,m.handle),delete a[p])}jQuery.isEmptyObject(a)&&(delete m.handle,data_priv.remove(e,"events"))},trigger:function(e,t,n,r){var i,s,o,u,a,f,l,c=[n||document],h=hasOwn.call(e,"type")?e.type:e,p=hasOwn.call(e,"namespace")?e.namespace.split("."):[];s=o=n=n||document;if(n.nodeType===3||n.nodeType===8)return;if(rfocusMorph.test(h+jQuery.event.triggered))return;h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[jQuery.expando]?e:new jQuery.Event(h,typeof e=="object"&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=t==null?[e]:jQuery.makeArray(t,[e]),l=jQuery.event.special[h]||{};if(!r&&l.trigger&&l.trigger.apply(n,t)===!1)return;if(!r&&!l.noBubble&&!jQuery.isWindow(n)){u=l.delegateType||h,rfocusMorph.test(u+h)||(s=s.parentNode);for(;s;s=s.parentNode)c.push(s),o=s;o===(n.ownerDocument||document)&&c.push(o.defaultView||o.parentWindow||window)}i=0;while((s=c[i++])&&!e.isPropagationStopped())e.type=i>1?u:l.bindType||h,f=(data_priv.get(s,"events")||{})[e.type]&&data_priv.get(s,"handle"),f&&f.apply(s,t),f=a&&s[a],f&&f.apply&&jQuery.acceptData(s)&&(e.result=f.apply(s,t),e.result===!1&&e.preventDefault());return e.type=h,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(c.pop(),t)===!1)&&jQuery.acceptData(n)&&a&&jQuery.isFunction(n[h])&&!jQuery.isWindow(n)&&(o=n[a],o&&(n[a]=null),jQuery.event.triggered=h,n[h](),jQuery.event.triggered=undefined,o&&(n[a]=o)),e.result},dispatch:function(e){e=jQuery.event.fix(e);var t,n,r,i,s,o=[],u=slice.call(arguments),a=(data_priv.get(this,"events")||{})[e.type]||[],f=jQuery.event.special[e.type]||{};u[0]=e,e.delegateTarget=this;if(f.preDispatch&&f.preDispatch.call(this,e)===!1)return;o=jQuery.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((s=i.handlers[n++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(s.namespace))e.handleObj=s,e.data=s.data,r=((jQuery.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,u),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return f.postDispatch&&f.postDispatch.call(this,e),e.result},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||e.type!=="click"))for(;a!==this;a=a.parentNode||this)if(a.disabled!==!0||e.type!=="click"){r=[];for(n=0;n<u;n++)s=t[n],i=s.selector+" ",r[i]===undefined&&(r[i]=s.needsContext?jQuery(i,this).index(a)>=0:jQuery.find(i,this,null,[a]).length),r[i]&&r.push(s);r.length&&o.push({elem:a,handlers:r})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return e.pageX==null&&t.clientX!=null&&(n=e.target.ownerDocument||document,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.which&&s!==undefined&&(e.which=s&1?1:s&2?3:s&4?2:0),e}},fix:function(e){if(e[jQuery.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=rmouseEvent.test(i)?this.mouseHooks:rkeyEvent.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new jQuery.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=document),e.target.nodeType===3&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(e){return jQuery.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=jQuery.extend(new jQuery.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?jQuery.event.trigger(i,null,t):jQuery.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},jQuery.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},jQuery.Event=function(e,t){if(!(this instanceof jQuery.Event))return new jQuery.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.getPreventDefault&&e.getPreventDefault()?returnTrue:returnFalse):this.type=e,t&&jQuery.extend(this,t),this.timeStamp=e&&e.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){jQuery.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!jQuery.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){jQuery.event.simulate(t,e.target,jQuery.event.fix(e),!0)};jQuery.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t);i||r.addEventListener(e,n,!0),data_priv.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t)-1;i?data_priv.access(r,t,i):(r.removeEventListener(e,n,!0),data_priv.remove(r,t))}}}),jQuery.fn.extend({on:function(e,t,n,r,i){var s,o;if(typeof e=="object"){typeof t!="string"&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],i);return this}n==null&&r==null?(r=t,n=t=undefined):r==null&&(typeof t=="string"?(r=n,n=undefined):(r=n,n=t,t=undefined));if(r===!1)r=returnFalse;else if(!r)return this;return i===1&&(s=r,r=function(e){return jQuery().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,jQuery(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}if(t===!1||typeof t=="function")n=t,t=undefined;return n===!1&&(n=returnFalse),this.each(function(){jQuery.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){jQuery.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return jQuery.event.trigger(e,t,n,!0)}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=jQuery.contains(e.ownerDocument,e);if(!support.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!jQuery.isXMLDoc(e)){o=getAll(u),s=getAll(e);for(r=0,i=s.length;r<i;r++)fixInput(s[r],o[r])}if(t)if(n){s=s||getAll(e),o=o||getAll(u);for(r=0,i=s.length;r<i;r++)cloneCopyEvent(s[r],o[r])}else cloneCopyEvent(e,u);return o=getAll(u,"script"),o.length>0&&setGlobalEval(o,!a&&getAll(e,"script")),u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l=t.createDocumentFragment(),c=[],h=0,p=e.length;for(;h<p;h++){i=e[h];if(i||i===0)if(jQuery.type(i)==="object")jQuery.merge(c,i.nodeType?[i]:i);else if(!rhtml.test(i))c.push(t.createTextNode(i));else{s=s||l.appendChild(t.createElement("div")),o=(rtagName.exec(i)||["",""])[1].toLowerCase(),u=wrapMap[o]||wrapMap._default,s.innerHTML=u[1]+i.replace(rxhtmlTag,"<$1></$2>")+u[2],f=u[0];while(f--)s=s.lastChild;jQuery.merge(c,s.childNodes),s=l.firstChild,s.textContent=""}}l.textContent="",h=0;while(i=c[h++]){if(r&&jQuery.inArray(i,r)!==-1)continue;a=jQuery.contains(i.ownerDocument,i),s=getAll(l.appendChild(i),"script"),a&&setGlobalEval(s);if(n){f=0;while(i=s[f++])rscriptType.test(i.type||"")&&n.push(i)}}return l},cleanData:function(e){var t,n,r,i,s,o,u=jQuery.event.special,a=0;for(;(n=e[a])!==undefined;a++){if(jQuery.acceptData(n)){s=n[data_priv.expando];if(s&&(t=data_priv.cache[s])){r=Object.keys(t.events||{});if(r.length)for(o=0;(i=r[o])!==undefined;o++)u[i]?jQuery.event.remove(n,i):jQuery.removeEvent(n,i,t.handle);data_priv.cache[s]&&delete data_priv.cache[s]}}delete data_user.cache[n[data_user.expando]]}}}),jQuery.fn.extend({text:function(e){return access(this,function(e){return e===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9)this.textContent=e})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?jQuery.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&jQuery.cleanData(getAll(n)),n.parentNode&&(t&&jQuery.contains(n.ownerDocument,n)&&setGlobalEval(getAll(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++)e.nodeType===1&&(jQuery.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return jQuery.clone(this,e,t)})},html:function(e){return access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&t.nodeType===1)return t.innerHTML;if(typeof e=="string"&&!rnoInnerhtml.test(e)&&!wrapMap[(rtagName.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(rxhtmlTag,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(jQuery.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,jQuery.cleanData(getAll(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=concat.apply([],e);var n,r,i,s,o,u,a=0,f=this.length,l=this,c=f-1,h=e[0],p=jQuery.isFunction(h);if(p||f>1&&typeof h=="string"&&!support.checkClone&&rchecked.test(h))return this.each(function(n){var r=l.eq(n);p&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(f){n=jQuery.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,n.childNodes.length===1&&(n=r);if(r){i=jQuery.map(getAll(n,"script"),disableScript),s=i.length;for(;a<f;a++)o=n,a!==c&&(o=jQuery.clone(o,!0,!0),s&&jQuery.merge(i,getAll(o,"script"))),t.call(this[a],o,a);if(s){u=i[i.length-1].ownerDocument,jQuery.map(i,restoreScript);for(a=0;a<s;a++)o=i[a],rscriptType.test(o.type||"")&&!data_priv.access(o,"globalEval")&&jQuery.contains(u,o)&&(o.src?jQuery._evalUrl&&jQuery._evalUrl(o.src):jQuery.globalEval(o.textContent.replace(rcleanScript,"")))}}}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){jQuery.fn[e]=function(e){var n,r=[],i=jQuery(e),s=i.length-1,o=0;for(;o<=s;o++)n=o===s?this:this.clone(!0),jQuery(i[o])[t](n),push.apply(r,n.get());return this.pushStack(r)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};(function(){function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",r.appendChild(i);var n=window.getComputedStyle(s,null);e=n.top!=="1%",t=n.width==="4px",r.removeChild(i)}var e,t,n="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r=document.documentElement,i=document.createElement("div"),s=document.createElement("div");s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle=s.style.backgroundClip==="content-box",i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",i.appendChild(s),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return t==null&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(document.createElement("div"));return t.style.cssText=s.style.cssText=n,t.style.marginRight=t.style.width="0",s.style.width="1px",r.appendChild(i),e=!parseFloat(window.getComputedStyle(t,null).marginRight),r.removeChild(i),s.innerHTML="",e}})})(),jQuery.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var i,s,o,u=jQuery.camelCase(t),a=e.style;t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(a,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u];if(n===undefined)return o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t];s=typeof n,s==="string"&&(i=rrelNum.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(jQuery.css(e,t)),s="number");if(n==null||n!==n)return;s==="number"&&!jQuery.cssNumber[u]&&(n+="px"),!support.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(a[t]="inherit");if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined)a[t]="",a[t]=n},css:function(e,t,n,r){var i,s,o,u=jQuery.camelCase(t);return t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(e.style,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=curCSS(e,t,r)),i==="normal"&&t in cssNormalTransform&&(i=cssNormalTransform[t]),n===""||n?(s=parseFloat(i),n===!0||jQuery.isNumeric(s)?s||0:i):i}}),jQuery.each(["height","width"],function(e,t){jQuery.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&rdisplayswap.test(jQuery.css(e,"display"))?jQuery.swap(e,cssShow,function(){return getWidthOrHeight(e,t,r)}):getWidthOrHeight(e,t,r)},set:function(e,n,r){var i=r&&getStyles(e);return setPositiveNumber(e,n,r?augmentWidthOrHeight(e,t,r,jQuery.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(e,t){if(t)return jQuery.swap(e,{display:"inline-block"},curCSS,[e,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(e,t){jQuery.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+cssExpand[r]+t]=s[r]||s[r-2]||s[0];return i}},rmargin.test(e)||(jQuery.cssHooks[e+t].set=setPositiveNumber)}),jQuery.fn.extend({css:function(e,t){return access(this,function(e,t,n){var r,i,s={},o=0;if(jQuery.isArray(t)){r=getStyles(e),i=t.length;for(;o<i;o++)s[t[o]]=jQuery.css(e,t[o],!1,r);return s}return n!==undefined?jQuery.style(e,t,n):jQuery.css(e,t)},e,t,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(jQuery.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=jQuery.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=jQuery.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){jQuery.fx.step[e.prop]?jQuery.fx.step[e.prop](e):e.elem.style&&(e.elem.style[jQuery.cssProps[e.prop]]!=null||jQuery.cssHooks[e.prop])?jQuery.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},jQuery.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=rfxnum.exec(t),s=i&&i[3]||(jQuery.cssNumber[e]?"":"px"),o=(jQuery.cssNumber[e]||s!=="px"&&+r)&&rfxnum.exec(jQuery.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,jQuery.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(e,t){jQuery.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],tweeners[n]=tweeners[n]||[],tweeners[n].unshift(t)},prefilter:function(e,t){t?animationPrefilters.unshift(e):animationPrefilters.push(e)}}),jQuery.speed=function(e,t,n){var r=e&&typeof e=="object"?jQuery.extend({},e):{complete:n||!n&&t||jQuery.isFunction(e)&&e,duration:e,easing:n&&t||t&&!jQuery.isFunction(t)&&t};r.duration=jQuery.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in jQuery.fx.speeds?jQuery.fx.speeds[r.duration]:jQuery.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){jQuery.isFunction(r.old)&&r.old.call(this),r.queue&&jQuery.dequeue(this,r.queue)},r},jQuery.fn.extend({fadeTo:function(e,t,n,r){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=jQuery.isEmptyObject(e),s=jQuery.speed(t,n,r),o=function(){var t=Animation(this,jQuery.extend({},e),s);(i||data_priv.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return typeof e!="string"&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=e!=null&&e+"queueHooks",s=jQuery.timers,o=data_priv.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&rrun.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(e==null||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&jQuery.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=data_priv.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=jQuery.timers,o=r?r.length:0;n.finish=!0,jQuery.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),jQuery.each(["toggle","show","hide"],function(e,t){var n=jQuery.fn[t];jQuery.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,i)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){jQuery.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),jQuery.timers=[],jQuery.fx.tick=function(){var e,t=0,n=jQuery.timers;fxNow=jQuery.now();for(;t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(e){jQuery.timers.push(e),e()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(e,t){return e=jQuery.fx?jQuery.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=document.createElement("input"),t=document.createElement("select"),n=t.appendChild(document.createElement("option"));e.type="checkbox",support.checkOn=e.value!=="",support.optSelected=n.selected,t.disabled=!0,support.optDisabled=!n.disabled,e=document.createElement("input"),e.value="t",e.type="radio",support.radioValue=e.value==="t"}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(e,t){return access(this,jQuery.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){jQuery.removeAttr(this,e)})}}),jQuery.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(!e||s===3||s===8||s===2)return;if(typeof e.getAttribute===strundefined)return jQuery.prop(e,t,n);if(s!==1||!jQuery.isXMLDoc(e))t=t.toLowerCase(),r=jQuery.attrHooks[t]||(jQuery.expr.match.bool.test(t)?boolHook:nodeHook);if(n===undefined)return r&&"get"in r&&(i=r.get(e,t))!==null?i:(i=jQuery.find.attr(e,t),i==null?undefined:i);if(n!==null)return r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n);jQuery.removeAttr(e,t)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(rnotwhite);if(s&&e.nodeType===1)while(n=s[i++])r=jQuery.propFix[n]||n,jQuery.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!support.radioValue&&t==="radio"&&jQuery.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),boolHook={set:function(e,t,n){return t===!1?jQuery.removeAttr(e,n):e.setAttribute(n,n),n}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(e,t){var n=attrHandle[t]||jQuery.find.attr;attrHandle[t]=function(e,t,r){var i,s;return r||(s=attrHandle[t],attrHandle[t]=i,i=n(e,t,r)!=null?t.toLowerCase():null,attrHandle[t]=s),i}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(e,t){return access(this,jQuery.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[jQuery.propFix[e]||e]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(!e||o===3||o===8||o===2)return;return s=o!==1||!jQuery.isXMLDoc(e),s&&(t=jQuery.propFix[t]||t,i=jQuery.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||rfocusable.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).addClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=jQuery.trim(r),n.className!==o&&(n.className=o)}}}return this},removeClass:function(e){var t,n,r,i,s,o,u=arguments.length===0||typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).removeClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?jQuery.trim(r):"",n.className!==o&&(n.className=o)}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):jQuery.isFunction(e)?this.each(function(n){jQuery(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,i=jQuery(this),s=e.match(rnotwhite)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(n===strundefined||n==="boolean")this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||e===!1?"":data_priv.get(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(rclass," ").indexOf(t)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i)return t=jQuery.valHooks[i.type]||jQuery.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,typeof n=="string"?n.replace(rreturn,""):n==null?"":n);return}return r=jQuery.isFunction(e),this.each(function(n){var i;if(this.nodeType!==1)return;r?i=e.call(this,n,jQuery(this).val()):i=e,i==null?i="":typeof i=="number"?i+="":jQuery.isArray(i)&&(i=jQuery.map(i,function(e){return e==null?"":e+""})),t=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined)this.value=i})}}),jQuery.extend({valHooks:{select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!jQuery.nodeName(n.parentNode,"optgroup"))){t=jQuery(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=jQuery.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=jQuery.inArray(jQuery(r).val(),s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(e,t){if(jQuery.isArray(t))return e.checked=jQuery.inArray(jQuery(e).val(),t)>=0}},support.checkOn||(jQuery.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){jQuery.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),jQuery.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(e){return JSON.parse(e+"")},jQuery.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+e),t};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,jQuery.ajaxSettings),t):ajaxExtend(jQuery.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(e,t){function S(e,t,s,u){var f,m,g,b,E,S=t;if(y===2)return;y=2,o&&clearTimeout(o),n=undefined,i=u||"",w.readyState=e>0?4:0,f=e>=200&&e<300||e===304,s&&(b=ajaxHandleResponses(l,w,s)),b=ajaxConvert(l,b,w,f);if(f)l.ifModified&&(E=w.getResponseHeader("Last-Modified"),E&&(jQuery.lastModified[r]=E),E=w.getResponseHeader("etag"),E&&(jQuery.etag[r]=E)),e===204||l.type==="HEAD"?S="nocontent":e===304?S="notmodified":(S=b.state,m=b.data,g=b.error,f=!g);else{g=S;if(e||!S)S="error",e<0&&(e=0)}w.status=e,w.statusText=(t||S)+"",f?p.resolveWith(c,[m,S,w]):p.rejectWith(c,[w,S,g]),w.statusCode(v),v=undefined,a&&h.trigger(f?"ajaxSuccess":"ajaxError",[w,l,f?m:g]),d.fireWith(c,[w,S]),a&&(h.trigger("ajaxComplete",[w,l]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof e=="object"&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=jQuery.ajaxSetup({},t),c=l.context||l,h=l.context&&(c.nodeType||c.jquery)?jQuery(c):jQuery.event,p=jQuery.Deferred(),d=jQuery.Callbacks("once memory"),v=l.statusCode||{},m={},g={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(y===2){if(!s){s={};while(t=rheaders.exec(i))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return y===2?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),S(0,t),this}};p.promise(w).complete=d.add,w.success=w.done,w.error=w.fail,l.url=((e||l.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=jQuery.trim(l.dataType||"*").toLowerCase().match(rnotwhite)||[""],l.crossDomain==null&&(u=rurl.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===ajaxLocParts[1]&&u[2]===ajaxLocParts[2]&&(u[3]||(u[1]==="http:"?"80":"443"))===(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443")))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=jQuery.param(l.data,l.traditional)),inspectPrefiltersOrTransports(prefilters,l,t,w);if(y===2)return w;a=l.global,a&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rnoContent.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(rquery.test(r)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=rts.test(r)?r.replace(rts,"$1_="+nonce++):r+(rquery.test(r)?"&":"?")+"_="+nonce++)),l.ifModified&&(jQuery.lastModified[r]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[r]),jQuery.etag[r]&&w.setRequestHeader("If-None-Match",jQuery.etag[r])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)w.setRequestHeader(f,l.headers[f]);if(!l.beforeSend||l.beforeSend.call(c,w,l)!==!1&&y!==2){b="abort";for(f in{success:1,error:1,complete:1})w[f](l[f]);n=inspectPrefiltersOrTransports(transports,l,t,w);if(!n)S(-1,"No Transport");else{w.readyState=1,a&&h.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){w.abort("timeout")},l.timeout));try{y=1,n.send(m,S)}catch(E){if(!(y<2))throw E;S(-1,E)}}return w}return w.abort()},getJSON:function(e,t,n){return jQuery.get(e,t,n,"json")},getScript:function(e,t){return jQuery.get(e,undefined,t,"script")}}),jQuery.each(["get","post"],function(e,t){jQuery[t]=function(e,n,r,i){return jQuery.isFunction(n)&&(i=i||r,r=n,n=undefined),jQuery.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){jQuery.fn[t]=function(e){return this.on(t,e)}}),jQuery._evalUrl=function(e){return jQuery.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(e){var t;return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapAll(e.call(this,t))}):(this[0]&&(t=jQuery(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapInner(e.call(this,t))}):this.each(function(){var t=jQuery(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=jQuery.isFunction(e);return this.each(function(n){jQuery(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},jQuery.expr.filters.visible=function(e){return!jQuery.expr.filters.hidden(e)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(e,t){var n,r=[],i=function(e,t){t=jQuery.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};t===undefined&&(t=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(e)||e.jquery&&!jQuery.isPlainObject(e))jQuery.each(e,function(){i(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,i);return r.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=jQuery.prop(this,"elements");return e?jQuery.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=jQuery(this).val();return n==null?null:jQuery.isArray(n)?jQuery.map(n,function(e){return{name:t.name,value:e.replace(rCRLF,"\r\n")}}):{name:t.name,value:n.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.ActiveXObject&&jQuery(window).on("unload",function(){for(var e in xhrCallbacks)xhrCallbacks[e]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(e){var t;if(support.cors||xhrSupported&&!e.crossDomain)return{send:function(n,r){var i,s=e.xhr(),o=++xhrId;s.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete xhrCallbacks[o],t=s.onload=s.onerror=null,e==="abort"?s.abort():e==="error"?r(s.status,s.statusText):r(xhrSuccessStatus[s.status]||s.status,s.statusText,typeof s.responseText=="string"?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=xhrCallbacks[o]=t("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return jQuery.globalEval(e),e}}}),jQuery.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),jQuery.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=jQuery("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i(e.type==="error"?404:200,e.type)}),document.head.appendChild(t[0])},abort:function(){n&&n()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[e]=!0,e}}),jQuery.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,s,o=e.jsonp!==!1&&(rjsonp.test(e.url)?"url":typeof e.data=="string"&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(e.data)&&"data");if(o||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=jQuery.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(rjsonp,"$1"+r):e.jsonp!==!1&&(e.url+=(rquery.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||jQuery.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){s=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,oldCallbacks.push(r)),s&&jQuery.isFunction(i)&&i(s[0]),s=i=undefined}),"script"}),jQuery.parseHTML=function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||document;var r=rsingleTag.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=jQuery.buildFragment([e],t,i),i&&i.length&&jQuery(i).remove(),jQuery.merge([],r.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(e,t,n){if(typeof e!="string"&&_load)return _load.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=e.slice(u),e=e.slice(0,u)),jQuery.isFunction(t)?(n=t,t=undefined):t&&typeof t=="object"&&(i="POST"),o.length>0&&jQuery.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?jQuery("<div>").append(jQuery.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},jQuery.expr.filters.animated=function(e){return jQuery.grep(jQuery.timers,function(t){return e===t.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=jQuery.css(e,"position"),c=jQuery(e),h={};l==="static"&&(e.style.position="relative"),u=c.offset(),s=jQuery.css(e,"top"),a=jQuery.css(e,"left"),f=(l==="absolute"||l==="fixed")&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),jQuery.isFunction(t)&&(t=t.call(e,n,u)),t.top!=null&&(h.top=t.top-u.top+o),t.left!=null&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},jQuery.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){jQuery.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;if(!s)return;return t=s.documentElement,jQuery.contains(t,r)?(typeof r.getBoundingClientRect!==strundefined&&(i=r.getBoundingClientRect()),n=getWindow(s),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(!this[0])return;var e,t,n=this[0],r={top:0,left:0};return jQuery.css(n,"position")==="fixed"?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),jQuery.nodeName(e[0],"html")||(r=e.offset()),r.top+=jQuery.css(e[0],"borderTopWidth",!0),r.left+=jQuery.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-jQuery.css(n,"marginTop",!0),left:t.left-r.left-jQuery.css(n,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||docElem;while(e&&!jQuery.nodeName(e,"html")&&jQuery.css(e,"position")==="static")e=e.offsetParent;return e||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;jQuery.fn[e]=function(r){return access(this,function(e,r,i){var s=getWindow(e);if(i===undefined)return s?s[t]:e[r];s?s.scrollTo(n?window.pageXOffset:i,n?i:window.pageYOffset):e[r]=i},e,r,arguments.length,null)}}),jQuery.each(["top","left"],function(e,t){jQuery.cssHooks[t]=addGetHookIf(support.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),rnumnonpx.test(n)?jQuery(e).position()[t]+"px":n})}),jQuery.each({Height:"height",Width:"width"},function(e,t){jQuery.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){jQuery.fn[r]=function(r,i){var s=arguments.length&&(n||typeof r!="boolean"),o=n||(r===!0||i===!0?"margin":"border");return access(this,function(t,n,r){var i;return jQuery.isWindow(t)?t.document.documentElement["client"+e]:t.nodeType===9?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?jQuery.css(t,n,o):jQuery.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(e){return window.$===jQuery&&(window.$=_$),e&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),define("ComponentLibrary",[],function(){"use strict";var e={};return{init:function(t){e=t},getComponent:function(t){if(!e[t])throw new Error("Required component does not exist or it was not loaded ("+t+")");return e[t]},getAllComponents:function(){return e}}}),define("lib/behaviour/CheckUndoRedoUnavailable",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function s(e,t){return t.isUndoAvailable()!==e.undo||t.isRedoAvailable()!==e.redo}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(){t(this,e),this.table=null,this.store=null}return r(e,[{key:"start",value:function(){this.prevState={undo:this.table.table.isUndoAvailable(),redo:this.table.table.isRedoAvailable()}}},{key:"update",value:function(){s(this.prevState,this.table.table)&&!this.state.dataSetFromCapi&&(this.actions.updateUndoRedoToolbar(this.table.table.isUndoAvailable(),this.table.table.isRedoAvailable()),this.prevState={undo:this.table.table.isUndoAvailable(),redo:this.table.table.isRedoAvailable()})}}]),e}();e.default=i}),define("lib/behaviour/DispatchActionOnStart",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(){t(this,e),this.actionName="",this.toolbarId="",this.value=""}return r(e,[{key:"start",value:function(){this.actions[this.actionName](this.toolbarId,this.value)}}]),e}();e.default=i}),define("lib/behaviour/FocusOnStart",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(){t(this,e),this.renderer=null}return r(e,[{key:"start",value:function(){this.renderer.$el.focus()}}]),e}();e.default=i}),define("lib/behaviour/SyncTableOnAction",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(){t(this,e),this.table=null,this.store=null,this.action="",this.functionName=""}return r(e,[{key:"start",value:function(){var t=this;this.unsubscribe=this.store.subscribe(this.action,function(){t.table.table[t.functionName]()},this)}},{key:"destroy",value:function(){if(!this.unsubscribe)return;this.unsubscribe()}}]),e}();e.default=i}),define("lib/behaviour/UpdateTableDimsOnResize",["exports","jquery"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(){this.tableController.table.updateSettings({width:(0,n.default)(window).width(),height:(0,n.default)(window).height()-48})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=Symbol(),a=function(){function e(){i(this,e),this.tableController=null}return o(e,[{key:"start",value:function(){this[u]=f.bind(this),(0,n.default)(window).on("resize",this[u])}},{key:"destroy",value:function(){(0,n.default)(window).off("resize",this[u]),this[u]=null}}]),e}();e.default=a}),define("componentLibrary-Redux/retrieveValue",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){var n=t.split(/[\.\[\]]/).filter(function(e){return e.length>0}),r=e;while(n.length)r=r[n.shift()];return r}}),define("componentLibrary-Utils/redux/ImportCss",["exports","jquery","componentLibrary-Redux/retrieveValue"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function f(e){return this.store.subscribe(e,l,this)}function l(){var e=(0,i.default)(this.store.store.getState(),this.storeKey);if(this._$cssElement&&this._$cssElement.attr("href")===e)return;p.call(this),this._$cssElement=h.call(this,e),this._$cssElement&&this.$head.append(this._$cssElement),this.isPreload&&e&&o.test(e)?this._$cssElement.on("load error",d.bind(this)):this.isPreload&&d.call(this)}function c(e){return e.replace(/<[a-zA-Z]*>|<|>|\"/g,"").replace(/&(?=([^"']*["'][^"']*["'])*[^"']*$)/g,"")}function h(e){if(!e)return;return o.test(e)?(0,r.default)('<link id="'+u+'" rel="stylesheet" href="'+e+'" type="text/css"/>'):(0,r.default)('<style id="'+u+'">'+c(e)+"</style>")}function p(){this._$cssElement&&this._$cssElement.remove()}function d(){(0,r.default)(this).trigger("preloadCompleted")}Object.defineProperty(e,"__esModule",{value:!0});var r=s(t),i=s(n),o=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)[A-Za-z0-9.-]+(:[0-9]{1,5})?(\/.*)?\.css$/,u="scene-css",a=function(){this.store=null,this.storeKey="css",this.updateActions=[],this.isPreload=!1};a.prototype.initialize=function(){this.$head=(0,r.default)("head")},a.prototype.start=function(){if(!this.store||!this.store.subscribe)return;this.unsubscribes=this.updateActions.map(f.bind(this)),this._$cssElement=(0,r.default)("#"+u),this._$cssElement.length!==1&&l.call(this)},a.prototype.destroy=function(){this.isPreload||p.call(this),this.unsubscribes&&this.unsubscribes.forEach(function(e){e()})},e.default=a}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("jsen",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.jsen=e()}}(function(){var e;return function t(e,n,r){function i(o,u){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!u&&l)return l(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var p=n[o]={exports:{}};e[o][0].call(p.exports,function(t){var n=e[o][1][t];return i(n?n:t)},p,p.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){t.exports=e("./lib/jsen.js")},{"./lib/jsen.js":5}],2:[function(e,t,n){"use strict";function r(e){var t=Object.prototype.toString.call(e);return t.substr(8,t.length-9).toLowerCase()}function i(e,t){var n,r,i=Object.keys(e).sort(),o=Object.keys(t).sort();if(!s(i,o))return!1;for(n=0;n<i.length;n++)if(r=i[n],!s(e[r],t[r]))return!1;return!0}function s(e,t){var n,o=typeof e,u=typeof t;if("object"===o&&(o=r(e)),"object"===u&&(u=r(t)),o!==u)return!1;if("object"===o)return i(e,t);if("regexp"===o)return e.toString()===t.toString();if("array"===o){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!s(e[n],t[n]))return!1;return!0}return e===t}t.exports=s},{}],3:[function(e,t,n){"use strict";var r={};r["date-time"]=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)(:)?(\d\d)(\.\d+)?(Z|([+-])(\d\d)(:)?(\d\d))/,r.uri=/^([a-zA-Z][a-zA-Z0-9+-.]*:){0,1}\/\/[^\s]*$/,r.email=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,r.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,r.ipv6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|[fF][eE]80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::([fF]{4}(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,r.hostname=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]))*$/,t.exports=r},{}],4:[function(e,t,n){"use strict";t.exports=function(){var e=Array.apply(null,arguments),t=e.shift(),n="  ",r="",i="",s=1,o="{[",u="}]",a=function(){for(var e=n,t=0;t++<s-1;)e+=n;return e},f=function(e){r+=a()+e+"\n"},l=function(e){var t=e[0],n=e[e.length-1];return u.indexOf(t)>-1&&o.indexOf(n)>-1?(s--,f(e),s++):o.indexOf(n)>-1?(f(e),s++):u.indexOf(t)>-1?(s--,f(e)):f(e),l};return l.def=function(e,t){return i+=(i?",\n"+n+"    ":"")+e+(void 0!==t?" = "+t:""),l},l.toSource=function(){return"function "+t+"("+e.join(", ")+") {\n"+n+'"use strict"\n'+(i?n+"var "+i+";\n":"")+r+"}"},l.compile=function(e){var t="return ("+l.toSource()+")",n=e||{},r=Object.keys(n),i=r.map(function(e){return n[e]});return Function.apply(null,r.concat(t)).apply(null,i)},l}},{}],5:[function(e,t,n){"use strict";function r(e){return e=e instanceof RegExp?e:new RegExp(e),S?e.toString():"/"+e.source.replace(g,"\\$&")+"/"}function i(e){return'"'+e.replace(y,"\\$1")+'"'}function s(e,t){return b.lastIndex=0,b.test(t)?e+"."+t:e+"["+i(t)+"]"}function o(e){if(void 0===e)return"undefined";var t=Object.prototype.toString.call(e);return t.substr(8,t.length-9).toLowerCase()}function u(e){return(0|e)===e}function a(e,t){O[t].type=e,O[t].keyword=t}function f(e){var t,n,r,i=Object.keys(e),s=i.indexOf("patternProperties"),o={"enum":Array.isArray(e["enum"])&&e["enum"].length>0,type:null,allType:[],perType:{}};for(e.type&&("string"==typeof e.type?o.type=[e.type]:Array.isArray(e.type)&&e.type.length&&(o.type=e.type.slice(0))),r=0;r<i.length;r++)t=i[r],"enum"!==t&&"type"!==t&&(n=O[t],n&&(n.type?(o.perType[n.type]||(o.perType[n.type]=[]),s>-1&&"additionalProperties"===t||o.perType[n.type].push(t)):o.allType.push(t)));return o}function l(e,t){var n,r,i=e.substr(4),s=i.length,o=[],u="",a=!1;for(r=0;s>r;r++)switch(n=i[r]){case".":u&&(u+=n);break;case"[":isNaN(+i[r+1])?(a=!0,u&&(o.push('"'+u+'"'),u="")):(a=!1,u&&(u+="."));break;case"]":o.push(a?u:'"'+u+'"'),u="";break;default:u+=n}return u&&o.push('"'+u+'"'),t&&o.push('"'+t+'"'),1===o.length&&a?'"" + '+o[0]+' + ""':o.join(' + "." + ')||'""'}function c(e){var t,n,r,i,s=e,u=o(e);if("object"===u)for(s={},t=Object.keys(e),i=0,n=t.length;n>i;i++)r=t[i],s[r]=c(e[r]);else if("array"===u)for(s=[],i=0,n=e.length;n>i;i++)s[i]=c(e[i]);else{if("regexp"===u)return new RegExp(e);if("date"===u)return new Date(e.toJSON())}return s}function h(e,t){for(var n=0,r=t.length;r>n;n++)if(T(e,t[n]))return!0;return!1}function p(){this.objects=[],this.properties=[]}function d(e,t,n,r,i){var s,u,a,f,l,h,v;if("object"!==o(e))return t;if(e=r.resolve(e),void 0===t&&e.hasOwnProperty("default")&&(t=c(e["default"])),s=o(t),"object"===s&&"object"===o(e.properties)){for(h=Object.keys(e.properties),f=0;f<h.length;f++)a=h[f],u=d(e.properties[a],t[a],n,r),void 0!==u&&(t[a]=u);if("always"!==n)for(v=Object.keys(t),f=0;f<v.length;f++)a=v[f],h.indexOf(a)<0&&(e.additionalProperties===!1||n===!1&&!e.additionalProperties)&&(i?i.mark(t,a):delete t[a])}else if("array"===s&&e.items){if("array"===o(e.items))for(f=0;f<e.items.length;f++)u=d(e.items[f],t[f],n,r),(void 0!==u||f<t.length)&&(t[f]=u);else if(t.length)for(f=0;f<t.length;f++)t[f]=d(e.items,t[f],n,r)}else if("array"===o(e.allOf)&&e.allOf.length){for(l=new p,f=0;f<e.allOf.length;f++)t=d(e.allOf[f],t,n,r,l);l.deleteDuplicates(),l.dispose()}return t}function v(e){this.path="data",this.schema=e.schema,this.formats=e.formats,this.greedy=e.greedy,this.resolver=e.resolver,this.id=e.id,this.funcache=e.funcache||{},this.scope=e.scope||{equalAny:h,unique:N,ucs2length:L,refs:{}}}function m(e,t){if("object"!==o(e))throw new Error(w);t=t||{};var n=0,r=function(){return"i"+n++},i=new C(e,t.schemas,t.missing$Ref||!1),s=new v({schema:e,resolver:i,id:r,schemas:t.schemas,formats:t.formats,greedy:t.greedy||!1}),u=x("validate","data")("validate.errors = []")('gen(data, "", validate.errors)')("return validate.errors.length === 0").compile({gen:s.compile()});return s.dispose(),s=null,u.errors=[],u.build=function(t,n){return d(e,n&&n.copy===!1?t:c(t),n&&n.additionalProperties,i)},u}var g=/[\/]/g,y=/(")/gim,b=/^[a-z_$][0-9a-z]*$/gi,w="jsen: invalid schema object",E="object"==typeof window&&!!window.navigator,S="/"!==(new RegExp("/")).source,x=e("./func.js"),T=e("./equal.js"),N=e("./unique.js"),C=e("./resolver.js"),k=e("./formats.js"),L=e("./ucs2length.js"),A={},O={};A["null"]=function(e){return e+" === null"},A["boolean"]=function(e){return"typeof "+e+' === "boolean"'},A.string=function(e){return"typeof "+e+' === "string"'},A.number=function(e){return"typeof "+e+' === "number"'},A.integer=function(e){return"typeof "+e+' === "number" && !('+e+" % 1)"},A.array=function(e){return"Array.isArray("+e+")"},A.object=function(e){return"typeof "+e+' === "object" && '+e+" !== null && !Array.isArray("+e+")"},A.date=function(e){return e+" instanceof Date"},O["enum"]=function(e){var t=e.schema["enum"];e.code("if (!equalAny("+e.path+", "+JSON.stringify(t)+")) {"),e.error("enum"),e.code("}")},O.minimum=function(e){"number"==typeof e.schema.minimum&&(e.code("if ("+e.path+" < "+e.schema.minimum+") {"),e.error("minimum"),e.code("}"))},O.exclusiveMinimum=function(e){e.schema.exclusiveMinimum===!0&&"number"==typeof e.schema.minimum&&(e.code("if ("+e.path+" === "+e.schema.minimum+") {"),e.error("exclusiveMinimum"),e.code("}"))},O.maximum=function(e){"number"==typeof e.schema.maximum&&(e.code("if ("+e.path+" > "+e.schema.maximum+") {"),e.error("maximum"),e.code("}"))},O.exclusiveMaximum=function(e){e.schema.exclusiveMaximum===!0&&"number"==typeof e.schema.maximum&&(e.code("if ("+e.path+" === "+e.schema.maximum+") {"),e.error("exclusiveMaximum"),e.code("}"))},O.multipleOf=function(e){if("number"==typeof e.schema.multipleOf){var t=e.schema.multipleOf,n=t.toString().length-t.toFixed(0).length-1,r=n>0?Math.pow(10,n):1,i=e.path;n>0?e.code("if (+(Math.round(("+i+" * "+r+') + "e+" + '+n+') + "e-" + '+n+") % "+t*r+" !== 0) {"):e.code("if ((("+i+" * "+r+") % "+t*r+") !== 0) {"),e.error("multipleOf"),e.code("}")}},O.minLength=function(e){u(e.schema.minLength)&&(e.code("if (ucs2length("+e.path+") < "+e.schema.minLength+") {"),e.error("minLength"),e.code("}"))},O.maxLength=function(e){u(e.schema.maxLength)&&(e.code("if (ucs2length("+e.path+") > "+e.schema.maxLength+") {"),e.error("maxLength"),e.code("}"))},O.pattern=function(e){var t=e.schema.pattern;("string"==typeof t||t instanceof RegExp)&&(e.code("if (!("+r(t)+").test("+e.path+")) {"),e.error("pattern"),e.code("}"))},O.format=function(e){"string"==typeof e.schema.format&&k[e.schema.format]&&(e.code("if (!("+k[e.schema.format]+").test("+e.path+")) {"),e.error("format"),e.code("}"))},O.minItems=function(e){u(e.schema.minItems)&&(e.code("if ("+e.path+".length < "+e.schema.minItems+") {"),e.error("minItems"),e.code("}"))},O.maxItems=function(e){u(e.schema.maxItems)&&(e.code("if ("+e.path+".length > "+e.schema.maxItems+") {"),e.error("maxItems"),e.code("}"))},O.additionalItems=function(e){e.schema.additionalItems===!1&&Array.isArray(e.schema.items)&&(e.code("if ("+e.path+".length > "+e.schema.items.length+") {"),e.error("additionalItems"),e.code("}"))},O.uniqueItems=function(e){e.schema.uniqueItems&&(e.code("if (unique("+e.path+").length !== "+e.path+".length) {"),e.error("uniqueItems"),e.code("}"))},O.items=function(e){var t=e.declare(0),n=0;if("object"===o(e.schema.items))e.code("for ("+t+" = 0; "+t+" < "+e.path+".length; "+t+"++) {"),e.descend(e.path+"["+t+"]",e.schema.items),e.code("}");else if(Array.isArray(e.schema.items)){for(;n<e.schema.items.length;n++)e.code("if ("+e.path+".length - 1 >= "+n+") {"),e.descend(e.path+"["+n+"]",e.schema.items[n]),e.code("}");"object"===o(e.schema.additionalItems)&&(e.code("for ("+t+" = "+n+"; "+t+" < "+e.path+".length; "+t+"++) {"),e.descend(e.path+"["+t+"]",e.schema.additionalItems),e.code("}"))}},O.maxProperties=function(e){u(e.schema.maxProperties)&&(e.code("if (Object.keys("+e.path+").length > "+e.schema.maxProperties+") {"),e.error("maxProperties"),e.code("}"))},O.minProperties=function(e){u(e.schema.minProperties)&&(e.code("if (Object.keys("+e.path+").length < "+e.schema.minProperties+") {"),e.error("minProperties"),e.code("}"))},O.required=function(e){var t,n=e.schema.required,r=e.schema.properties;if(Array.isArray(n))for(t=0;t<n.length;t++)r&&r[n[t]]&&"object"==typeof r[n[t]]||(e.code("if ("+s(e.path,n[t])+" === undefined) {"),e.error("required",n[t]),e.code("}"))},O.properties=function(e){var t,n,r,i=e.schema.properties,u="object"===o(i)?Object.keys(i):[],a=Array.isArray(e.schema.required)?e.schema.required:[];if(u.length)for(n=0;n<u.length;n++)t=u[n],r=s(e.path,t),e.code("if ("+r+" !== undefined) {"),e.descend(r,i[t]),e.code("}"),a.indexOf(t)>-1&&(e.code("else {"),e.error("required",t),e.code("}"))},O.patternProperties=O.additionalProperties=function(e){var t,n,i,s,u,a,f,l="object"===o(e.schema.properties)?Object.keys(e.schema.properties):[],c=e.schema.patternProperties,h="object"===o(c)?Object.keys(c):[],p=e.schema.additionalProperties,d=p===!1||"object"===o(p);if(h.length||d){for(n=e.declare("[]"),i=e.declare('""'),s=e.declare(0),d&&(u=e.declare(!1)),e.code(n+" = Object.keys("+e.path+")"),e.code("for ("+s+" = 0; "+s+" < "+n+".length; "+s+"++) {")(i+" = "+n+"["+s+"]")("if ("+e.path+"["+i+"] === undefined) {")("continue")("}"),d&&e.code(u+" = false"),f=0;f<h.length;f++)a=h[f],e.code("if (("+r(a)+").test("+i+")) {"),e.descend(e.path+"["+i+"]",c[a]),d&&e.code(u+" = true"),e.code("}");d&&(l.length&&(t=e.declare(JSON.stringify(l)),e.code("if ("+t+".indexOf("+i+") > -1) {")("continue")("}")),e.code("if (!"+u+") {"),p===!1?e.error("additionalProperties",void 0,i):e.descend(e.path+"["+i+"]",p),e.code("}")),e.code("}")}},O.dependencies=function(e){if("object"===o(e.schema.dependencies))for(var t,n,r=Object.keys(e.schema.dependencies),i=r.length,u=0,a=0;i>a;a++){if(t=r[a],n=e.schema.dependencies[t],e.code("if ("+s(e.path,t)+" !== undefined) {"),"object"===o(n))e.descend(e.path,n);else for(u;u<n.length;u++)e.code("if ("+s(e.path,n[u])+" === undefined) {"),e.error("dependencies",n[u]),e.code("}");e.code("}")}},O.allOf=function(e){if(Array.isArray(e.schema.allOf))for(var t=0;t<e.schema.allOf.length;t++)e.descend(e.path,e.schema.allOf[t])},O.anyOf=function(e){if(Array.isArray(e.schema.anyOf)){var t=e.greedy,n=e.declare(0),r=e.declare(0),i=e.declare(!1),s=0;for(e.code(r+" = errors.length");s<e.schema.anyOf.length;s++)e.code("if (!"+i+") {"),e.code(n+" = errors.length"),e.greedy=!0,e.descend(e.path,e.schema.anyOf[s]),e.code(i+" = errors.length === "+n)("}");e.greedy=t,e.code("if (!"+i+") {"),e.error("anyOf"),e.code("} else {")("errors.length = "+r)("}")}},O.oneOf=function(e){if(Array.isArray(e.schema.oneOf)){var t=e.greedy,n=e.declare(0),r=e.declare(0),i=e.declare(0),s=0;for(e.code(r+" = errors.length"),e.code(n+" = 0");s<e.schema.oneOf.length;s++)e.code(i+" = errors.length"),e.greedy=!0,e.descend(e.path,e.schema.oneOf[s]),e.code("if (errors.length === "+i+") {")(n+"++")("}");e.greedy=t,e.code("if ("+n+" !== 1) {"),e.error("oneOf"),e.code("} else {")("errors.length = "+r)("}")}},O.not=function(e){if("object"===o(e.schema.not)){var t=e.greedy,n=e.declare(0);e.code(n+" = errors.length"),e.greedy=!0,e.descend(e.path,e.schema.not),e.greedy=t,e.code("if (errors.length === "+n+") {"),e.error("not"),e.code("} else {")("errors.length = "+n)("}")}},["minimum","exclusiveMinimum","maximum","exclusiveMaximum","multipleOf"].forEach(a.bind(null,"number")),["minLength","maxLength","pattern","format"].forEach(a.bind(null,"string")),["minItems","maxItems","additionalItems","uniqueItems","items"].forEach(a.bind(null,"array")),["maxProperties","minProperties","required","properties","patternProperties","additionalProperties","dependencies"].forEach(a.bind(null,"object")),["enum","allOf","anyOf","oneOf","not"].forEach(a.bind(null,null)),p.prototype.mark=function(e,t){var n,r=this.objects.indexOf(e);return 0>r?(this.objects.push(e),n={},n[t]=1,void this.properties.push(n)):(n=this.properties[r],void (n[t]=n[t]?n[t]+1:1))},p.prototype.deleteDuplicates=function(){var e,t,n,r,i;for(r=0;r<this.properties.length;r++)for(e=this.properties[r],t=Object.keys(e),i=0;i<t.length;i++)n=t[i],e[n]>1&&delete this.objects[r][n]},p.prototype.dispose=function(){this.objects.length=0,this.properties.length=0},v.prototype.clone=function(e){var t=new v({schema:e,formats:this.formats,greedy:this.greedy,resolver:this.resolver,id:this.id,funcache:this.funcache,scope:this.scope});return t},v.prototype.declare=function(e){var t=this.id();return this.code.def(t,e),t},v.prototype.cache=function(e,t){var n,r=this.funcache[e];return r||(r=this.funcache[e]={key:this.id()},n=this.clone(t),r.func=n.compile(r.key),this.scope.refs[r.key]=r.func,n.dispose()),"refs."+r.key},v.prototype.error=function(e,t,n){var r=this.schema,s=this.path,o="data"!==s||t?'(path ? path + "." : "") + '+l(s,t)+",":"path,",u=t&&r.properties&&r.properties[t]?this.resolver.resolve(r.properties[t]):null,a=u?u.requiredMessage:r.invalidMessage;a||(a=u&&u.messages&&u.messages[e]||r.messages&&r.messages[e]),this.code("errors.push({"),a&&this.code("message: "+i(a)+","),n&&this.code("additionalProperties: "+n+","),this.code("path: "+o)("keyword: "+i(e))("})"),this.greedy||this.code("return")},v.prototype.refactor=function(e,t,n){var r="data"!==e?'(path ? path + "." : "") + '+l(e):"path",i=this.cache(n,t),s=this.declare();this.code(s+" = "+i+"("+e+", "+r+", errors)"),this.greedy||this.code("if (errors.length) { return }")},v.prototype.descend=function(e,t){var n=this.path,r=this.schema;this.path=e,this.schema=t,this.generate(),this.path=n,this.schema=r},v.prototype.generate=function(){function e(e){O[e](d)}var t,n,s,u,a,l,c,h=this.path,p=this.schema,d=this,v=this.scope;if("object"===o(p)){if(void 0!==p.$ref){if(p=this.resolver.resolve(p),this.resolver.hasRef(p))return void this.refactor(h,p,this.resolver.getNormalizedRef(this.schema)||this.schema.$ref);this.schema=p}if(s=f(p),s["enum"])return void O["enum"](d);u=Object.keys(s.perType);var m=s.type&&s.type.length;for(m&&(this.code("if (!("+s.type.map(function(e){return A[e]?A[e](h):"true"}).join(" || ")+")) {"),this.error("type"),this.code("}")),c=0;c<u.length;c++)l=u[c],this.code((m?"else ":"")+"if ("+A[l](h)+") {"),s.perType[l].forEach(e),this.code("}"),s.type&&(a=s.type.indexOf(l),a>-1&&s.type.splice(a,1));s.type&&!s.type.length&&(this.code("else {"),this.error("type"),this.code("}")),s.allType.forEach(function(e){O[e](d)}),p.format&&this.formats&&(n=this.formats[p.format],n&&("string"==typeof n||n instanceof RegExp?(this.code("if (!("+r(n)+").test("+h+")) {"),this.error("format"),this.code("}")):"function"==typeof n&&((v.formats||(v.formats={}))[p.format]=n,(v.schemas||(v.schemas={}))[p.format]=p,t=i(p.format),this.code("if (!formats["+t+"]("+h+", schemas["+t+"])) {"),this.error("format"),this.code("}"))))}},v.prototype.compile=function(e){return this.code=x("jsen_compiled"+(e?"_"+e:""),"data","path","errors"),this.generate(),this.code.compile(this.scope)},v.prototype.dispose=function(){for(var e in this)this[e]=void 0},m.browser=E,m.clone=c,m.equal=T,m.unique=N,m.ucs2length=L,m.SchemaResolver=C,m.resolve=C.resolvePointer,t.exports=m},{"./equal.js":2,"./formats.js":3,"./func.js":4,"./resolver.js":7,"./ucs2length.js":8,"./unique.js":9}],6:[function(e,t,n){t.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{"default":0}]},simpleTypes:{"enum":["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},"default":{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean","default":!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean","default":!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean","default":!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},"enum":{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},"default":{}}},{}],7:[function(e,t,n){"use strict";function r(e,t){if(!t.length)return e;var n,i=t.shift();return e&&"object"==typeof e&&e.hasOwnProperty(i)&&(n=e[i]),t.length?n&&"object"==typeof n?r(n,t):void 0:n}function i(e){var t=e.indexOf("#"),n={base:e.substr(0,t),path:[]};return 0>t?(n.base=e,n):(e=e.substr(t+1))?(n.path=e.split("/").map(function(e){return decodeURIComponent(e).replace(/~1/g,"/").replace(/~0/g,"~")}),"/"===e[0]&&n.path.shift(),n):n}function s(e,t,n,r){this.rootSchema=e,this.resolvers=null,this.resolvedRootSchema=null,this.cache={},this.idCache={},this.refCache={refs:[],schemas:[]},this.missing$Ref=n,this.refStack=[],r=r||"",this._buildIdCache(e,r),r=this.refCache.refs[this.refCache.schemas.indexOf(this.rootSchema)]||r,this._buildResolvers(t,r)}var o=e("url"),u=e("./metaschema.json"),a="jsen: invalid schema reference",f="jsen: duplicate schema id",l="jsen: circular schema reference";s.prototype._cacheId=function(e,t,n){if(this.idCache[e])throw new Error(f+" "+e);this.idCache[e]={resolver:n,schema:t}},s.prototype._buildIdCache=function(e,t){var n,r,i,s=t;if(e&&"object"==typeof e)for("string"==typeof e.id&&e.id?(s=o.resolve(t,e.id),this._cacheId(s,e,this)):e===this.rootSchema&&t&&this._cacheId(t,e,this),e.$ref&&"string"==typeof e.$ref&&(n=o.resolve(s,e.$ref),this.refCache.schemas.push(e),this.refCache.refs.push(n)),r=Object.keys(e),i=0;i<r.length;i++)this._buildIdCache(e[r[i]],s)},s.prototype._buildResolvers=function(e,t){if(e&&"object"==typeof e){var n=this,r={};Object.keys(e).forEach(function(i){var u=o.resolve(t,i),a=new s(e[i],null,n.missing$Ref,u);n._cacheId(u,a.rootSchema,a),Object.keys(a.idCache).forEach(function(e){n.idCache[e]=a.idCache[e]}),r[i]=a}),this.resolvers=r}},s.prototype.getNormalizedRef=function(e){var t=this.refCache.schemas.indexOf(e);return this.refCache.refs[t]},s.prototype._resolveRef=function(e){var t,n,s,o,f,l=new Error(a+" "+e),c=this.idCache;if(!e||"string"!=typeof e)throw l;if(e===u.id&&(f=u),n=c[e],n&&(f=n.resolver.resolve(n.schema)),void 0===f&&(s=i(e),o=s.path,s.base&&(n=c[s.base]||c[s.base+"#"],n?f=n.resolver.resolve(r(n.schema,o.slice(0))):o.unshift(s.base))),void 0===f&&this.resolvedRootSchema&&(f=r(this.resolvedRootSchema,o.slice(0))),void 0===f&&(f=r(this.rootSchema,o.slice(0))),void 0===f&&o.length&&this.resolvers&&(t=r(this.resolvers,o),t&&(f=t.resolve(t.rootSchema))),void 0===f||"object"!=typeof f){if(!this.missing$Ref)throw l;f={}}return this.cache[e]===f?f:(this.cache[e]=f,void 0!==f.$ref&&(f=this.resolve(f)),f)},s.prototype.resolve=function(e){if(!e||"object"!=typeof e||void 0===e.$ref)return e;var t=this.getNormalizedRef(e)||e.$ref,n=this.cache[t];if(void 0!==n)return n;if(this.refStack.indexOf(t)>-1)throw new Error(l+" "+t);return this.refStack.push(t),n=this._resolveRef(t),this.refStack.pop(),e===this.rootSchema&&(this.resolvedRootSchema=n),n},s.prototype.hasRef=function(e){var t,n,r,i,s=Object.keys(e);if(s.indexOf("$ref")>-1)return!0;for(r=0,t=s.length;t>r;r++)if(n=s[r],e[n]&&"object"==typeof e[n]&&!Array.isArray(e[n])&&(i=this.hasRef(e[n])))return!0;return!1},s.resolvePointer=function(e,t){var n=i(t),s=n.path;return n.base&&(s=[n.base].concat(s)),r(e,s)},t.exports=s},{"./metaschema.json":6,url:14}],8:[function(e,t,n){"use strict";function r(e){for(var t,n,r=0,i=0,s=e.length;s>i;)r++,t=e.charCodeAt(i++),t>=55296&&56319>=t&&s>i&&(n=e.charCodeAt(i++),56320!==(64512&n)&&i--);return r}t.exports=r},{}],9:[function(e,t,n){"use strict";function r(e,t,n){for(var r=0,i=e.length;i>r;r++)if(n(e[r],t))return r;return-1}var i=e("./equal.js");t.exports=function(e){return e.filter(function(e,t,n){return r(n,e,i)===t})},t.exports.findIndex=r},{"./equal.js":2}],10:[function(t,n,r){(function(t){!function(i){function s(e){throw new RangeError(F[e])}function o(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(j,".");var i=e.split("."),s=o(i,t).join(".");return r+s}function f(e){for(var t,n,r=[],i=0,s=e.length;s>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&s>i?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function l(e){return o(e,function(e){var t="";return e>65535&&(e-=65536,t+=R(e>>>10&1023|55296),e=56320|1023&e),t+=R(e)}).join("")}function h(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function p(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function v(e,t,n){var r=0;for(e=n?q(e/M):e>>1,e+=q(e/t);e>I*A>>1;r+=k)e=q(e/I);return q(r+(I+1)*e/(e+O))}function m(e){var t,n,r,i,o,u,a,f,c,p,d=[],m=e.length,g=0,y=D,b=_;for(n=e.lastIndexOf(P),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&s("not-basic"),d.push(e.charCodeAt(r));for(i=n>0?n+1:0;m>i;){for(o=g,u=1,a=k;i>=m&&s("invalid-input"),f=h(e.charCodeAt(i++)),(f>=k||f>q((C-g)/u))&&s("overflow"),g+=f*u,c=b>=a?L:a>=b+A?A:a-b,!(c>f);a+=k)p=k-c,u>q(C/p)&&s("overflow"),u*=p;t=d.length+1,b=v(g-o,t,0==o),q(g/t)>C-y&&s("overflow"),y+=q(g/t),g%=t,d.splice(g++,0,y)}return l(d)}function g(e){var t,n,r,i,o,u,a,l,c,h,d,m,g,y,b,w=[];for(e=f(e),m=e.length,t=D,n=0,o=_,u=0;m>u;++u)d=e[u],128>d&&w.push(R(d));for(r=i=w.length,i&&w.push(P);m>r;){for(a=C,u=0;m>u;++u)d=e[u],d>=t&&a>d&&(a=d);for(g=r+1,a-t>q((C-n)/g)&&s("overflow"),n+=(a-t)*g,t=a,u=0;m>u;++u)if(d=e[u],t>d&&++n>C&&s("overflow"),d==t){for(l=n,c=k;h=o>=c?L:c>=o+A?A:c-o,!(h>l);c+=k)b=l-h,y=k-h,w.push(R(p(h+b%y,0))),l=q(b/y);w.push(R(p(l,0))),o=v(n,g,r==i),n=0,++r}++n,++t}return w.join("")}function y(e){return u(e,function(e){return H.test(e)?m(e.slice(4).toLowerCase()):e})}function w(e){return u(e,function(e){return B.test(e)?"xn--"+g(e):e})}var E="object"==typeof r&&r&&!r.nodeType&&r,S="object"==typeof n&&n&&!n.nodeType&&n,x="object"==typeof t&&t;(x.global===x||x.window===x||x.self===x)&&(i=x);var T,N,C=2147483647,k=36,L=1,A=26,O=38,M=700,_=72,D=128,P="-",H=/^xn--/,B=/[^\x20-\x7E]/,j=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=k-L,q=Math.floor,R=String.fromCharCode;if(T={version:"1.4.1",ucs2:{decode:f,encode:l},decode:m,encode:g,toASCII:w,toUnicode:y},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return T});else if(E&&S)if(n.exports==E)S.exports=T;else for(N in T)T.hasOwnProperty(N)&&(E[N]=T[N]);else i.punycode=T}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,s){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var u=/\+/g;e=e.split(t);var a=1e3;s&&"number"==typeof s.maxKeys&&(a=s.maxKeys);var f=e.length;a>0&&f>a&&(f=a);for(var l=0;f>l;++l){var c,h,p,v,m=e[l].replace(u,"%20"),g=m.indexOf(n);g>=0?(c=m.substr(0,g),h=m.substr(g+1)):(c=m,h=""),p=decodeURIComponent(c),v=decodeURIComponent(h),r(o,p)?i(o[p])?o[p].push(v):o[p]=[o[p],v]:o[p]=v}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],12:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,u){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(o(e),function(o){var u=encodeURIComponent(i(o))+n;return s(e[o])?r(e[o],function(e){return u+encodeURIComponent(i(e))}).join(t):u+encodeURIComponent(i(e[o]))}).join(t):u?encodeURIComponent(i(u))+n+encodeURIComponent(i(e)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],13:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":11,"./encode":12}],14:[function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&f.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function s(e){return f.isString(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function o(e,t){return i(e,!1,!0).resolve(t)}function u(e,t){return e?i(e,!1,!0).resolveObject(t):t}var a=e("punycode"),f=e("./util");n.parse=i,n.resolve=o,n.resolveObject=u,n.format=s,n.Url=r;var l=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","	"],d=["{","}","|","\\","^","`"].concat(p),v=["'"].concat(d),m=["%","/","?",";","#"].concat(v),g=["/","?","#"],y=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=e("querystring");r.prototype.parse=function(e,t,n){if(!f.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",s=e.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),e=s.join(i);var u=e;if(u=u.trim(),!n&&1===e.split("#").length){var c=h.exec(u);if(c)return this.path=u,this.href=u,this.pathname=c[1],c[2]?(this.search=c[2],t?this.query=T.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var p=l.exec(u);if(p){p=p[0];var d=p.toLowerCase();this.protocol=d,u=u.substr(p.length)}if(n||p||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var N="//"===u.substr(0,2);!N||p&&S[p]||(u=u.substr(2),this.slashes=!0)}if(!S[p]&&(N||p&&!x[p])){for(var C=-1,L=0;L<g.length;L++){var A=u.indexOf(g[L]);-1!==A&&(-1===C||C>A)&&(C=A)}var O,M;M=-1===C?u.lastIndexOf("@"):u.lastIndexOf("@",C),-1!==M&&(O=u.slice(0,M),u=u.slice(M+1),this.auth=decodeURIComponent(O)),C=-1;for(var L=0;L<m.length;L++){var A=u.indexOf(m[L]);-1!==A&&(-1===C||C>A)&&(C=A)}-1===C&&(C=u.length),this.host=u.slice(0,C),u=u.slice(C),this.parseHost(),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_)for(var D=this.hostname.split(/\./),L=0,P=D.length;P>L;L++){var H=D[L];if(H&&!H.match(b)){for(var B="",F=0,I=H.length;I>F;F++)B+=H.charCodeAt(F)>127?"x":H[F];if(!B.match(b)){var R=D.slice(0,L),U=D.slice(L+1),z=H.match(w);z&&(R.push(z[1]),U.unshift(z[2])),U.length&&(u="/"+U.join(".")+u),this.hostname=R.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=a.toASCII(this.hostname));var W=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+W,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!E[d])for(var L=0,P=v.length;P>L;L++){var V=v[L];if(-1!==u.indexOf(V)){var $=encodeURIComponent(V);$===V&&($=escape(V)),u=u.split(V).join($)}}var J=u.indexOf("#");-1!==J&&(this.hash=u.substr(J),u=u.slice(0,J));var K=u.indexOf("?");if(-1!==K?(this.search=u.substr(K),this.query=u.substr(K+1),t&&(this.query=T.parse(this.query)),u=u.slice(0,K)):t&&(this.search="",this.query={}),u&&(this.pathname=u),x[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var W=this.pathname||"",Q=this.search||"";this.path=W+Q}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&f.isObject(this.query)&&Object.keys(this.query).length&&(s=T.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||x[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),o=o.replace("#","%23"),t+i+n+o+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(f.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),s=0;s<i.length;s++){var o=i[s];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),a=0;a<u.length;a++){var l=u[a];"protocol"!==l&&(n[l]=e[l])}return x[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!x[e.protocol]){for(var c=Object.keys(e),h=0;h<c.length;h++){var p=c[h];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||S[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",m=n.search||"";n.path=v+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||g||n.host&&e.pathname,w=b,E=n.pathname&&n.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],T=n.protocol&&!x[n.protocol];if(T&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),b=b&&(""===d[0]||""===E[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),n.search=e.search,n.query=e.query;else if(!f.isNullOrUndefined(e.search)){if(T){n.hostname=n.host=E.shift();var N=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;N&&(n.auth=N.shift(),n.host=n.hostname=N.shift())}return n.search=e.search,n.query=e.query,f.isNull(n.pathname)&&f.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=E.slice(-1)[0],k=(n.host||e.host||E.length>1)&&("."===C||".."===C)||""===C,L=0,A=E.length;A>=0;A--)C=E[A],"."===C?E.splice(A,1):".."===C?(E.splice(A,1),L++):L&&(E.splice(A,1),L--);if(!b&&!w)for(;L--;L)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),k&&"/"!==E.join("/").substr(-1)&&E.push("");var O=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(T){n.hostname=n.host=O?"":E.length?E.shift():"";var N=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;N&&(n.auth=N.shift(),n.host=n.hostname=N.shift())}return b=b||n.host&&E.length,b&&!O&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),f.isNull(n.pathname)&&f.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=c.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":15,punycode:10,querystring:13}],15:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}]},{},[1])(1)}),define("componentLibrary-Utils/redux/JsonValidator",["exports","jsen"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=r(t),i=function(){this.selector=null,this.schema=null,this.successFactory=null,this.errorFactory=null};i.prototype.start=function(){var e=JSON.parse(this.selector(this.state)),t=(0,n.default)(this.schema);t(e)?this.successFactory.create():this.errorFactory.create()},e.default=i}),define("componentLibrary-Utils/StopPropagation",["exports"],function(e){"use strict";function n(e){e.stopPropagation()}Object.defineProperty(e,"__esModule",{value:!0});var t=function(){this.renderer=null,this.eventName="click",this.eventNames=[]};t.prototype.start=function(){this.eventNames.length===0&&this.eventName&&(this.eventNames=[this.eventName]),this.eventNames.forEach(function(e){this.renderer.$el.on(e+"."+this.UID,n)},this)},t.prototype.destroy=function(){this.renderer&&this.renderer.$el&&this.renderer.$el.off&&this.renderer.$el.off(this.UID)},e.default=t}),function(e,t){typeof define=="function"&&define.amd?define("ComponentSystem",[],t):e.componentSystem=t()}(this,function(){var e,t,n;return function(r){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v=t&&t.split("/"),m=l.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e=v.concat(e);for(c=0;c<e.length;c+=1){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===1&&(e[2]===".."||e[0]===".."))break;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(v)for(h=v.length;h>0;h-=1){i=m[v.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&g&&g[r]&&(a=g[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(e,t){return function(){return s.apply(r,p.call(arguments,0).concat([e,t]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(e){if(v(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!v(a,e)&&!v(c,e))throw new Error("No "+e);return a[e]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:S(e)}}},i=function(e,t,n,i){var s,l,h,p,d,m=[],y=typeof n,E;i=i||e;if(y==="undefined"||y==="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(d=0;d<t.length;d+=1){p=o(t[d],i),l=p.f;if(l==="require")m[d]=u.require(e);else if(l==="exports")m[d]=u.exports(e),E=!0;else if(l==="module")s=m[d]=u.module(e);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=n?n.apply(a[e],m):undefined;if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!E)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){if(typeof e=="string")return u[e]?u[e](t):w(o(e,t).f);if(!e.splice){l=e,l.deps&&s(l.deps,l.callback);if(!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s},s.config=function(e){return s(e)},e._defined=a,n=function(e,t,n){t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("../../bower_components/almond/almond",function(){}),n("componentize",[],function(){function e(e,t){for(var n in t)e[n]=t[n]}function t(e){return e===""||this[e]===null||this[e]===undefined}function n(e){var t;for(t in this.components)if(this.components[t]instanceof e)return this.components[t];return null}function r(e){var t=[],n;for(n in this.components){if(!(this.components[n]instanceof e))continue;t.push(this.components[n])}return t}function i(e,t,n){delete this.children[t],e.parent=null,n||e.destroy()}function s(e,t){if(e.parent!==this)return;for(var n in this.children)this.children[n]===e&&i.call(this,e,n,t)}function o(){for(var e in this.children)i.call(this,this.children[e],e)}function u(e){return this.getComponent(e)!==null}function a(){return Object.keys(this.children).length!==0}function f(e){this.runComponentsStart(e),this.runComponentsUpdate(e)}return function(i,l,c){function g(t,n,r){var i=new t;return i.entity=this,this.components[r]=i,h.push(i),Object.defineProperty(i,"UID",{get:function(){return i.entity.UID+"."+r}}),n&&e(i,n),i.initialize&&i.initialize(),i}var h=[],p=[],d=[];i.components={},i.children={},c=c||{};var v=0,m=!1;Object.defineProperty(i,"destroyed",{get:function(){return m}}),Object.defineProperty(i,"UID",{get:function(){return l}}),i.addComponent=function(){var e,n,r;arguments.length===1&&(e="",n=arguments[0],r={}),arguments.length===2?(e="",n=arguments[0],r=arguments[1]):arguments.length===3&&(e=arguments[0],n=arguments[1],r=arguments[2]);if(!t.call(this))throw new Error(e+" already exists on entity.");var i=g.call(this,n,r,v++);return Object.defineProperty(i,"componentName",{configurable:!1,enumerable:!1,writable:!1,value:e}),e!==""&&(this[e]=i),i},i.destroy=function(){if(m)return;this.parent&&this.parent.removeChild(this,!0),this.removeAllComponents(),this.removeAllChildren(),m=!0},i.addChild=function(e,t){t||(t=e,e=t.UID);if(t.parent===this)return;t.parent&&t.parent.removeChild(t,!0);if(this===t)throw new Error("Entity can not add itself as a child");var n=this.parent;while(n){if(n===t)throw new Error("Child can not be added because it already exists in the parenting chain");n=n.parent}this.children[e]=t,t.parent=this,c.updateChildName&&c.updateChildName(t,e)},i.runComponentsStart=function(e){if(h.length===0)return;var t=[];while(h.length)t.push(h.shift());var n;for(var r=0;r<t.length;++r)n=t[r],n.start&&n.entity&&n.start(e),n.update&&p.push(n)},i.runComponentsUpdate=function(e){for(var t=0;t<p.length;++t){var n=p[t];if(!n.entity){d.push(n);continue}n.update(e)}while(d.length)p.splice(p.indexOf(d.pop()),1)},i.removeComponent=function(e){e.destroy&&e.destroy();var t;for(t in this.components)if(this.components[t]===e){delete this.components[t];break}if(e.start){var n=h.indexOf(e);n>=0&&h.splice(n,1)}e.componentName&&delete e.entity[e.componentName],e.entity=null},i.removeAllComponents=function(){var e;for(var t in this.components)e=this.components[t],e.destroy&&e.destroy(),e.componentName&&delete e.entity[e.componentName],e.entity=null;this.components={},h=[],p=[]},i.getComponent=n,i.getComponents=r,i.removeChild=s,i.removeAllChildren=o,i.hasComponent=u,i.hasChildren=a,i.runComponents=f}}),n("system",["require","componentize"],function(e){function o(e){if(n[e].destroyed){var t=i[e];return n[e].removeAllComponents(),n[e]=undefined,i[e]=undefined,s[t]&&s[t].destroyed&&delete s[t],!0}return!1}function u(e,t,n){for(var r in e.children){if(!e.children.hasOwnProperty(r))continue;var o=e.children[r],a=i[o.UID],f=i[o.UID].replace(t,n);i[o.UID]=f,delete s[a],s[f]=o,u(o,t,n)}}function a(e,t){var n=i[e.UID],r=i[e.parent.UID]+"."+t;n&&(delete s[n],u(e,n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),r)),i[e.UID]=r,s[r]=e}var t=e("componentize"),n=[],r=[],i=[],s={};return{createEntity:function(e){var r={},o;for(o=0;o<n.length;++o)if(!n[o])break;return e=e||o.toString(),t(r,o,{updateChildName:a}),n[o]=r,i[o]=e,s[e]=r,r},update:function(e){var t;for(t=0;t<n.length;++t)r[t]=n[t]!==undefined;for(t=0;t<n.length;++t){if(!n[t]||!r[t])continue;o(t)||n[t].runComponentsStart(e)}for(t=0;t<n.length;++t){r[t]=!1;if(!n[t])continue;o(t)||n[t].runComponentsUpdate(e)}},allInstancesOfComponent:function(e){var t=[];for(var r=0;r<n.length;++r){if(!n[r]||n[r].destroyed)continue;var i=n[r].getComponents(e);if(!i)continue;t=t.concat(i)}return t},firstInstanceOfComponent:function(e){for(var t=0;t<n.length;++t){if(!n[t]||n[t].destroyed)continue;var r=n[t].getComponent(e);if(!r)continue;return r}return null},start:function(){for(var e=0;e<n.length;++e){if(!n[e])continue;n[e].removeAllComponents(),n[e].destroy()}n=[],i=[],s={},this.Entities=s},Entities:s}}),n("main",["require","system"],function(e){return e("system")}),t("main")}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("redux",["exports"],t):t((e=e||self).Redux={})}(this,function(e){"use strict";function i(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+n+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function s(e,t){return function(){return t(e.apply(this,arguments))}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function a(e){for(var t=1;arguments.length>t;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var t=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()),n=function(){return Math.random().toString(36).substring(7).split("").join(".")},r={INIT:"@@redux/INIT"+n(),REPLACE:"@@redux/REPLACE"+n(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+n()}};e.__DO_NOT_USE__ActionTypes=r,e.applyMiddleware=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map(function(e){return e(i)});return a({},n,{dispatch:r=f.apply(void 0,s)(n.dispatch)})}}},e.bindActionCreators=function(e,t){if("function"==typeof e)return s(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=s(i,t))}return n},e.combineReducers=function(e){for(var t=Object.keys(e),n={},s=0;t.length>s;s++){var o=t[s];"function"==typeof e[o]&&(n[o]=e[o])}var u,a=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:r.INIT}))throw Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:r.PROBE_UNKNOWN_ACTION()}))throw Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){u=e}return function(e,t){if(void 0===e&&(e={}),u)throw u;for(var r=!1,s={},o=0;a.length>o;o++){var f=a[o],l=e[f],h=(0,n[f])(l,t);if(void 0===h){var p=i(f,t);throw Error(p)}s[f]=h,r=r||h!==l}return(r=r||a.length!==Object.keys(e).length)?s:e}},e.compose=f,e.createStore=function l(e,n,i){function h(){f===a&&(f=a.slice())}function p(){if(c)throw Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function d(e){if("function"!=typeof e)throw Error("Expected the listener to be a function.");if(c)throw Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return h(),f.push(e),function(){if(t){if(c)throw Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,h();var n=f.indexOf(e);f.splice(n,1),a=null}}}function v(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw Error("Reducers may not dispatch actions.");try{c=!0,u=o(u,e)}finally{c=!1}for(var t=a=f,n=0;t.length>n;n++)(0,t[n])();return e}var s;if("function"==typeof n&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof n&&void 0===i&&(i=n,n=void 0),void 0!==i){if("function"!=typeof i)throw Error("Expected the enhancer to be a function.");return i(l)(e,n)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var o=e,u=n,a=[],f=a,c=!1;return v({type:r.INIT}),(s={dispatch:v,subscribe:d,getState:p,replaceReducer:function(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");o=e,v({type:r.REPLACE})}})[t]=function(){var e,n=d;return(e={subscribe:function(e){function t(){e.next&&e.next(p())}if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");return t(),{unsubscribe:n(t)}}})[t]=function(){return this},e},s},Object.defineProperty(e,"__esModule",{value:!0})}),define("componentLibrary-Redux/ReduxStore",["exports","redux"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return function(t){return function(t){return function(n){var r=t(n),i=e[n.type];return i&&i.forEach(function(e){return e.callback.call(e.context)}),r}}}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=0,s=function(){function e(){n(this,e),this.reducers=null}return r(e,[{key:"initialize",value:function(){this.actionCallbacks={};var n=o(this.actionCallbacks),r=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||t.compose;this.store=(0,t.createStore)(this.reducers,r((0,t.applyMiddleware)(n)))}},{key:"subscribe",value:function(t,n,r){var i=this;this.actionCallbacks[t]||(this.actionCallbacks[t]=[]);var s={callback:n,context:r};return this.actionCallbacks[t].push(s),function(){return i.actionCallbacks[t]=i.actionCallbacks[t].filter(function(e){return e!==s})}}},{key:"getState",value:function(){return this.store.getState()}},{key:"dispatch",value:function(t){return this.store.dispatch(t)}}]),e}();e.default=s}),define("componentLibrary-Redux/ConnectToStore",["exports","ComponentSystem","./ReduxStore"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){Object.defineProperty(e,"actions",{get:function(){return Object.freeze(this.dispatchMap.call(e,this.reduxStore.dispatch,this.currentState,this.properties))}.bind(this),set:function(e){throw new Error("ConnectToStore component disables setting the actions property directly.")}.bind(this)})}function c(e){Object.defineProperty(e,"state",{get:function(){return this.currentState}.bind(this),set:function(e){throw new Error("ConnectToStore component disables setting the state property directly.")}.bind(this)})}function h(e){var t=e.UID;Object.defineProperty(e,"autoUpdate",{get:function(){return this.subscriptions[t].autoUpdate}.bind(this),set:function(e){this.subscriptions[t].autoUpdate=!!e;var n=this.subscriptions[t],r=n.stateUpdated,i=n.context;!e||r.call(i,this.currentState,this.prevState)}.bind(this)})}function p(){if(!this.reduxStore){var e=r.default.firstInstanceOfComponent(i.default);if(!e)throw new Error("Cannot find redux store for connectToStore component; expected ComponentSystem.firstInstanceOfComponent(ReduxStore) to return a store");this.reduxStore=e}this.reduxStore=this.reduxStore.store||this.reduxStore,this.currentState=Object.freeze(o({},this.stateMap(this.reduxStore.getState(),this.properties))),this.prevState=this.currentState}function d(){var e=this;this.prevState=this.currentState,this.currentState=Object.freeze(o({},this.stateMap(this.reduxStore.getState(),this.properties)));var t=this.prevState;Object.values(this.subscriptions).forEach(function(n){var r=n.stateUpdated,i=n.context,s=n.autoUpdate;s!==!1&&r.call(i,e.currentState,t)})}Object.defineProperty(e,"__esModule",{value:!0});var r=s(t),i=s(n),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(){function e(){u(this,e),this.reduxStore=null,this.stateMap=null,this.dispatchMap=null,this.shouldBindState=null,this.shouldBindActions=null,this.actions=!1,this.state=!1,this.properties={}}return a(e,[{key:"initialize",value:function(){this.currentState={},this.prevState={},this.subscriptions={},this.unsubscribe=null,this.stateMap||(this.stateMap=function(){return{}},this.shouldBindState=this.shouldBindState||!1),this.dispatchMap||(this.dispatchMap=function(){return{}},this.shouldBindActions=this.shouldBindActions||!1)}},{key:"start",value:function(){var t=this;p.call(this);var n=this.entity.components;Object.keys(n).forEach(function(e){if(!n.hasOwnProperty(e))return;var r=n[e],i=r.UID;t.shouldBindState!==!1&&r.state!==!1&&c.call(t,r),t.shouldBindActions!==!1&&r.actions!==!1&&l.call(t,r),r.stateUpdated&&(t.subscriptions[i]={stateUpdated:r.stateUpdated,context:r,autoUpdate:r.autoUpdate!==!1},h.call(t,r))}),this.unsubscribe=this.reduxStore.subscribe(d.bind(this))}},{key:"destroy",value:function(){this.unsubscribe&&this.unsubscribe(),this.subscriptions={}}}]),e}();e.default=f}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define("underscore",t):(e=e||self,function(){var n=e._,r=e._=t();r.noConflict=function(){return e._=n,r}}())}(this,function(){function b(e,t){return t=t==null?e.length-1:+t,function(){var n=Math.max(arguments.length-t,0),r=Array(n),i=0;for(;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var s=Array(t+1);for(i=0;i<t;i++)s[i]=arguments[i];return s[t]=r,e.apply(this,s)}}function w(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function E(e){return e===null}function S(e){return e===void 0}function x(e){return e===!0||e===!1||u.call(e)==="[object Boolean]"}function T(e){return!!e&&e.nodeType===1}function N(e){return function(t){return u.call(t)==="[object "+e+"]"}}function U(e,t){return e!=null&&a.call(e,t)}function X(e){return!M(e)&&v(e)&&!isNaN(parseFloat(e))}function V(e){return k(e)&&d(e)}function $(e){return function(){return e}}function J(e){return function(t){var n=e(t);return typeof n=="number"&&n>=0&&n<=y}}function K(e){return function(t){return t==null?void 0:t[e]}}function Z(e){return p?p(e)&&!j(e):G(e)&&Y.test(u.call(e))}function rt(e){var t={};for(var n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}function it(e,t){t=rt(t);var n=g.length,i=e.constructor,s=R(i)&&i.prototype||r,o="constructor";U(e,o)&&!t.contains(o)&&t.push(o);while(n--)o=g[n],o in e&&e[o]!==s[o]&&!t.contains(o)&&t.push(o)}function st(e){if(!w(e))return[];if(c)return c(e);var t=[];for(var n in e)U(e,n)&&t.push(n);return m&&it(e,t),t}function ot(e){return e==null?!0:nt(e)&&(F(e)||C(e)||W(e))?e.length===0:st(e).length===0}function ut(e,t){var n=st(t),r=n.length;if(e==null)return!r;var i=Object(e);for(var s=0;s<r;s++){var o=n[s];if(t[o]!==i[o]||!(o in i))return!1}return!0}function at(e){if(e instanceof at)return e;if(!(this instanceof at))return new at(e);this._wrapped=e}function ft(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:lt(e,t,n,r)}function lt(e,t,n,r){e instanceof at&&(e=e._wrapped),t instanceof at&&(t=t._wrapped);var s=u.call(e);if(s!==u.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return i.valueOf.call(e)===i.valueOf.call(t);case"[object ArrayBuffer]":return lt(new DataView(e),new DataView(t),n,r);case"[object DataView]":var o=Q(e);if(o!==Q(t))return!1;while(o--)if(e.getUint8(o)!==t.getUint8(o))return!1;return!0}if(et(e))return lt(new DataView(e.buffer),new DataView(t.buffer),n,r);var a=s==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var f=e.constructor,l=t.constructor;if(f!==l&&!(R(f)&&f instanceof f&&R(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var c=n.length;while(c--)if(n[c]===e)return r[c]===t;n.push(e),r.push(t);if(a){c=e.length;if(c!==t.length)return!1;while(c--)if(!ft(e[c],t[c],n,r))return!1}else{var h=st(e),p;c=h.length;if(st(t).length!==c)return!1;while(c--){p=h[c];if(!U(t,p)||!ft(e[p],t[p],n,r))return!1}}return n.pop(),r.pop(),!0}function ct(e,t){return ft(e,t)}function ht(e){if(!w(e))return[];var t=[];for(var n in e)t.push(n);return m&&it(e,t),t}function pt(e){var t=st(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r}function dt(e){var t=st(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function vt(e){var t={},n=st(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function mt(e){var t=[];for(var n in e)R(e[n])&&t.push(n);return t.sort()}function gt(e,t){return function(n){var r=arguments.length;t&&(n=Object(n));if(r<2||n==null)return n;for(var i=1;i<r;i++){var s=arguments[i],o=e(s),u=o.length;for(var a=0;a<u;a++){var f=o[a];if(!t||n[f]===void 0)n[f]=s[f]}}return n}}function Et(){return function(){}}function St(e){if(!w(e))return{};if(h)return h(e);var t=Et();t.prototype=e;var n=new t;return t.prototype=null,n}function xt(e,t){var n=St(e);return t&&bt(n,t),n}function Tt(e){return w(e)?F(e)?e.slice():yt({},e):e}function Nt(e,t){return t(e),e}function Ct(e,t){if(!F(t))return U(e,t);var n=t.length;for(var r=0;r<n;r++){var i=t[r];if(e==null||!a.call(e,i))return!1;e=e[i]}return!!n}function kt(e){return e}function Lt(e){return e=bt({},e),function(t){return ut(t,e)}}function At(e,t){var n=t.length;for(var r=0;r<n;r++){if(e==null)return void 0;e=e[t[r]]}return n?e:void 0}function Ot(e){return F(e)?function(t){return At(t,e)}:K(e)}function Mt(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return function(){return e.apply(t,arguments)}}function _t(e,t,n){return e==null?kt:R(e)?Mt(e,t,n):w(e)&&!F(e)?Lt(e):Ot(e)}function Dt(e,t){return _t(e,t,Infinity)}function Pt(e,t,n){return at.iteratee!==Dt?at.iteratee(e,t):_t(e,t,n)}function Ht(e,t,n){t=Pt(t,n);var r=st(e),i=r.length,s={};for(var o=0;o<i;o++){var u=r[o];s[u]=t(e[u],u,e)}return s}function Bt(){}function jt(e){return e==null?function(){}:function(t){return F(t)?At(e,t):e[t]}}function Ft(e,t,n){var r=Array(Math.max(0,e));t=Mt(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function It(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}function Rt(e){var t=function(t){return e[t]},n="(?:"+st(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==null?"":""+e,r.test(e)?e.replace(i,t):e}}function Qt(e){return"\\"+Jt[e]}function Gt(e,t,n){!t&&n&&(t=n),t=wt({},t,at.templateSettings);var r=RegExp([(t.escape||$t).source,(t.interpolate||$t).source,(t.evaluate||$t).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(Kt,Qt),i=u+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";var o;try{o=new Function(t.variable||"obj","_",s)}catch(u){throw u.source=s,u}var a=function(e){return o.call(this,e,at)},f=t.variable||"obj";return a.source="function("+f+"){\n"+s+"}",a}function Yt(e,t,n){F(t)||(t=[t]);var r=t.length;if(!r)return R(n)?n.call(e):n;for(var i=0;i<r;i++){var s=e==null?void 0:e[t[i]];s===void 0&&(s=n,i=r),e=R(s)?s.call(e):s}return e}function en(e){var t=++Zt+"";return e?e+t:t}function tn(e){var t=at(e);return t._chain=!0,t}function nn(e,t,n,r,i){if(r instanceof t){var s=St(e.prototype),o=e.apply(s,i);return w(o)?o:s}return e.apply(n,i)}function on(e,t,n,r){r=r||[];if(!t&&t!==0)t=Infinity;else if(t<=0)return r.concat(e);var i=r.length;for(var s=0,o=tt(e);s<o;s++){var u=e[s];if(nt(u)&&(F(u)||W(u)))if(t>1)on(u,t-1,n,r),i=r.length;else{var a=0,f=u.length;while(a<f)r[i++]=u[a++]}else n||(r[i++]=u)}return r}function an(e,t){var n=function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return U(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return n.cache={},n}function cn(e,t,n){var r,i,s,o,u=0;n||(n={});var a=function(){u=n.leading===!1?0:qt(),r=null,o=e.apply(i,s),r||(i=s=null)},f=function(){var f=qt();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return i=this,s=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),u=f,o=e.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(a,l)),o};return f.cancel=function(){clearTimeout(r),u=0,r=i=s=null},f}function hn(e,t,n){var r,i,s=function(t,n){r=null,n&&(i=e.apply(t,n))},o=b(function(o){r&&clearTimeout(r);if(n){var u=!r;r=setTimeout(s,t),u&&(i=e.apply(this,o))}else r=fn(s,t,this,o);return i});return o.cancel=function(){clearTimeout(r),r=null},o}function pn(e,t){return rn(t,e)}function dn(e){return function(){return!e.apply(this,arguments)}}function vn(){var e=arguments,t=e.length-1;return function(){var n=t,r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}}function mn(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function gn(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}function bn(e,t,n){t=Pt(t,n);var r=st(e),i;for(var s=0,o=r.length;s<o;s++){i=r[s];if(t(e[i],i,e))return i}}function wn(e){return function(t,n,r){n=Pt(n,r);var i=tt(t),s=e>0?0:i-1;for(;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}function xn(e,t,n,r){n=Pt(n,r,1);var i=n(t),s=0,o=tt(e);while(s<o){var u=Math.floor((s+o)/2);n(e[u])<i?s=u+1:o=u}return s}function Tn(e,t,n){return function(r,i,s){var u=0,a=tt(r);if(typeof s=="number")e>0?u=s>=0?s:Math.max(s+a,u):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=t(o.call(r,u,a),V),s>=0?s+u:-1;for(s=e>0?u:a-1;s>=0&&s<a;s+=e)if(r[s]===i)return s;return-1}}function kn(e,t,n){var r=nt(e)?En:bn,i=r(e,t,n);if(i!==void 0&&i!==-1)return e[i]}function Ln(e,t){return kn(e,Lt(t))}function An(e,t,n){t=Mt(t,n);var r,i;if(nt(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=st(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e}function On(e,t,n){t=Pt(t,n);var r=!nt(e)&&st(e),i=(r||e).length,s=Array(i);for(var o=0;o<i;o++){var u=r?r[o]:o;s[o]=t(e[u],u,e)}return s}function Mn(e){var t=function(t,n,r,i){var s=!nt(t)&&st(t),o=(s||t).length,u=e>0?0:o-1;i||(r=t[s?s[u]:u],u+=e);for(;u>=0&&u<o;u+=e){var a=s?s[u]:u;r=n(r,t[a],a,t)}return r};return function(e,n,r,i){var s=arguments.length>=3;return t(e,Mt(n,i,4),r,s)}}function Pn(e,t,n){var r=[];return t=Pt(t,n),An(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function Hn(e,t,n){return Pn(e,dn(Pt(t)),n)}function Bn(e,t,n){t=Pt(t,n);var r=!nt(e)&&st(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(!t(e[o],o,e))return!1}return!0}function jn(e,t,n){t=Pt(t,n);var r=!nt(e)&&st(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(t(e[o],o,e))return!0}return!1}function Fn(e,t,n,r){nt(e)||(e=pt(e));if(typeof n!="number"||r)n=0;return Nn(e,t,n)>=0}function qn(e,t){return On(e,Ot(t))}function Rn(e,t){return Pn(e,Lt(t))}function Un(e,t,n){var r=-Infinity,i=-Infinity,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=nt(e)?e:pt(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s!=null&&s>r&&(r=s)}else t=Pt(t,n),An(e,function(e,n,s){o=t(e,n,s);if(o>i||o===-Infinity&&r===-Infinity)r=e,i=o});return r}function zn(e,t,n){var r=Infinity,i=Infinity,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=nt(e)?e:pt(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s!=null&&s<r&&(r=s)}else t=Pt(t,n),An(e,function(e,n,s){o=t(e,n,s);if(o<i||o===Infinity&&r===Infinity)r=e,i=o});return r}function Wn(e,t,n){if(t==null||n)return nt(e)||(e=pt(e)),e[It(e.length-1)];var r=nt(e)?Tt(e):pt(e),i=tt(r);t=Math.max(Math.min(t,i),0);var s=i-1;for(var o=0;o<t;o++){var u=It(o,s),a=r[o];r[o]=r[u],r[u]=a}return r.slice(0,t)}function Xn(e){return Wn(e,Infinity)}function Vn(e,t,n){var r=0;return t=Pt(t,n),qn(On(e,function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")}function $n(e,t){return function(n,r,i){var s=t?[[],[]]:{};return r=Pt(r,i),An(n,function(t,i){var o=r(t,i,n);e(s,t,o)}),s}}function Zn(e){return e?F(e)?o.call(e):C(e)?e.match(Yn):nt(e)?On(e,kt):pt(e):[]}function er(e){return e==null?0:nt(e)?e.length:st(e).length}function tr(e,t,n){return t in n}function ir(e,t,n){return o.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))}function sr(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[0]:ir(e,e.length-t)}function or(e,t,n){return o.call(e,t==null||n?1:t)}function ur(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[e.length-1]:or(e,Math.max(0,e.length-t))}function ar(e){return Pn(e,Boolean)}function fr(e,t){return on(e,t,!1)}function hr(e,t,n,r){x(t)||(r=n,n=t,t=!1),n!=null&&(n=Pt(n,r));var i=[],s=[];for(var o=0,u=tt(e);o<u;o++){var a=e[o],f=n?n(a,o,e):a;t&&!n?((!o||s!==f)&&i.push(a),s=f):n?Fn(s,f)||(s.push(f),i.push(a)):Fn(i,a)||i.push(a)}return i}function dr(e){var t=[],n=arguments.length;for(var r=0,i=tt(e);r<i;r++){var s=e[r];if(Fn(t,s))continue;var o;for(o=1;o<n;o++)if(!Fn(arguments[o],s))break;o===n&&t.push(s)}return t}function vr(e){var t=e&&Un(e,tt).length||0,n=Array(t);for(var r=0;r<t;r++)n[r]=qn(e,r);return n}function gr(e,t){var n={};for(var r=0,i=tt(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function yr(e,t,n){t==null&&(t=e||0,e=0),n||(n=t<e?-1:1);var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r);for(var s=0;s<r;s++,e+=n)i[s]=e;return i}function br(e,t){if(t==null||t<1)return[];var n=[],r=0,i=e.length;while(r<i)n.push(o.call(e,r,r+=t));return n}function wr(e,t){return e._chain?at(t).chain():t}function Er(e){return An(mt(e),function(t){var n=at[t]=e[t];at.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),wr(this,n.apply(at,e))}}),at}var e="1.11.0",t=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},n=Array.prototype,r=Object.prototype,i=typeof Symbol!="undefined"?Symbol.prototype:null,s=n.push,o=n.slice,u=r.toString,a=r.hasOwnProperty,f=typeof ArrayBuffer!="undefined",l=Array.isArray,c=Object.keys,h=Object.create,p=f&&ArrayBuffer.isView,d=isNaN,v=isFinite,m=!{toString:null}.propertyIsEnumerable("toString"),g=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],y=Math.pow(2,53)-1,C=N("String"),k=N("Number"),L=N("Date"),A=N("RegExp"),O=N("Error"),M=N("Symbol"),_=N("Map"),D=N("WeakMap"),P=N("Set"),H=N("WeakSet"),B=N("ArrayBuffer"),j=N("DataView"),F=l||N("Array"),I=N("Function"),q=t.document&&t.document.childNodes;typeof /./!="function"&&typeof Int8Array!="object"&&typeof q!="function"&&(I=function(e){return typeof e=="function"||!1});var R=I,z=N("Arguments");(function(){z(arguments)||(z=function(e){return U(e,"callee")})})();var W=z,Q=K("byteLength"),G=J(Q),Y=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,et=f?Z:$(!1),tt=K("length"),nt=J(tt);at.VERSION=e,at.prototype.value=function(){return this._wrapped},at.prototype.valueOf=at.prototype.toJSON=at.prototype.value,at.prototype.toString=function(){return String(this._wrapped)};var yt=gt(ht),bt=gt(st),wt=gt(ht,!0);at.iteratee=Dt;var qt=Date.now||function(){return(new Date).getTime()},Ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},zt=Rt(Ut),Wt=vt(Ut),Xt=Rt(Wt),Vt=at.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},$t=/(.)^/,Jt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Kt=/\\|'|\r|\n|\u2028|\u2029/g,Zt=0,rn=b(function(e,t){var n=rn.placeholder,r=function(){var i=0,s=t.length,o=Array(s);for(var u=0;u<s;u++)o[u]=t[u]===n?arguments[i++]:t[u];while(i<arguments.length)o.push(arguments[i++]);return nn(e,r,this,this,o)};return r});rn.placeholder=at;var sn=b(function(e,t,n){if(!R(e))throw new TypeError("Bind must be called on a function");var r=b(function(i){return nn(e,r,t,this,n.concat(i))});return r}),un=b(function(e,t){t=on(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");while(n--){var r=t[n];e[r]=sn(e[r],e)}return e}),fn=b(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),ln=rn(fn,at,1),yn=rn(gn,2),En=wn(1),Sn=wn(-1),Nn=Tn(1,En,xn),Cn=Tn(-1,Sn),_n=Mn(1),Dn=Mn(-1),In=b(function(e,t,n){var r,i;return R(t)?i=t:F(t)&&(r=t.slice(0,-1),t=t[t.length-1]),On(e,function(e){var s=i;if(!s){r&&r.length&&(e=At(e,r));if(e==null)return void 0;s=e[t]}return s==null?s:s.apply(e,n)})}),Jn=$n(function(e,t,n){U(e,n)?e[n].push(t):e[n]=[t]}),Kn=$n(function(e,t,n){e[n]=t}),Qn=$n(function(e,t,n){U(e,n)?e[n]++:e[n]=1}),Gn=$n(function(e,t,n){e[n?0:1].push(t)},!0),Yn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,nr=b(function(e,t){var n={},r=t[0];if(e==null)return n;R(r)?(t.length>1&&(r=Mt(r,t[1])),t=ht(e)):(r=tr,t=on(t,!1,!1),e=Object(e));for(var i=0,s=t.length;i<s;i++){var o=t[i],u=e[o];r(u,o,e)&&(n[o]=u)}return n}),rr=b(function(e,t){var n=t[0],r;return R(n)?(n=dn(n),t.length>1&&(r=t[1])):(t=On(on(t,!1,!1),String),n=function(e,n){return!Fn(t,n)}),nr(e,n,r)}),lr=b(function(e,t){return t=on(t,!0,!0),Pn(e,function(e){return!Fn(t,e)})}),cr=b(function(e,t){return lr(e,t)}),pr=b(function(e){return hr(on(e,!0,!0))}),mr=b(vr);An(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];at.prototype[e]=function(){var n=this._wrapped;return n!=null&&(t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0]),wr(this,n)}}),An(["concat","join","slice"],function(e){var t=n[e];at.prototype[e]=function(){var e=this._wrapped;return e!=null&&(e=t.apply(e,arguments)),wr(this,e)}});var Sr={__proto__:null,VERSION:e,restArguments:b,isObject:w,isNull:E,isUndefined:S,isBoolean:x,isElement:T,isString:C,isNumber:k,isDate:L,isRegExp:A,isError:O,isSymbol:M,isMap:_,isWeakMap:D,isSet:P,isWeakSet:H,isArrayBuffer:B,isDataView:j,isArray:F,isFunction:R,isArguments:W,isFinite:X,isNaN:V,isTypedArray:et,isEmpty:ot,isMatch:ut,isEqual:ct,keys:st,allKeys:ht,values:pt,pairs:dt,invert:vt,functions:mt,methods:mt,extend:yt,extendOwn:bt,assign:bt,defaults:wt,create:xt,clone:Tt,tap:Nt,has:Ct,mapObject:Ht,identity:kt,constant:$,noop:Bt,property:Ot,propertyOf:jt,matcher:Lt,matches:Lt,times:Ft,random:It,now:qt,escape:zt,unescape:Xt,templateSettings:Vt,template:Gt,result:Yt,uniqueId:en,chain:tn,iteratee:Dt,partial:rn,bind:sn,bindAll:un,memoize:an,delay:fn,defer:ln,throttle:cn,debounce:hn,wrap:pn,negate:dn,compose:vn,after:mn,before:gn,once:yn,findKey:bn,findIndex:En,findLastIndex:Sn,sortedIndex:xn,indexOf:Nn,lastIndexOf:Cn,find:kn,detect:kn,findWhere:Ln,each:An,forEach:An,map:On,collect:On,reduce:_n,foldl:_n,inject:_n,reduceRight:Dn,foldr:Dn,filter:Pn,select:Pn,reject:Hn,every:Bn,all:Bn,some:jn,any:jn,contains:Fn,includes:Fn,include:Fn,invoke:In,pluck:qn,where:Rn,max:Un,min:zn,shuffle:Xn,sample:Wn,sortBy:Vn,groupBy:Jn,indexBy:Kn,countBy:Qn,partition:Gn,toArray:Zn,size:er,pick:nr,omit:rr,first:sr,head:sr,take:sr,initial:ir,last:ur,rest:or,tail:or,drop:or,compact:ar,flatten:fr,without:cr,uniq:hr,unique:hr,union:pr,intersection:dr,difference:lr,unzip:vr,transpose:vr,zip:mr,object:gr,range:yr,chunk:br,mixin:Er,"default":at},xr=Er(Sr);return xr._=xr,xr}),define("lib/controller/CellsColor",["exports","jquery","underscore"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(){var e=this;this.state.metadata.forEach(function(t,n){t.forEach(function(t,r){c.call(e,null,n,r)})})}function c(e,t,n){if(!this.state.metadata[t]||!this.state.metadata[t][n])return;var i=this.state.metadata[t][n];e=e?(0,r.default)(e):(0,r.default)(this.tableController.table.getCell(t,n)),i.textColor&&(0,r.default)(e).css("color",i.textColor),i.backgroundColor&&(0,r.default)(e).css("background-color",i.backgroundColor),i.borderColor&&(i.borderColor.top&&(0,r.default)(e).css("border-top-color",i.borderColor.top),i.borderColor.right&&(0,r.default)(e).css("border-right-color",i.borderColor.right),i.borderColor.bottom&&(0,r.default)(e).css("border-bottom-color",i.borderColor.bottom),i.borderColor.left&&(0,r.default)(e).css("border-left-color",i.borderColor.left))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var r=s(t),i=s(n),f=function(){function e(){o(this,e),this.tableController=null}return a(e,[{key:"start",value:function(){this.tableController.table.addHook("afterRenderer",c.bind(this)),l.call(this)}},{key:"stateUpdated",value:function(t,n){i.default.isEqual(t.metadata,n.metadata)||l.call(this)}},{key:"destroy",value:function(){if(this.tableController.isTableDestroyed())return;this.tableController.table.removeHook("afterRenderer",c.bind(this))}}]),e}();e.default=f}),define("lib/controller/CellsValidation",["exports","jquery"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t,r,i){var s=this,o=this.tableController.table.getActiveEditor();if(!o)return;var u=(0,n.default)(o.TEXTAREA);e?u.removeClass("failed-validation"):(u.addClass("failed-validation"),this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){u.removeClass("failed-validation"),s._timer=null},2e3),this.messageHandler.displayMessage({message:"This cell only accepts numeric inputs",type:"warning",visibleDuration:2500}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=function(){function e(){i(this,e),this.tableController=null,this.messageHandler=null}return o(e,[{key:"initialize",value:function(){this._timer=null}},{key:"start",value:function(){this.tableController.table.addHook("afterValidate",a.bind(this))}},{key:"destroy",value:function(){if(!this.tableController||this.tableController.isTableDestroyed())return;this.tableController.table.removeHook("afterValidate",a.bind(this))}}]),e}();e.default=u}),define("componentLibrary-Utils/preload/PreloadController",["exports","jquery"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=r(t),i=function(){this.preloader=null,this.preloadDraw=null,this.completeFactory=null};i.prototype.start=function(){if(!this.preloader)throw new Error("preloader must be given");if(!this.completeFactory)throw new Error("completeFactory must be given");if(this.preloadDraw&&!this.preloadDraw.setTargetProgress)throw new Error("preloadDraw must implement setTargetProgress");(0,n.default)(this.preloader).on("preloadProgress",s.bind(this)),this.preloadDraw?(0,n.default)(this.preloadDraw).on("completed",o.bind(this)):(0,n.default)(this.preloader).on("preloadCompleted",o.bind(this)),s.call(this)};var s=function(){this.preloadDraw&&this.preloadDraw.setTargetProgress(this.preloader.pctCompleted*100)},o=function(){this.completeFactory.create()};e.default=i}),define("constants/Direction",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={auto:"Auto",ltr:"LTR",rtl:"RTL"}}),define("constants/KeyCodes",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={TAB:9,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,ENTER:13,ESCAPE:27,DELETE:46,BACKSPACE:8}}),define("lib/controller/Rtl",["exports","jquery","../../constants/Direction","../../constants/KeyCodes"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function g(e){if(e.simulatedKey===!0)return;if(m[e.keyCode]){e.stopImmediatePropagation();var t=new KeyboardEvent("keydown",{keyCode:m[e.keyCode]});t.simulatedKey=!0,this.document.documentElement.dispatchEvent(t)}}function y(){var e=(0,i.default)(this.tableController.table.table),t=(0,i.default)(this.tableController.table.container).find(".htBorders");t.css("left","-".concat(e.outerWidth(),"px"))}function b(){var e=(0,i.default)(this.tableController.table.container).find(".htBorders");e.css("left","")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var i=u(t),s=u(n),o=u(r),a,p=Symbol(),d=Symbol(),v=function(){function e(){l(this,e),this.tableController=null,this.document=document}return h(e,[{key:"start",value:function(){this[p]=g.bind(this),this[d]=y.bind(this),this.stateUpdated(this.state)}},{key:"stateUpdated",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(t.direction!==n.direction){(0,i.default)("html").attr("dir",t.direction.toLowerCase());if(t.direction===s.default.rtl)this.tableController.table.addHook("beforeKeyDown",this[p]),this.tableController.table.addHook("afterColumnResize",this[d]),y.call(this);else if(t.direction===s.default.auto||t.direction===s.default.ltr)this.tableController.table.removeHook("beforeKeyDown",this[p]),this.tableController.table.removeHook("afterColumnResize",this[d]),b.call(this)}}},{key:"destroy",value:function(){if(this.tableController.isTableDestroyed())return;this.tableController.table.removeHook("beforeKeyDown",this[p]),this.tableController.table.removeHook("afterColumnResize",this[d])}}]),e}();e.default=v;var m=(a={},f(a,o.default.ARROW_LEFT,o.default.ARROW_RIGHT),f(a,o.default.ARROW_RIGHT,o.default.ARROW_LEFT),a)}),define("sim-utils/event/DeregisterEvent",["require","jquery"],function(e){var t=e("jquery"),n={deregisterEntityEvent:function(t,r){n.deregisterJQueryEvent(t,r.UID)},deregisterBackboneEvent:function(t,n){t&&t.off&&t.off(null,null,n)},deregisterJQueryEvent:function(n,r){try{var i=n instanceof t?n:t(n),s=r?"."+r:r;i.off(s)}catch(o){}},deregisterRendererEvent:function(t,r){t&&n.deregisterJQueryEvent(t.$el,r)}};return n}),define("constants/Mode",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={INITIAL:"Initial",STUDENT:"Student",CONFIG:"Configuration"}}),define("constants/Format",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=e.TextFormat={DEFAULT:"TextFormatDefault"},n=e.DateFormat={DAY_MONTH_YEAR:"DayMonthYear",MONTH_DAY_YEAR:"MonthDayYear",YEAR_MONTH_DAY:"YearMonthDay"},r=e.CurrencyFormat={DOLLARS_CENTS:"DollarsCents",DOLLARS:"Dollars",EUROS_CENTS:"EurosCents",EUROS:"Euros"}}),define("constants/CellTypes",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={NOT_EDITABLE:"Not Editable",TEXT_INPUT:"Text",DROPDOWN:"Dropdown",NUMBER:"Number",CURRENCY:"Currency",DATE:"Date"};e.default=t}),define("constants/TextAlign",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={LEFT:"Left",CENTER:"Center",RIGHT:"Right"};e.default=t}),define("constants/NumeralStyle",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={WESTERN_ARABIC:"Western Arabic",ARABIC_INDIC:"Arabic-Indic"};e.default=t}),define("lib/controller/Serialization",["exports","sim-utils/event/DeregisterEvent","underscore","jquery","constants/Mode","constants/Format","constants/CellTypes","constants/TextAlign","constants/NumeralStyle"],function(e,t,n,r,i,s,o,u,a){"use strict";function v(e){return e&&e.__esModule?e:{"default":e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function w(e,t){return e.table.metadata!==t.table.metadata||e.table.mergedCells!==t.table.mergedCells||e.table.rowHeaderWidth!==t.table.rowHeaderWidth||e.table.rowHeights!==t.table.rowHeights||e.table.colWidths!==t.table.colWidths||e.table.answers!==t.table.answers}function E(e){this.actions.setConfig(JSON.stringify(e))}function S(){var e=JSON.parse(this.state.simConfig.configJSON);this.serialize=!1;if(e.metadata){var t=e.metadata.colCount,n=e.metadata.rowCount,r=D(e.metadata.properties,n,t);this.actions.setMetadata(r),e.metadata.properties.textAlign&&e.metadata.properties.textAlign.default&&this.actions.setTextAlignToolbarState(e.metadata.properties.textAlign.default)}else e.table.metadata&&this.actions.setMetadata(e.table.metadata);this.actions.setMergedCells(e.table.mergedCells||[]),this.actions.setRowHeaderWidth(e.table.rowHeaderWidth),this.actions.setRowHeights(e.table.rowHeights),this.actions.setColWidths(e.table.colWidths),this.actions.setAnswerData(e.table.answers||[]),this.serialize=!0}function x(e){return Array.isArray(e)&&!f.default.some(e,function(e){return!Array.isArray(e)})}function T(e){var t=null;try{t=JSON.parse("[[".concat(e.replace(/^\[+|\]+$/g,""),"]]"))}catch(n){console.log("Data invalid: ".concat(e))}return x(t)?t:null}function N(e){var t=l.default.extend(!0,[],e);return t.forEach(function(e,n){e.forEach(function(e,r){e&&e.type&&(t[n][r]="")})}),t}function C(){var e=this.state.table.metadata?this.state.table.metadata.length:0,t=e&&this.state.table.metadata[0]?this.state.table.metadata[0].length:0,n={metadata:{rowCount:e||0,colCount:t||0,properties:k(this.state.table.metadata)},table:{mergedCells:this.state.table.mergedCells,rowHeaderWidth:this.state.table.rowHeaderWidth,answers:this.state.table.answers,rowHeights:this.state.table.rowHeights,colWidths:this.state.table.colWidths}};E.call(this,n)}function k(e){var t={},n={},r={},i={},o={},u={},a={},f={},l={},c={},v={},m={},g={},y={};return e&&e.forEach(function(e,b){if(!e)return;e.forEach(function(e,w){if(!e)return;L(t,b,w,e.type||h.default.NOT_EDITABLE),L(n,b,w,e.format||s.TextFormat.DEFAULT),L(r,b,w,e.textAlign||p.default.LEFT),L(i,b,w,e.numeralStyle||d.default.WESTERN_ARABIC),L(o,b,w,e.fontSize||12),L(u,b,w,!!e.bold),L(a,b,w,!!e.italic),L(f,b,w,!!e.strikethrough),L(l,b,w,e.textColor||"black"),L(c,b,w,e.backgroundColor||"white"),L(v,b,w,e.borderColor.top||"#cccc"),L(m,b,w,e.borderColor.right||"#cccc"),L(g,b,w,e.borderColor.bottom||"#cccc"),L(y,b,w,e.borderColor.left||"#cccc")})}),{type:A(t),format:A(n),textAlign:A(r),numeralStyle:A(i),fontSize:A(o),bold:A(u),italic:A(a),strikethrough:A(f),textColor:A(l),backgroundColor:A(c),borderColorTop:A(v),borderColorRight:A(m),borderColorBottom:A(g),borderColorLeft:A(y)}}function L(e,t,n,r){e.hasOwnProperty(r)||(e[r]={}),e[r].hasOwnProperty(t)||(e[r][t]=[]),e[r][t].push(n)}function A(e){var t=O(e);return delete e[t],{"default":t,values:e}}function O(e){var t=Object.keys(e),n=f.default.reduce(Object.keys(e),function(t,n){var r=M(e,n);return t.count>r?t:{key:n,count:r}},{key:undefined,count:0});return n.key}function M(e,t){return f.default.reduce(Object.keys(e[t]),function(n,r){var i=parseInt(r);return n+e[t][i].length},0)}function _(e,t,n){t==="type"?e.type=n:t==="format"?e.format=n:t==="textAlign"?e.textAlign=n:t==="numeralStyle"?e.numeralStyle=n:t==="fontSize"?e.fontSize=parseInt(n):t==="bold"?e.bold=n==="true":t==="italic"?e.italic=n==="true":t==="strikethrough"?e.strikethrough=n==="true":t==="textColor"?e.textColor=n:t==="backgroundColor"?e.backgroundColor=n:t==="borderColorTop"?e.borderColor.top=n:t==="borderColorRight"?e.borderColor.right=n:t==="borderColorBottom"?e.borderColor.bottom=n:t==="borderColorLeft"&&(e.borderColor.left=n)}function D(e,t,n){var r=Object.keys(e),i=f.default.reduce(r,function(t,n){return _(t,n,e[n].default),t},{borderColor:{}}),s=Array(t);for(var o=0;o<t;++o){s[o]=Array(n);for(var u=0;u<n;++u)s[o][u]=l.default.extend(!0,{},i)}return f.default.forEach(r,function(t){var n=Object.keys(e[t].values);if(!n)return;f.default.forEach(n,function(n){var r=Object.keys(e[t].values[n]);if(!r)return;f.default.forEach(r,function(r){var i=e[t].values[n][r];if(!i)return;var o=parseInt(r);f.default.forEach(i,function(e){var r=parseInt(e);_(s[o][r],t,n)})})})}),s}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var f=v(n),l=v(r),c=v(i),h=v(o),p=v(u),d=v(a),b=function(){function e(){m(this,e),this.serialize=!0}return y(e,[{key:"start",value:function(){S.call(this)}},{key:"stateUpdated",value:function(t,n){t.simConfig.configJSON!==n.simConfig.configJSON&&S.call(this),this.serialize&&w(t,n)&&t.mode===c.default.CONFIG&&C.call(this)}}]),e}();e.default=b}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function t(){return e.apply(null,arguments)}function n(t){e=t}function r(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function i(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(s(e,t))return!1;return!0}function u(e){return e===void 0}function a(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function f(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function l(e,t){var n=[],r;for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function c(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return Vr(e,t,n,r,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(e){return e._pf==null&&(e._pf=p()),e._pf}function m(e){if(e._isValid==null){var t=d(e),n=v.call(t.parsedDateParts,function(e){return e!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined);if(Object.isFrozen!=null&&!!Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function g(e){var t=h(NaN);return e!=null?c(d(t),e):d(t).userInvalidated=!0,t}function w(e,t){var n,r,i;u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=d(t)),u(t._locale)||(e._locale=t._locale);if(y.length>0)for(n=0;n<y.length;n++)r=y[n],i=t[r],u(i)||(e[r]=i);return e}function E(e){w(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),b===!1&&(b=!0,t.updateOffset(this),b=!1)}function S(e){return e instanceof E||e!=null&&e._isAMomentObject!=null}function x(e){t.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,n){var r=!0;return c(function(){t.deprecationHandler!=null&&t.deprecationHandler(null,e);if(r){var i=[],o,u,a;for(u=0;u<arguments.length;u++){o="";if(typeof arguments[u]=="object"){o+="\n["+u+"] ";for(a in arguments[0])s(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[u];i.push(o)}x(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function C(e,n){t.deprecationHandler!=null&&t.deprecationHandler(e,n),N[e]||(x(n),N[e]=!0)}function k(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function L(e){var t,n;for(n in e)s(e,n)&&(t=e[n],k(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var n=c({},e),r;for(r in t)s(t,r)&&(i(e[r])&&i(t[r])?(n[r]={},c(n[r],e[r]),c(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)s(e,r)&&!s(t,r)&&i(e[r])&&(n[r]=c({},n[r]));return n}function O(e){e!=null&&this.set(e)}function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return k(r)?r.call(t,n):r}function P(e,t,n){var r=""+Math.abs(e),i=t-r.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function I(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(F[e]=i),t&&(F[t[0]]=function(){return P(i.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e){var t=e.match(H),n,r;for(n=0,r=t.length;n<r;n++)F[t[n]]?t[n]=F[t[n]]:t[n]=q(t[n]);return function(n){var i="",s;for(s=0;s<r;s++)i+=k(t[s])?t[s].call(n,e):t[s];return i}}function U(e,t){return e.isValid()?(t=z(t,e.localeData()),j[t]=j[t]||R(t),j[t](e)):e.localeData().invalidDate()}function z(e,t){function r(e){return t.longDateFormat(e)||e}var n=5;B.lastIndex=0;while(n>=0&&B.test(e))e=e.replace(B,r),B.lastIndex=0,n-=1;return e}function X(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(H).map(function(e){return e==="MMMM"||e==="MM"||e==="DD"||e==="dddd"?e.slice(1):e}).join(""),this._longDateFormat[e])}function $(){return this._invalidDate}function Q(e){return this._ordinal.replace("%d",e)}function Y(e,t,n,r){var i=this._relativeTime[n];return k(i)?i(e,t,n,r):i.replace(/%d/i,e)}function Z(e,t){var n=this._relativeTime[e>0?"future":"past"];return k(n)?n(t):n.replace(/%s/i,t)}function tt(e,t){var n=e.toLowerCase();et[n]=et[n+"s"]=et[t]=e}function nt(e){return typeof e=="string"?et[e]||et[e.toLowerCase()]:undefined}function rt(e){var t={},n,r;for(r in e)s(e,r)&&(n=nt(r),n&&(t[n]=e[r]));return t}function st(e,t){it[e]=t}function ot(e){var t=[],n;for(n in e)s(e,n)&&t.push({unit:n,priority:it[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function ut(e){return e%4===0&&e%100!==0||e%400===0}function at(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ft(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=at(t)),n}function lt(e,n){return function(r){return r!=null?(ht(this,e,r),t.updateOffset(this,n),this):ct(this,e)}}function ct(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ht(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&ut(e.year())&&e.month()===1&&e.date()===29?(n=ft(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Yt(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pt(e){return e=nt(e),k(this[e])?this[e]():this}function dt(e,t){if(typeof e=="object"){e=rt(e);var n=ot(e),r;for(r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else{e=nt(e);if(k(this[e]))return this[e](t)}return this}function Dt(e,t,n){_t[e]=k(t)?t:function(e,r){return e&&n?n:t}}function Pt(e,t){return s(_t,e)?_t[e](t._strict,t._locale):new RegExp(Ht(e))}function Ht(e){return Bt(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function Bt(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ft(e,t){var n,r=t;typeof e=="string"&&(e=[e]),a(t)&&(r=function(e,n){n[t]=ft(e)});for(n=0;n<e.length;n++)jt[e[n]]=r}function It(e,t){Ft(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function qt(e,t,n){t!=null&&s(jt,e)&&jt[e](t,n._a,n,e)}function Qt(e,t){return(e%t+t)%t}function Yt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Qt(t,12);return e+=(t-n)/12,n===1?ut(e)?29:28:31-n%7%2}function sn(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||tn).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone}function on(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[tn.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function un(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[];for(r=0;r<12;++r)s=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase()}return n?t==="MMM"?(i=Gt.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Gt.call(this._longMonthsParse,o),i!==-1?i:null):t==="MMM"?(i=Gt.call(this._shortMonthsParse,o),i!==-1?i:(i=Gt.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Gt.call(this._longMonthsParse,o),i!==-1?i:(i=Gt.call(this._shortMonthsParse,o),i!==-1?i:null))}function an(e,t,n){var r,i,s;if(this._monthsParseExact)return un.call(this,e,t,n);this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(r=0;r<12;r++){i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i"));if(n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function fn(e,t){var n;if(!e.isValid())return e;if(typeof t=="string")if(/^\d+$/.test(t))t=ft(t);else{t=e.localeData().monthsParse(t);if(!a(t))return e}return n=Math.min(e.date(),Yt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ln(e){return e!=null?(fn(this,e),t.updateOffset(this,!0),this):ct(this,"Month")}function cn(){return Yt(this.year(),this.month())}function hn(e){return this._monthsParseExact?(s(this,"_monthsRegex")||dn.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=nn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pn(e){return this._monthsParseExact?(s(this,"_monthsRegex")||dn.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=rn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function dn(){function e(e,t){return t.length-e.length}var t=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=h([2e3,i]),t.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));t.sort(e),n.sort(e),r.sort(e);for(i=0;i<12;i++)t[i]=Bt(t[i]),n[i]=Bt(n[i]);for(i=0;i<24;i++)r[i]=Bt(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function vn(e){return ut(e)?366:365}function gn(){return ut(this.year())}function yn(e,t,n,r,i,s,o){var u;return e<100&&e>=0?(u=new Date(e+400,t,n,r,i,s,o),isFinite(u.getFullYear())&&u.setFullYear(e)):u=new Date(e,t,n,r,i,s,o),u}function bn(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wn(e,t,n){var r=7+t-n,i=(7+bn(e,0,r).getUTCDay()-t)%7;return-i+r-1}function En(e,t,n,r,i){var s=(7+n-r)%7,o=wn(e,r,i),u=1+7*(t-1)+s+o,a,f;return u<=0?(a=e-1,f=vn(a)+u):u>vn(e)?(a=e+1,f=u-vn(e)):(a=e,f=u),{year:a,dayOfYear:f}}function Sn(e,t,n){var r=wn(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=e.year()-1,s=i+xn(o,t,n)):i>xn(e.year(),t,n)?(s=i-xn(e.year(),t,n),o=e.year()+1):(o=e.year(),s=i),{week:s,year:o}}function xn(e,t,n){var r=wn(e,t,n),i=wn(e+1,t,n);return(vn(e)-r+i)/7}function Tn(e){return Sn(e,this._week.dow,this._week.doy).week}function Cn(){return this._week.dow}function kn(){return this._week.doy}function Ln(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function An(e){var t=Sn(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}function On(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Mn(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function _n(e,t){return e.slice(t,7).concat(e.slice(0,t))}function In(e,t){var n=r(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?_n(n,this._week.dow):e?n[e.day()]:n}function qn(e){return e===!0?_n(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Rn(e){return e===!0?_n(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Un(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[];for(r=0;r<7;++r)s=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase()}return n?t==="dddd"?(i=Gt.call(this._weekdaysParse,o),i!==-1?i:null):t==="ddd"?(i=Gt.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Gt.call(this._minWeekdaysParse,o),i!==-1?i:null):t==="dddd"?(i=Gt.call(this._weekdaysParse,o),i!==-1?i:(i=Gt.call(this._shortWeekdaysParse,o),i!==-1?i:(i=Gt.call(this._minWeekdaysParse,o),i!==-1?i:null))):t==="ddd"?(i=Gt.call(this._shortWeekdaysParse,o),i!==-1?i:(i=Gt.call(this._weekdaysParse,o),i!==-1?i:(i=Gt.call(this._minWeekdaysParse,o),i!==-1?i:null))):(i=Gt.call(this._minWeekdaysParse,o),i!==-1?i:(i=Gt.call(this._weekdaysParse,o),i!==-1?i:(i=Gt.call(this._shortWeekdaysParse,o),i!==-1?i:null)))}function zn(e,t,n){var r,i,s;if(this._weekdaysParseExact)return Un.call(this,e,t,n);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(r=0;r<7;r++){i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i"));if(n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wn(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=On(e,this.localeData()),this.add(e-t,"d")):t}function Xn(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Vn(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Mn(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function $n(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qn.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Bn),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Jn(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qn.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jn),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kn(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qn.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Fn),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qn(){function e(e,t){return t.length-e.length}var t=[],n=[],r=[],i=[],s,o,u,a,f;for(s=0;s<7;s++)o=h([2e3,1]).day(s),u=Bt(this.weekdaysMin(o,"")),a=Bt(this.weekdaysShort(o,"")),f=Bt(this.weekdays(o,"")),t.push(u),n.push(a),r.push(f),i.push(u),i.push(a),i.push(f);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Gn(){return this.hours()%12||12}function Yn(){return this.hours()||24}function Zn(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function er(e,t){return t._meridiemParse}function tr(e){return(e+"").toLowerCase().charAt(0)==="p"}function ir(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function fr(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function lr(e){return e?e.toLowerCase().replace("_","-"):e}function cr(e){var t=0,n,r,i,s;while(t<e.length){s=lr(e[t]).split("-"),n=s.length,r=lr(e[t+1]),r=r?r.split("-"):null;while(n>0){i=hr(s.slice(0,n).join("-"));if(i)return i;if(r&&r.length>=n&&fr(s,r)>=n-1)break;n--}t++}return ar}function hr(e){var t=null,n;if(or[e]===undefined&&typeof module!="undefined"&&module&&module.exports)try{t=ar._abbr,n=require,n("./locale/"+e),pr(t)}catch(r){or[e]=null}return or[e]}function pr(e,t){var n;return e&&(u(t)?n=mr(e):n=dr(e,t),n?ar=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ar._abbr}function dr(e,t){if(t!==null){var n,r=sr;t.abbr=e;if(or[e]!=null)C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=or[e]._config;else if(t.parentLocale!=null)if(or[t.parentLocale]!=null)r=or[t.parentLocale]._config;else{n=hr(t.parentLocale);if(n==null)return ur[t.parentLocale]||(ur[t.parentLocale]=[]),ur[t.parentLocale].push({name:e,config:t}),null;r=n._config}return or[e]=new O(A(r,t)),ur[e]&&ur[e].forEach(function(e){dr(e.name,e.config)}),pr(e),or[e]}return delete or[e],null}function vr(e,t){if(t!=null){var n,r,i=sr;or[e]!=null&&or[e].parentLocale!=null?or[e].set(A(or[e]._config,t)):(r=hr(e),r!=null&&(i=r._config),t=A(i,t),r==null&&(t.abbr=e),n=new O(t),n.parentLocale=or[e],or[e]=n),pr(e)}else or[e]!=null&&(or[e].parentLocale!=null?(or[e]=or[e].parentLocale,e===pr()&&pr(e)):or[e]!=null&&delete or[e]);return or[e]}function mr(e){var t;e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr);if(!e)return ar;if(!r(e)){t=hr(e);if(t)return t;e=[e]}return cr(e)}function gr(){return M(or)}function yr(e){var t,n=e._a;return n&&d(e).overflow===-2&&(t=n[Ut]<0||n[Ut]>11?Ut:n[zt]<1||n[zt]>Yt(n[Rt],n[Ut])?zt:n[Wt]<0||n[Wt]>24||n[Wt]===24&&(n[Xt]!==0||n[Vt]!==0||n[$t]!==0)?Wt:n[Xt]<0||n[Xt]>59?Xt:n[Vt]<0||n[Vt]>59?Vt:n[$t]<0||n[$t]>999?$t:-1,d(e)._overflowDayOfYear&&(t<Rt||t>zt)&&(t=zt),d(e)._overflowWeeks&&t===-1&&(t=Jt),d(e)._overflowWeekday&&t===-1&&(t=Kt),d(e).overflow=t),e}function kr(e){var t,n,r=e._i,i=br.exec(r)||wr.exec(r),s,o,u,a;if(i){d(e).iso=!0;for(t=0,n=Sr.length;t<n;t++)if(Sr[t][1].exec(i[1])){o=Sr[t][0],s=Sr[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(i[3]){for(t=0,n=xr.length;t<n;t++)if(xr[t][1].exec(i[3])){u=(i[2]||" ")+xr[t][0];break}if(u==null){e._isValid=!1;return}}if(!s&&u!=null){e._isValid=!1;return}if(i[4]){if(!Er.exec(i[4])){e._isValid=!1;return}a="Z"}e._f=o+(u||"")+(a||""),Ir(e)}else e._isValid=!1}function Lr(e,t,n,r,i,s){var o=[Ar(e),en.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Ar(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Or(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Mr(e,t,n){if(e){var r=Pn.indexOf(e),i=(new Date(t[0],t[1],t[2])).getDay();if(r!==i)return d(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function _r(e,t,n){if(e)return Cr[e];if(t)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function Dr(e){var t=Nr.exec(Or(e._i)),n;if(t){n=Lr(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Mr(t[1],n,e))return;e._a=n,e._tzm=_r(t[8],t[9],t[10]),e._d=bn.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function Pr(e){var n=Tr.exec(e._i);if(n!==null){e._d=new Date(+n[1]);return}kr(e);if(e._isValid!==!1)return;delete e._isValid,Dr(e);if(e._isValid!==!1)return;delete e._isValid,e._strict?e._isValid=!1:t.createFromInputFallback(e)}function Hr(e,t,n){return e!=null?e:t!=null?t:n}function Br(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function jr(e){var t,n,r=[],i,s,o;if(e._d)return;i=Br(e),e._w&&e._a[zt]==null&&e._a[Ut]==null&&Fr(e);if(e._dayOfYear!=null){o=Hr(e._a[Rt],i[Rt]);if(e._dayOfYear>vn(o)||e._dayOfYear===0)d(e)._overflowDayOfYear=!0;n=bn(o,0,e._dayOfYear),e._a[Ut]=n.getUTCMonth(),e._a[zt]=n.getUTCDate()}for(t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Wt]===24&&e._a[Xt]===0&&e._a[Vt]===0&&e._a[$t]===0&&(e._nextDay=!0,e._a[Wt]=0),e._d=(e._useUTC?bn:yn).apply(null,r),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Wt]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==s&&(d(e).weekdayMismatch=!0)}function Fr(e){var t,n,r,i,s,o,u,a,f;t=e._w;if(t.GG!=null||t.W!=null||t.E!=null){s=1,o=4,n=Hr(t.GG,e._a[Rt],Sn($r(),1,4).year),r=Hr(t.W,1),i=Hr(t.E,1);if(i<1||i>7)a=!0}else{s=e._locale._week.dow,o=e._locale._week.doy,f=Sn($r(),s,o),n=Hr(t.gg,e._a[Rt],f.year),r=Hr(t.w,f.week);if(t.d!=null){i=t.d;if(i<0||i>6)a=!0}else if(t.e!=null){i=t.e+s;if(t.e<0||t.e>6)a=!0}else i=s}r<1||r>xn(n,s,o)?d(e)._overflowWeeks=!0:a!=null?d(e)._overflowWeekday=!0:(u=En(n,r,i,s,o),e._a[Rt]=u.year,e._dayOfYear=u.dayOfYear)}function Ir(e){if(e._f===t.ISO_8601){kr(e);return}if(e._f===t.RFC_2822){Dr(e);return}e._a=[],d(e).empty=!0;var n=""+e._i,r,i,s,o,u,a=n.length,f=0,l;s=z(e._f,e._locale).match(H)||[];for(r=0;r<s.length;r++)o=s[r],i=(n.match(Pt(o,e))||[])[0],i&&(u=n.substr(0,n.indexOf(i)),u.length>0&&d(e).unusedInput.push(u),n=n.slice(n.indexOf(i)+i.length),f+=i.length),F[o]?(i?d(e).empty=!1:d(e).unusedTokens.push(o),qt(o,i,e)):e._strict&&!i&&d(e).unusedTokens.push(o);d(e).charsLeftOver=a-f,n.length>0&&d(e).unusedInput.push(n),e._a[Wt]<=12&&d(e).bigHour===!0&&e._a[Wt]>0&&(d(e).bigHour=undefined),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[Wt]=qr(e._locale,e._a[Wt],e._meridiem),l=d(e).era,l!==null&&(e._a[Rt]=e._locale.erasConvertYear(l,e._a[Rt])),jr(e),yr(e)}function qr(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):e.isPM!=null?(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0),t):t}function Rr(e){var t,n,r,i,s,o,u=!1;if(e._f.length===0){d(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<e._f.length;i++){s=0,o=!1,t=w({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],Ir(t),m(t)&&(o=!0),s+=d(t).charsLeftOver,s+=d(t).unusedTokens.length*10,d(t).score=s;if(!u){if(r==null||s<r||o)r=s,n=t,o&&(u=!0)}else s<r&&(r=s,n=t)}c(e,n||t)}function Ur(e){if(e._d)return;var t=rt(e._i),n=t.day===undefined?t.date:t.day;e._a=l([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),jr(e)}function zr(e){var t=new E(yr(Wr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=undefined),t}function Wr(e){var t=e._i,n=e._f;return e._locale=e._locale||mr(e._l),t===null||n===undefined&&t===""?g({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),S(t)?new E(yr(t)):(f(t)?e._d=t:r(n)?Rr(e):n?Ir(e):Xr(e),m(e)||(e._d=null),e))}function Xr(e){var n=e._i;u(n)?e._d=new Date(t.now()):f(n)?e._d=new Date(n.valueOf()):typeof n=="string"?Pr(e):r(n)?(e._a=l(n.slice(0),function(e){return parseInt(e,10)}),jr(e)):i(n)?Ur(e):a(n)?e._d=new Date(n):t.createFromInputFallback(e)}function Vr(e,t,n,s,u){var a={};if(t===!0||t===!1)s=t,t=undefined;if(n===!0||n===!1)s=n,n=undefined;if(i(e)&&o(e)||r(e)&&e.length===0)e=undefined;return a._isAMomentObject=!0,a._useUTC=a._isUTC=u,a._l=n,a._i=e,a._f=t,a._strict=s,zr(a)}function $r(e,t,n,r){return Vr(e,t,n,r,!1)}function Qr(e,t){var n,i;t.length===1&&r(t[0])&&(t=t[0]);if(!t.length)return $r();n=t[0];for(i=1;i<t.length;++i)if(!t[i].isValid()||t[i][e](n))n=t[i];return n}function Gr(){var e=[].slice.call(arguments,0);return Qr("isBefore",e)}function Yr(){var e=[].slice.call(arguments,0);return Qr("isAfter",e)}function ti(e){var t,n=!1,r;for(t in e)if(s(e,t)&&(Gt.call(ei,t)===-1||e[t]!=null&&!!isNaN(e[t])))return!1;for(r=0;r<ei.length;++r)if(e[ei[r]]){if(n)return!1;parseFloat(e[ei[r]])!==ft(e[ei[r]])&&(n=!0)}return!0}function ni(){return this._isValid}function ri(){return Ci(NaN)}function ii(e){var t=rt(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,u=t.hour||0,a=t.minute||0,f=t.second||0,l=t.millisecond||0;this._isValid=ti(t),this._milliseconds=+l+f*1e3+a*6e4+u*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=mr(),this._bubble()}function si(e){return e instanceof ii}function oi(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function ui(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&ft(e[o])!==ft(t[o]))&&s++;return s+i}function ai(e,t){I(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+P(~~(e/60),2)+t+P(~~e%60,2)})}function li(e,t){var n=(t||"").match(e),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(fi)||["-",0,0],s=+(i[1]*60)+ft(i[2]),s===0?0:i[0]==="+"?s:-s)}function ci(e,n){var r,i;return n._isUTC?(r=n.clone(),i=(S(e)||f(e)?e.valueOf():$r(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),t.updateOffset(r,!1),r):$r(e).local()}function hi(e){return-Math.round(e._d.getTimezoneOffset())}function pi(e,n,r){var i=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){e=li(At,e);if(e===null)return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&n&&(s=hi(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),i!==e&&(!n||this._changeInProgress?Mi(this,Ci(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:hi(this)}function di(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vi(e){return this.utcOffset(0,e)}function mi(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(hi(this),"m")),this}function gi(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=li(Lt,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function yi(e){return this.isValid()?(e=e?$r(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function bi(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wi(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e={},t;return w(e,this),e=Wr(e),e._a?(t=e._isUTC?h(e._a):$r(e._a),this._isDSTShifted=this.isValid()&&ui(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ei(){return this.isValid()?!this._isUTC:!1}function Si(){return this.isValid()?this._isUTC:!1}function xi(){return this.isValid()?this._isUTC&&this._offset===0:!1}function Ci(e,t){var n=e,r=null,i,o,u;return si(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:a(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=Ti.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:ft(r[zt])*i,h:ft(r[Wt])*i,m:ft(r[Xt])*i,s:ft(r[Vt])*i,ms:ft(oi(r[$t]*1e3))*i}):(r=Ni.exec(e))?(i=r[1]==="-"?-1:1,n={y:ki(r[2],i),M:ki(r[3],i),w:ki(r[4],i),d:ki(r[5],i),h:ki(r[6],i),m:ki(r[7],i),s:ki(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(u=Ai($r(n.from),$r(n.to)),n={},n.ms=u.milliseconds,n.M=u.months),o=new ii(n),si(e)&&s(e,"_locale")&&(o._locale=e._locale),si(e)&&s(e,"_isValid")&&(o._isValid=e._isValid),o}function ki(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Li(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t- +e.clone().add(n.months,"M"),n}function Ai(e,t){var n;return!e.isValid()||!t.isValid()?{milliseconds:0,months:0}:(t=ci(t,e),e.isBefore(t)?n=Li(e,t):(n=Li(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n)}function Oi(e,t){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=Ci(n,r),Mi(this,i,e),this}}function Mi(e,n,r,i){var s=n._milliseconds,o=oi(n._days),u=oi(n._months);if(!e.isValid())return;i=i==null?!0:i,u&&fn(e,ct(e,"Month")+u*r),o&&ht(e,"Date",ct(e,"Date")+o*r),s&&e._d.setTime(e._d.valueOf()+s*r),i&&t.updateOffset(e,o||u)}function Pi(e){return typeof e=="string"||e instanceof String}function Hi(e){return S(e)||f(e)||Pi(e)||a(e)||ji(e)||Bi(e)||e===null||e===undefined}function Bi(e){var t=i(e)&&!o(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u,a;for(u=0;u<r.length;u+=1)a=r[u],n=n||s(e,a);return t&&n}function ji(e){var t=r(e),n=!1;return t&&(n=e.filter(function(t){return!a(t)&&Pi(e)}).length===0),t&&n}function Fi(e){var t=i(e)&&!o(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],u,a;for(u=0;u<r.length;u+=1)a=r[u],n=n||s(e,a);return t&&n}function Ii(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function qi(e,n){arguments.length===1&&(Hi(arguments[0])?(e=arguments[0],n=undefined):Fi(arguments[0])&&(n=arguments[0],e=undefined));var r=e||$r(),i=ci(r,this).startOf("day"),s=t.calendarFormat(this,i)||"sameElse",o=n&&(k(n[s])?n[s].call(this,r):n[s]);return this.format(o||this.localeData().calendar(s,this,$r(r)))}function Ri(){return new E(this)}function Ui(e,t){var n=S(e)?e:$r(e);return!this.isValid()||!n.isValid()?!1:(t=nt(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function zi(e,t){var n=S(e)?e:$r(e);return!this.isValid()||!n.isValid()?!1:(t=nt(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Wi(e,t,n,r){var i=S(e)?e:$r(e),s=S(t)?t:$r(t);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function Xi(e,t){var n=S(e)?e:$r(e),r;return!this.isValid()||!n.isValid()?!1:(t=nt(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))}function Vi(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $i(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Ji(e,t,n){var r,i,s;if(!this.isValid())return NaN;r=ci(e,this);if(!r.isValid())return NaN;i=(r.utcOffset()-this.utcOffset())*6e4,t=nt(t);switch(t){case"year":s=Ki(this,r)/12;break;case"month":s=Ki(this,r);break;case"quarter":s=Ki(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:at(s)}function Ki(e,t){if(e.date()<t.date())return-Ki(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,s;return t-r<0?(i=e.clone().add(n-1,"months"),s=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),s=(t-r)/(i-r)),-(n+s)||0}function Qi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Gi(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?U(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k(Date.prototype.toISOString)?t?this.toDate().toISOString():(new Date(this.valueOf()+this.utcOffset()*60*1e3)).toISOString().replace("Z",U(n,"Z")):U(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Yi(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(n+r+i+s)}function Zi(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=U(this,e);return this.localeData().postformat(n)}function es(e,t){return this.isValid()&&(S(e)&&e.isValid()||$r(e).isValid())?Ci({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ts(e){return this.from($r(),e)}function ns(e,t){return this.isValid()&&(S(e)&&e.isValid()||$r(e).isValid())?Ci({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function rs(e){return this.to($r(),e)}function is(e){var t;return e===undefined?this._locale._abbr:(t=mr(e),t!=null&&(this._locale=t),this)}function os(){return this._locale}function cs(e,t){return(e%t+t)%t}function hs(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ls:(new Date(e,t,n)).valueOf()}function ps(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ls:Date.UTC(e,t,n)}function ds(e){var n,r;e=nt(e);if(e===undefined||e==="millisecond"||!this.isValid())return this;r=this._isUTC?ps:hs;switch(e){case"year":n=r(this.year(),0,1);break;case"quarter":n=r(this.year(),this.month()-this.month()%3,1);break;case"month":n=r(this.year(),this.month(),1);break;case"week":n=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=r(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=cs(n+(this._isUTC?0:this.utcOffset()*as),fs);break;case"minute":n=this._d.valueOf(),n-=cs(n,as);break;case"second":n=this._d.valueOf(),n-=cs(n,us)}return this._d.setTime(n),t.updateOffset(this,!0),this}function vs(e){var n,r;e=nt(e);if(e===undefined||e==="millisecond"||!this.isValid())return this;r=this._isUTC?ps:hs;switch(e){case"year":n=r(this.year()+1,0,1)-1;break;case"quarter":n=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=r(this.year(),this.month()+1,1)-1;break;case"week":n=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=fs-cs(n+(this._isUTC?0:this.utcOffset()*as),fs)-1;break;case"minute":n=this._d.valueOf(),n+=as-cs(n,as)-1;break;case"second":n=this._d.valueOf(),n+=us-cs(n,us)-1}return this._d.setTime(n),t.updateOffset(this,!0),this}function ms(){return this._d.valueOf()-(this._offset||0)*6e4}function gs(){return Math.floor(this.valueOf()/1e3)}function ys(){return new Date(this.valueOf())}function bs(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function ws(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Es(){return this.isValid()?this.toISOString():null}function Ss(){return m(this)}function xs(){return c({},d(this))}function Ts(){return d(this).overflow}function Ns(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Cs(e,n){var r,i,s,o=this._eras||mr("en")._eras;for(r=0,i=o.length;r<i;++r){switch(typeof o[r].since){case"string":s=t(o[r].since).startOf("day"),o[r].since=s.valueOf()}switch(typeof o[r].until){case"undefined":o[r].until=+Infinity;break;case"string":s=t(o[r].until).startOf("day").valueOf(),o[r].until=s.valueOf()}}return o}function ks(e,t,n){var r,i,s=this.eras(),o,u,a;e=e.toUpperCase();for(r=0,i=s.length;r<i;++r){o=s[r].name.toUpperCase(),u=s[r].abbr.toUpperCase(),a=s[r].narrow.toUpperCase();if(n)switch(t){case"N":case"NN":case"NNN":if(u===e)return s[r];break;case"NNNN":if(o===e)return s[r];break;case"NNNNN":if(a===e)return s[r]}else if([o,u,a].indexOf(e)>=0)return s[r]}}function Ls(e,n){var r=e.since<=e.until?1:-1;return n===undefined?t(e.since).year():t(e.since).year()+(n-e.offset)*r}function As(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){n=this.clone().startOf("day").valueOf();if(r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Os(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){n=this.clone().startOf("day").valueOf();if(r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ms(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){n=this.clone().startOf("day").valueOf();if(r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function _s(){var e,n,r,i,s=this.localeData().eras();for(e=0,n=s.length;e<n;++e){r=s[e].since<=s[e].until?1:-1,i=this.clone().startOf("day").valueOf();if(s[e].since<=i&&i<=s[e].until||s[e].until<=i&&i<=s[e].since)return(this.year()-t(s[e].since).year())*r+s[e].offset}return this.year()}function Ds(e){return s(this,"_erasNameRegex")||qs.call(this),e?this._erasNameRegex:this._erasRegex}function Ps(e){return s(this,"_erasAbbrRegex")||qs.call(this),e?this._erasAbbrRegex:this._erasRegex}function Hs(e){return s(this,"_erasNarrowRegex")||qs.call(this),e?this._erasNarrowRegex:this._erasRegex}function Bs(e,t){return t.erasAbbrRegex(e)}function js(e,t){return t.erasNameRegex(e)}function Fs(e,t){return t.erasNarrowRegex(e)}function Is(e,t){return t._eraYearOrdinalRegex||Ct}function qs(){var e=[],t=[],n=[],r=[],i,s,o=this.eras();for(i=0,s=o.length;i<s;++i)t.push(Bt(o[i].name)),e.push(Bt(o[i].abbr)),n.push(Bt(o[i].narrow)),r.push(Bt(o[i].name)),r.push(Bt(o[i].abbr)),r.push(Bt(o[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function Rs(e,t){I(0,[e,e.length],0,t)}function Us(e){return Js.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function zs(e){return Js.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ws(){return xn(this.year(),1,4)}function Xs(){return xn(this.isoWeekYear(),1,4)}function Vs(){var e=this.localeData()._week;return xn(this.year(),e.dow,e.doy)}function $s(){var e=this.localeData()._week;return xn(this.weekYear(),e.dow,e.doy)}function Js(e,t,n,r,i){var s;return e==null?Sn(this,r,i).year:(s=xn(e,r,i),t>s&&(t=s),Ks.call(this,e,t,n,r,i))}function Ks(e,t,n,r,i){var s=En(e,t,n,r,i),o=bn(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Qs(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}function Ys(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}function ro(e,t){t[$t]=ft(("0."+e)*1e3)}function io(){return this._isUTC?"UTC":""}function so(){return this._isUTC?"Coordinated Universal Time":""}function uo(e){return $r(e*1e3)}function ao(){return $r.apply(null,arguments).parseZone()}function fo(e){return e}function co(e,t,n,r){var i=mr(),s=h().set(r,t);return i[n](s,e)}function ho(e,t,n){a(e)&&(t=e,e=undefined),e=e||"";if(t!=null)return co(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=co(e,r,n,"month");return i}function po(e,t,n,r){typeof e=="boolean"?(a(t)&&(n=t,t=undefined),t=t||""):(t=e,n=t,e=!1,a(t)&&(n=t,t=undefined),t=t||"");var i=mr(),s=e?i._week.dow:0,o,u=[];if(n!=null)return co(t,(n+s)%7,r,"day");for(o=0;o<7;o++)u[o]=co(t,(o+s)%7,r,"day");return u}function vo(e,t){return ho(e,t,"months")}function mo(e,t){return ho(e,t,"monthsShort")}function go(e,t,n){return po(e,t,n,"weekdays")}function yo(e,t,n){return po(e,t,n,"weekdaysShort")}function bo(e,t,n){return po(e,t,n,"weekdaysMin")}function Eo(){var e=this._data;return this._milliseconds=wo(this._milliseconds),this._days=wo(this._days),this._months=wo(this._months),e.milliseconds=wo(e.milliseconds),e.seconds=wo(e.seconds),e.minutes=wo(e.minutes),e.hours=wo(e.hours),e.months=wo(e.months),e.years=wo(e.years),this}function So(e,t,n,r){var i=Ci(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function xo(e,t){return So(this,e,t,1)}function To(e,t){return So(this,e,t,-1)}function No(e){return e<0?Math.floor(e):Math.ceil(e)}function Co(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,o,u,a;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=No(Lo(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=at(e/1e3),r.seconds=i%60,s=at(i/60),r.minutes=s%60,o=at(s/60),r.hours=o%24,t+=at(o/24),a=at(ko(t)),n+=a,t-=No(Lo(a)),u=at(n/12),n%=12,r.days=t,r.months=n,r.years=u,this}function ko(e){return e*4800/146097}function Lo(e){return e*146097/4800}function Ao(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;e=nt(e);if(e==="month"||e==="quarter"||e==="year"){t=this._days+r/864e5,n=this._months+ko(t);switch(e){case"month":return n;case"quarter":return n/3;case"year":return n/12}}else{t=this._days+Math.round(Lo(this._months));switch(e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}}function Oo(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ft(this._months/12)*31536e6:NaN}function Mo(e){return function(){return this.as(e)}}function Ro(){return Ci(this)}function Uo(e){return e=nt(e),this.isValid()?this[e+"s"]():NaN}function zo(e){return function(){return this.isValid()?this._data[e]:NaN}}function Go(){return at(this.days()/7)}function eu(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function tu(e,t,n,r){var i=Ci(e).abs(),s=Yo(i.as("s")),o=Yo(i.as("m")),u=Yo(i.as("h")),a=Yo(i.as("d")),f=Yo(i.as("M")),l=Yo(i.as("w")),c=Yo(i.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||a<=1&&["d"]||a<n.d&&["dd",a];return n.w!=null&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),h=h||f<=1&&["M"]||f<n.M&&["MM",f]||c<=1&&["y"]||["yy",c],h[2]=t,h[3]=+e>0,h[4]=r,eu.apply(null,h)}function nu(e){return e===undefined?Yo:typeof e=="function"?(Yo=e,!0):!1}function ru(e,t){return Zo[e]===undefined?!1:t===undefined?Zo[e]:(Zo[e]=t,e==="s"&&(Zo.ss=t-1),!0)}function iu(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Zo,i,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Zo,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),s=tu(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}function ou(e){return(e>0)-(e<0)||+e}function uu(){if(!this.isValid())return this.localeData().invalidDate();var e=su(this._milliseconds)/1e3,t=su(this._days),n=su(this._months),r,i,s,o,u=this.asSeconds(),a,f,l,c;return u?(r=at(e/60),i=at(r/60),e%=60,r%=60,s=at(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",a=u<0?"-":"",f=ou(this._months)!==ou(u)?"-":"",l=ou(this._days)!==ou(u)?"-":"",c=ou(this._milliseconds)!==ou(u)?"-":"",a+"P"+(s?f+s+"Y":"")+(n?f+n+"M":"")+(t?l+t+"D":"")+(i||r||e?"T":"")+(i?c+i+"H":"")+(r?c+r+"M":"")+(e?c+o+"S":"")):"P0D"}var e,v;Array.prototype.some?v=Array.prototype.some:v=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var y=t.momentProperties=[],b=!1,N={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var M;Object.keys?M=Object.keys:M=function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var _={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},H=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},F={},W={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},V="Invalid date",J="%d",K=/\d{1,2}/,G={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},et={},it={},vt=/\d/,mt=/\d\d/,gt=/\d{3}/,yt=/\d{4}/,bt=/[+-]?\d{6}/,wt=/\d\d?/,Et=/\d\d\d\d?/,St=/\d\d\d\d\d\d?/,xt=/\d{1,3}/,Tt=/\d{1,4}/,Nt=/[+-]?\d{1,6}/,Ct=/\d+/,kt=/[+-]?\d+/,Lt=/Z|[+-]\d\d:?\d\d/gi,At=/Z|[+-]\d\d(?::?\d\d)?/gi,Ot=/[+-]?\d+(\.\d{1,3})?/,Mt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,_t;_t={};var jt={},Rt=0,Ut=1,zt=2,Wt=3,Xt=4,Vt=5,$t=6,Jt=7,Kt=8,Gt;Array.prototype.indexOf?Gt=Array.prototype.indexOf:Gt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),tt("month","M"),st("month",8),Dt("M",wt),Dt("MM",wt,mt),Dt("MMM",function(e,t){return t.monthsShortRegex(e)}),Dt("MMMM",function(e,t){return t.monthsRegex(e)}),Ft(["M","MM"],function(e,t){t[Ut]=ft(e)-1}),Ft(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Ut]=i:d(n).invalidMonth=e});var Zt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),en="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),tn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,nn=Mt,rn=Mt;I("Y",0,0,function(){var e=this.year();return e<=9999?P(e,4):"+"+e}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),tt("year","y"),st("year",1),Dt("Y",kt),Dt("YY",wt,mt),Dt("YYYY",Tt,yt),Dt("YYYYY",Nt,bt),Dt("YYYYYY",Nt,bt),Ft(["YYYYY","YYYYYY"],Rt),Ft("YYYY",function(e,n){n[Rt]=e.length===2?t.parseTwoDigitYear(e):ft(e)}),Ft("YY",function(e,n){n[Rt]=t.parseTwoDigitYear(e)}),Ft("Y",function(e,t){t[Rt]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return ft(e)+(ft(e)>68?1900:2e3)};var mn=lt("FullYear",!0);I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),tt("week","w"),tt("isoWeek","W"),st("week",5),st("isoWeek",5),Dt("w",wt),Dt("ww",wt,mt),Dt("W",wt),Dt("WW",wt,mt),It(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=ft(e)});var Nn={dow:0,doy:6};I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),tt("day","d"),tt("weekday","e"),tt("isoWeekday","E"),st("day",11),st("weekday",11),st("isoWeekday",11),Dt("d",wt),Dt("e",wt),Dt("E",wt),Dt("dd",function(e,t){return t.weekdaysMinRegex(e)}),Dt("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Dt("dddd",function(e,t){return t.weekdaysRegex(e)}),It(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:d(n).invalidWeekday=e}),It(["d","e","E"],function(e,t,n,r){t[r]=ft(e)});var Dn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Hn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Bn=Mt,jn=Mt,Fn=Mt;I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Gn),I("k",["kk",2],0,Yn),I("hmm",0,0,function(){return""+Gn.apply(this)+P(this.minutes(),2)}),I("hmmss",0,0,function(){return""+Gn.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)}),Zn("a",!0),Zn("A",!1),tt("hour","h"),st("hour",13),Dt("a",er),Dt("A",er),Dt("H",wt),Dt("h",wt),Dt("k",wt),Dt("HH",wt,mt),Dt("hh",wt,mt),Dt("kk",wt,mt),Dt("hmm",Et),Dt("hmmss",St),Dt("Hmm",Et),Dt("Hmmss",St),Ft(["H","HH"],Wt),Ft(["k","kk"],function(e,t,n){var r=ft(e);t[Wt]=r===24?0:r}),Ft(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Ft(["h","hh"],function(e,t,n){t[Wt]=ft(e),d(n).bigHour=!0}),Ft("hmm",function(e,t,n){var r=e.length-2;t[Wt]=ft(e.substr(0,r)),t[Xt]=ft(e.substr(r)),d(n).bigHour=!0}),Ft("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Wt]=ft(e.substr(0,r)),t[Xt]=ft(e.substr(r,2)),t[Vt]=ft(e.substr(i)),d(n).bigHour=!0}),Ft("Hmm",function(e,t,n){var r=e.length-2;t[Wt]=ft(e.substr(0,r)),t[Xt]=ft(e.substr(r))}),Ft("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Wt]=ft(e.substr(0,r)),t[Xt]=ft(e.substr(r,2)),t[Vt]=ft(e.substr(i))});var nr=/[ap]\.?m?\.?/i,rr=lt("Hours",!0),sr={calendar:_,longDateFormat:W,invalidDate:V,ordinal:J,dayOfMonthOrdinalParse:K,relativeTime:G,months:Zt,monthsShort:en,week:Nn,weekdays:Dn,weekdaysMin:Hn,weekdaysShort:Pn,meridiemParse:nr},or={},ur={},ar,br=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Er=/Z|[+-]\d\d(?::?\d\d)?/,Sr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],xr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tr=/^\/?Date\((-?\d+)/i,Nr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Jr=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$r.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()}),Kr=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$r.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}),Zr=function(){return Date.now?Date.now():+(new Date)},ei=["year","quarter","month","week","day","hour","minute","second","millisecond"];ai("Z",":"),ai("ZZ",""),Dt("Z",At),Dt("ZZ",At),Ft(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=li(At,e)});var fi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ti=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ni=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ci.fn=ii.prototype,Ci.invalid=ri;var _i=Oi(1,"add"),Di=Oi(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ss=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===undefined?this.localeData():this.locale(e)}),us=1e3,as=60*us,fs=60*as,ls=3506328*fs;I("N",0,0,"eraAbbr"),I("NN",0,0,"eraAbbr"),I("NNN",0,0,"eraAbbr"),I("NNNN",0,0,"eraName"),I("NNNNN",0,0,"eraNarrow"),I("y",["y",1],"yo","eraYear"),I("y",["yy",2],0,"eraYear"),I("y",["yyy",3],0,"eraYear"),I("y",["yyyy",4],0,"eraYear"),Dt("N",Bs),Dt("NN",Bs),Dt("NNN",Bs),Dt("NNNN",js),Dt("NNNNN",Fs),Ft(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?d(n).era=i:d(n).invalidEra=e}),Dt("y",Ct),Dt("yy",Ct),Dt("yyy",Ct),Dt("yyyy",Ct),Dt("yo",Is),Ft(["y","yy","yyy","yyyy"],Rt),Ft(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Rt]=n._locale.eraYearOrdinalParse(e,i):t[Rt]=parseInt(e,10)}),I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Rs("gggg","weekYear"),Rs("ggggg","weekYear"),Rs("GGGG","isoWeekYear"),Rs("GGGGG","isoWeekYear"),tt("weekYear","gg"),tt("isoWeekYear","GG"),st("weekYear",1),st("isoWeekYear",1),Dt("G",kt),Dt("g",kt),Dt("GG",wt,mt),Dt("gg",wt,mt),Dt("GGGG",Tt,yt),Dt("gggg",Tt,yt),Dt("GGGGG",Nt,bt),Dt("ggggg",Nt,bt),It(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=ft(e)}),It(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),I("Q",0,"Qo","quarter"),tt("quarter","Q"),st("quarter",7),Dt("Q",vt),Ft("Q",function(e,t){t[Ut]=(ft(e)-1)*3}),I("D",["DD",2],"Do","date"),tt("date","D"),st("date",9),Dt("D",wt),Dt("DD",wt,mt),Dt("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Ft(["D","DD"],zt),Ft("Do",function(e,t){t[zt]=ft(e.match(wt)[0])});var Gs=lt("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear"),tt("dayOfYear","DDD"),st("dayOfYear",4),Dt("DDD",xt),Dt("DDDD",gt),Ft(["DDD","DDDD"],function(e,t,n){n._dayOfYear=ft(e)}),I("m",["mm",2],0,"minute"),tt("minute","m"),st("minute",14),Dt("m",wt),Dt("mm",wt,mt),Ft(["m","mm"],Xt);var Zs=lt("Minutes",!1);I("s",["ss",2],0,"second"),tt("second","s"),st("second",15),Dt("s",wt),Dt("ss",wt,mt),Ft(["s","ss"],Vt);var eo=lt("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return this.millisecond()*10}),I(0,["SSSSS",5],0,function(){return this.millisecond()*100}),I(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),I(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),I(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),I(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),tt("millisecond","ms"),st("millisecond",16),Dt("S",xt,vt),Dt("SS",xt,mt),Dt("SSS",xt,gt);var to,no;for(to="SSSS";to.length<=9;to+="S")Dt(to,Ct);for(to="S";to.length<=9;to+="S")Ft(to,ro);no=lt("Milliseconds",!1),I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var oo=E.prototype;oo.add=_i,oo.calendar=qi,oo.clone=Ri,oo.diff=Ji,oo.endOf=vs,oo.format=Zi,oo.from=es,oo.fromNow=ts,oo.to=ns,oo.toNow=rs,oo.get=pt,oo.invalidAt=Ts,oo.isAfter=Ui,oo.isBefore=zi,oo.isBetween=Wi,oo.isSame=Xi,oo.isSameOrAfter=Vi,oo.isSameOrBefore=$i,oo.isValid=Ss,oo.lang=ss,oo.locale=is,oo.localeData=os,oo.max=Kr,oo.min=Jr,oo.parsingFlags=xs,oo.set=dt,oo.startOf=ds,oo.subtract=Di,oo.toArray=bs,oo.toObject=ws,oo.toDate=ys,oo.toISOString=Gi,oo.inspect=Yi,typeof Symbol!="undefined"&&Symbol.for!=null&&(oo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),oo.toJSON=Es,oo.toString=Qi,oo.unix=gs,oo.valueOf=ms,oo.creationData=Ns,oo.eraName=As,oo.eraNarrow=Os,oo.eraAbbr=Ms,oo.eraYear=_s,oo.year=mn,oo.isLeapYear=gn,oo.weekYear=Us,oo.isoWeekYear=zs,oo.quarter=oo.quarters=Qs,oo.month=ln,oo.daysInMonth=cn,oo.week=oo.weeks=Ln,oo.isoWeek=oo.isoWeeks=An,oo.weeksInYear=Vs,oo.weeksInWeekYear=$s,oo.isoWeeksInYear=Ws,oo.isoWeeksInISOWeekYear=Xs,oo.date=Gs,oo.day=oo.days=Wn,oo.weekday=Xn,oo.isoWeekday=Vn,oo.dayOfYear=Ys,oo.hour=oo.hours=rr,oo.minute=oo.minutes=Zs,oo.second=oo.seconds=eo,oo.millisecond=oo.milliseconds=no,oo.utcOffset=pi,oo.utc=vi,oo.local=mi,oo.parseZone=gi,oo.hasAlignedHourOffset=yi,oo.isDST=bi,oo.isLocal=Ei,oo.isUtcOffset=Si,oo.isUtc=xi,oo.isUTC=xi,oo.zoneAbbr=io,oo.zoneName=so,oo.dates=T("dates accessor is deprecated. Use date instead.",Gs),oo.months=T("months accessor is deprecated. Use month instead",ln),oo.years=T("years accessor is deprecated. Use year instead",mn),oo.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",di),oo.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wi);var lo=O.prototype;lo.calendar=D,lo.longDateFormat=X,lo.invalidDate=$,lo.ordinal=Q,lo.preparse=fo,lo.postformat=fo,lo.relativeTime=Y,lo.pastFuture=Z,lo.set=L,lo.eras=Cs,lo.erasParse=ks,lo.erasConvertYear=Ls,lo.erasAbbrRegex=Ps,lo.erasNameRegex=Ds,lo.erasNarrowRegex=Hs,lo.months=sn,lo.monthsShort=on,lo.monthsParse=an,lo.monthsRegex=pn,lo.monthsShortRegex=hn,lo.week=Tn,lo.firstDayOfYear=kn,lo.firstDayOfWeek=Cn,lo.weekdays=In,lo.weekdaysMin=Rn,lo.weekdaysShort=qn,lo.weekdaysParse=zn,lo.weekdaysRegex=$n,lo.weekdaysShortRegex=Jn,lo.weekdaysMinRegex=Kn,lo.isPM=tr,lo.meridiem=ir,pr("en",{eras:[{since:"0001-01-01",until:+Infinity,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-Infinity,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=ft(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}}),t.lang=T("moment.lang is deprecated. Use moment.locale instead.",pr),t.langData=T("moment.langData is deprecated. Use moment.localeData instead.",mr);var wo=Math.abs,_o=Mo("ms"),Do=Mo("s"),Po=Mo("m"),Ho=Mo("h"),Bo=Mo("d"),jo=Mo("w"),Fo=Mo("M"),Io=Mo("Q"),qo=Mo("y"),Wo=zo("milliseconds"),Xo=zo("seconds"),Vo=zo("minutes"),$o=zo("hours"),Jo=zo("days"),Ko=zo("months"),Qo=zo("years"),Yo=Math.round,Zo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},su=Math.abs,au=ii.prototype;return au.isValid=ni,au.abs=Eo,au.add=xo,au.subtract=To,au.as=Ao,au.asMilliseconds=_o,au.asSeconds=Do,au.asMinutes=Po,au.asHours=Ho,au.asDays=Bo,au.asWeeks=jo,au.asMonths=Fo,au.asQuarters=Io,au.asYears=qo,au.valueOf=Oo,au._bubble=Co,au.clone=Ro,au.get=Uo,au.milliseconds=Wo,au.seconds=Xo,au.minutes=Vo,au.hours=$o,au.days=Jo,au.weeks=Go,au.months=Ko,au.years=Qo,au.humanize=iu,au.toISOString=uu,au.toString=uu,au.toJSON=uu,au.locale=is,au.localeData=os,au.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uu),au.lang=ss,I("X",0,0,"unix"),I("x",0,0,"valueOf"),Dt("x",kt),Dt("X",Ot),Ft("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)}),Ft("x",function(e,t,n){n._d=new Date(ft(e))}),t.version="2.28.0",n($r),t.fn=oo,t.min=Gr,t.max=Yr,t.now=Zr,t.utc=h,t.unix=uo,t.months=vo,t.isDate=f,t.locale=pr,t.invalid=g,t.duration=Ci,t.isMoment=S,t.weekdays=go,t.parseZone=ao,t.localeData=mr,t.isDuration=si,t.monthsShort=mo,t.weekdaysMin=bo,t.defineLocale=dr,t.updateLocale=vr,t.locales=gr,t.weekdaysShort=yo,t.normalizeUnits=nt,t.relativeTimeRounding=nu,t.relativeTimeThreshold=ru,t.calendarFormat=Ii,t.prototype=oo,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t}),function(e){if(typeof exports=="object"&&typeof module!="undefined")module.exports=e();else if(typeof define=="function"&&define.amd)define("numbro",[],e);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,t.numbro=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,n,r){(function(t){"use strict";function g(e){function R(e,t){var s,u,a,c,d,v,m=this;if(!(m instanceof R))return H&&$(26,"constructor call without new",e),new R(e,t);if(t==null||!B(t,2,64,r,"base")){if(e instanceof R){m.s=e.s,m.e=e.e,m.c=(e=e.c)?e.slice():e,r=0;return}if((c=typeof e=="number")&&e*0==0){m.s=1/e<0?(e=-e,-1):1;if(e===~~e){for(u=0,a=e;a>=10;a/=10,u++);m.e=u,m.c=[e],r=0;return}v=e+""}else{if(!i.test(v=e+""))return n(m,v,c);m.s=v.charCodeAt(0)===45?(v=v.slice(1),-1):1}}else{t|=0,v=e+"";if(t==10)return m=new R(e instanceof R?e:v),J(m,A+m.e+1,O);if((c=typeof e=="number")&&e*0!=0||!(new RegExp("^-?"+(s="["+l.slice(0,t)+"]+")+"(?:\\."+s+")?$",t<37?"i":"")).test(v))return n(m,v,c,t);c?(m.s=1/e<0?(v=v.slice(1),-1):1,H&&v.replace(/^0\.0*|\./,"").length>15&&$(r,f,e),c=!1):m.s=v.charCodeAt(0)===45?(v=v.slice(1),-1):1,v=U(v,10,t,m.s)}(u=v.indexOf("."))>-1&&(v=v.replace(".","")),(a=v.search(/e/i))>0?(u<0&&(u=a),u+=+v.slice(a+1),v=v.substring(0,a)):u<0&&(u=v.length);for(a=0;v.charCodeAt(a)===48;a++);for(d=v.length;v.charCodeAt(--d)===48;);v=v.slice(a,d+1);if(v){d=v.length,c&&H&&d>15&&(e>p||e!==o(e))&&$(r,f,m.s*e),u=u-a-1;if(u>P)m.c=m.e=null;else if(u<D)m.c=[m.e=0];else{m.e=u,m.c=[],a=(u+1)%h,u<0&&(a+=h);if(a<d){a&&m.c.push(+v.slice(0,a));for(d-=h;a<d;)m.c.push(+v.slice(a,a+=h));v=v.slice(a),a=h-v.length}else a-=d;for(;a--;v+="0");m.c.push(+v)}}else m.c=[m.e=0];r=0}function U(e,n,r,i){var s,o,u,a,f,c,h,p=e.indexOf("."),d=A,v=O;r<37&&(e=e.toLowerCase()),p>=0&&(u=I,I=0,e=e.replace(".",""),h=new R(r),f=h.pow(e.length-p),I=u,h.c=x(N(b(f.c),f.e),10,n),h.e=h.c.length),c=x(e,r,n),o=u=c.length;for(;c[--u]==0;c.pop());if(!c[0])return"0";p<0?--o:(f.c=c,f.e=o,f.s=i,f=t(f,h,d,v,n),c=f.c,a=f.r,o=f.e),s=o+d+1,p=c[s],u=n/2,a=a||s<0||c[s+1]!=null,a=v<4?(p!=null||a)&&(v==0||v==(f.s<0?3:2)):p>u||p==u&&(v==4||a||v==6&&c[s-1]&1||v==(f.s<0?8:7));if(s<1||!c[0])e=a?N("1",-d):"0";else{c.length=s;if(a)for(--n;++c[--s]>n;)c[s]=0,s||(++o,c=[1].concat(c));for(u=c.length;!c[--u];);for(p=0,e="";p<=u;e+=l.charAt(c[p++]));e=N(e,o)}return e}function z(e,t,n,r){var i,s,o,u,f;n=n!=null&&B(n,0,8,r,a)?n|0:O;if(!e.c)return e.toString();i=e.c[0],o=e.e;if(t==null)f=b(e.c),f=r==19||r==24&&o<=M?T(f,o):N(f,o);else{e=J(new R(e),t,n),s=e.e,f=b(e.c),u=f.length;if(r==19||r==24&&(t<=s||s<=M)){for(;u<t;f+="0",u++);f=T(f,s)}else{t-=o,f=N(f,s);if(s+1>u){if(--t>0)for(f+=".";t--;f+="0");}else{t+=s-u;if(t>0){s+1==u&&(f+=".");for(;t--;f+="0");}}}}return e.s<0&&i?"-"+f:f}function W(e,t){var n,r,i=0;S(e[0])&&(e=e[0]),n=new R(e[0]);for(;++i<e.length;){r=new R(e[i]);if(!r.s){n=r;break}t.call(n,r)&&(n=r)}return n}function X(e,t,n,r,i){return(e<t||e>n||e!=C(e))&&$(r,(i||"decimal places")+(e<t||e>n?" out of range":" not an integer"),e),!0}function V(e,t,n){var r=1,i=t.length;for(;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*h-1)>P?e.c=e.e=null:n<D?e.c=[e.e=0]:(e.e=n,e.c=t),e}function $(e,t,n){var i=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+n);throw i.name="BigNumber Error",r=0,i}function J(e,t,n,r){var i,u,a,f,l,p,v,m=e.c,g=d;if(m){e:{for(i=1,f=m[0];f>=10;f/=10,i++);u=t-i;if(u<0)u+=h,a=t,l=m[p=0],v=l/g[i-a-1]%10|0;else{p=s((u+1)/h);if(p>=m.length){if(!r)break e;for(;m.length<=p;m.push(0));l=v=0,i=1,u%=h,a=u-h+1}else{l=f=m[p];for(i=1;f>=10;f/=10,i++);u%=h,a=u-h+i,v=a<0?0:l/g[i-a-1]%10|0}}r=r||t<0||m[p+1]!=null||(a<0?l:l%g[i-a-1]),r=n<4?(v||r)&&(n==0||n==(e.s<0?3:2)):v>5||v==5&&(n==4||r||n==6&&(u>0?a>0?l/g[i-a]:0:m[p-1])%10&1||n==(e.s<0?8:7));if(t<1||!m[0])return m.length=0,r?(t-=e.e+1,m[0]=g[(h-t%h)%h],e.e=-t||0):m[0]=e.e=0,e;u==0?(m.length=p,f=1,p--):(m.length=p+1,f=g[h-u],m[p]=a>0?o(l/g[i-a]%g[a])*f:0);if(r)for(;;){if(p==0){for(u=1,a=m[0];a>=10;a/=10,u++);a=m[0]+=f;for(f=1;a>=10;a/=10,f++);u!=f&&(e.e++,m[0]==c&&(m[0]=1));break}m[p]+=f;if(m[p]!=c)break;m[p--]=0,f=1}for(u=m.length;m[--u]===0;m.pop());}e.e>P?e.c=e.e=null:e.e<D&&(e.c=[e.e=0])}return e}var t,n,r=0,k=R.prototype,L=new R(1),A=20,O=4,M=-7,_=21,D=-1e7,P=1e7,H=!0,B=X,j=!1,F=1,I=0,q={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"Â ",fractionGroupSize:0};return R.another=g,R.ROUND_UP=0,R.ROUND_DOWN=1,R.ROUND_CEIL=2,R.ROUND_FLOOR=3,R.ROUND_HALF_UP=4,R.ROUND_HALF_DOWN=5,R.ROUND_HALF_EVEN=6,R.ROUND_HALF_CEIL=7,R.ROUND_HALF_FLOOR=8,R.EUCLID=9,R.config=R.set=function(){var e,t,n=0,i={},s=arguments,o=s[0],a=o&&typeof o=="object"?function(){if(o.hasOwnProperty(t))return(e=o[t])!=null}:function(){if(s.length>n)return(e=s[n++])!=null};return a(t="DECIMAL_PLACES")&&B(e,0,m,2,t)&&(A=e|0),i[t]=A,a(t="ROUNDING_MODE")&&B(e,0,8,2,t)&&(O=e|0),i[t]=O,a(t="EXPONENTIAL_AT")&&(S(e)?B(e[0],-m,0,2,t)&&B(e[1],0,m,2,t)&&(M=e[0]|0,_=e[1]|0):B(e,-m,m,2,t)&&(M=-(_=(e<0?-e:e)|0))),i[t]=[M,_],a(t="RANGE")&&(S(e)?B(e[0],-m,-1,2,t)&&B(e[1],1,m,2,t)&&(D=e[0]|0,P=e[1]|0):B(e,-m,m,2,t)&&(e|0?D=-(P=(e<0?-e:e)|0):H&&$(2,t+" cannot be zero",e))),i[t]=[D,P],a(t="ERRORS")&&(e===!!e||e===1||e===0?(r=0,B=(H=!!e)?X:E):H&&$(2,t+u,e)),i[t]=H,a(t="CRYPTO")&&(e===!0||e===!1||e===1||e===0?e?(e=typeof crypto=="undefined",!e&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?j=!0:H?$(2,"crypto unavailable",e?void 0:crypto):j=!1):j=!1:H&&$(2,t+u,e)),i[t]=j,a(t="MODULO_MODE")&&B(e,0,9,2,t)&&(F=e|0),i[t]=F,a(t="POW_PRECISION")&&B(e,0,m,2,t)&&(I=e|0),i[t]=I,a(t="FORMAT")&&(typeof e=="object"?q=e:H&&$(2,t+" not an object",e)),i[t]=q,i},R.max=function(){return W(arguments,k.lt)},R.min=function(){return W(arguments,k.gt)},R.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return o(Math.random()*e)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(e){var n,r,i,u,a,f=0,l=[],c=new R(L);e=e==null||!B(e,0,m,14)?A:e|0,u=s(e/h);if(j)if(crypto.getRandomValues){n=crypto.getRandomValues(new Uint32Array(u*=2));for(;f<u;)a=n[f]*131072+(n[f+1]>>>11),a>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),n[f]=r[0],n[f+1]=r[1]):(l.push(a%1e14),f+=2);f=u/2}else if(crypto.randomBytes){n=crypto.randomBytes(u*=7);for(;f<u;)a=(n[f]&31)*281474976710656+n[f+1]*1099511627776+n[f+2]*4294967296+n[f+3]*16777216+(n[f+4]<<16)+(n[f+5]<<8)+n[f+6],a>=9e15?crypto.randomBytes(7).copy(n,f):(l.push(a%1e14),f+=7);f=u/7}else j=!1,H&&$(14,"crypto unavailable",crypto);if(!j)for(;f<u;)a=t(),a<9e15&&(l[f++]=a%1e14);u=l[--f],e%=h,u&&e&&(a=d[h-e],l[f]=o(u/a)*a);for(;l[f]===0;l.pop(),f--);if(f<0)l=[i=0];else{for(i=-1;l[0]===0;l.splice(0,1),i-=h);for(f=1,a=l[0];a>=10;a/=10,f++);f<h&&(i-=h-f)}return c.e=i,c.c=l,c}}(),t=function(){function e(e,t,n){var r,i,s,o,u=0,a=e.length,f=t%v,l=t/v|0;for(e=e.slice();a--;)s=e[a]%v,o=e[a]/v|0,r=l*s+o*f,i=f*s+r%v*v+u,u=(i/n|0)+(r/v|0)+l*o,e[a]=i%n;return u&&(e=[u].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){var i=0;for(;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,u,a){var f,l,p,d,v,m,g,b,w,E,S,x,T,N,C,k,L,A=r.s==i.s?1:-1,O=r.c,M=i.c;if(!O||!O[0]||!M||!M[0])return new R(!r.s||!i.s||(O?M&&O[0]==M[0]:!M)?NaN:O&&O[0]==0||!M?A*0:A/0);b=new R(A),w=b.c=[],l=r.e-i.e,A=s+l+1,a||(a=c,l=y(r.e/h)-y(i.e/h),A=A/h|0);for(p=0;M[p]==(O[p]||0);p++);M[p]>(O[p]||0)&&l--;if(A<0)w.push(1),d=!0;else{N=O.length,k=M.length,p=0,A+=2,v=o(a/(M[0]+1)),v>1&&(M=e(M,v,a),O=e(O,v,a),k=M.length,N=O.length),T=k,E=O.slice(0,k),S=E.length;for(;S<k;E[S++]=0);L=M.slice(),L=[0].concat(L),C=M[0],M[1]>=a/2&&C++;do{v=0,f=t(M,E,k,S);if(f<0){x=E[0],k!=S&&(x=x*a+(E[1]||0)),v=o(x/C);if(v>1){v>=a&&(v=a-1),m=e(M,v,a),g=m.length,S=E.length;while(t(m,E,g,S)==1)v--,n(m,k<g?L:M,g,a),g=m.length,f=1}else v==0&&(f=v=1),m=M.slice(),g=m.length;g<S&&(m=[0].concat(m)),n(E,m,S,a),S=E.length;if(f==-1)while(t(M,E,k,S)<1)v++,n(E,k<S?L:M,S,a),S=E.length}else f===0&&(v++,E=[0]);w[p++]=v,E[0]?E[S++]=O[T]||0:(E=[O[T]],S=1)}while((T++<N||E[0]!=null)&&A--);d=E[0]!=null,w[0]||w.splice(0,1)}if(a==c){for(p=1,A=w[0];A>=10;A/=10,p++);J(b,s+(b.e=p+l*h-1)+1,u,d)}else b.e=l,b.r=+d;return b}}(),n=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,n=/^\.([^.]+)$/,i=/^-?(Infinity|NaN)$/,s=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(o,u,a,f){var l,c=a?u:u.replace(s,"");if(i.test(c))o.s=isNaN(c)?null:c<0?-1:1;else{if(!a){c=c.replace(e,function(e,t,n){return l=(n=n.toLowerCase())=="x"?16:n=="b"?2:8,!f||f==l?t:e}),f&&(l=f,c=c.replace(t,"$1").replace(n,"0.$1"));if(u!=c)return new R(c,l)}H&&$(r,"not a"+(f?" base "+f:"")+" number",u),o.s=null}o.c=o.e=null,r=0}}(),k.absoluteValue=k.abs=function(){var e=new R(this);return e.s<0&&(e.s=1),e},k.ceil=function(){return J(new R(this),this.e+1,2)},k.comparedTo=k.cmp=function(e,t){return r=1,w(this,new R(e,t))},k.decimalPlaces=k.dp=function(){var e,t,n=this.c;if(!n)return null;e=((t=n.length-1)-y(this.e/h))*h;if(t=n[t])for(;t%10==0;t/=10,e--);return e<0&&(e=0),e},k.dividedBy=k.div=function(e,n){return r=3,t(this,new R(e,n),A,O)},k.dividedToIntegerBy=k.divToInt=function(e,n){return r=4,t(this,new R(e,n),0,1)},k.equals=k.eq=function(e,t){return r=5,w(this,new R(e,t))===0},k.floor=function(){return J(new R(this),this.e+1,3)},k.greaterThan=k.gt=function(e,t){return r=6,w(this,new R(e,t))>0},k.greaterThanOrEqualTo=k.gte=function(e,t){return r=7,(t=w(this,new R(e,t)))===1||t===0},k.isFinite=function(){return!!this.c},k.isInteger=k.isInt=function(){return!!this.c&&y(this.e/h)>this.c.length-2},k.isNaN=function(){return!this.s},k.isNegative=k.isNeg=function(){return this.s<0},k.isZero=function(){return!!this.c&&this.c[0]==0},k.lessThan=k.lt=function(e,t){return r=8,w(this,new R(e,t))<0},k.lessThanOrEqualTo=k.lte=function(e,t){return r=9,(t=w(this,new R(e,t)))===-1||t===0},k.minus=k.sub=function(e,t){var n,i,s,o,u=this,a=u.s;r=10,e=new R(e,t),t=e.s;if(!a||!t)return new R(NaN);if(a!=t)return e.s=-t,u.plus(e);var f=u.e/h,l=e.e/h,p=u.c,d=e.c;if(!f||!l){if(!p||!d)return p?(e.s=-t,e):new R(d?u:NaN);if(!p[0]||!d[0])return d[0]?(e.s=-t,e):new R(p[0]?u:O==3?0:0)}f=y(f),l=y(l),p=p.slice();if(a=f-l){(o=a<0)?(a=-a,s=p):(l=f,s=d),s.reverse();for(t=a;t--;s.push(0));s.reverse()}else{i=(o=(a=p.length)<(t=d.length))?a:t;for(a=t=0;t<i;t++)if(p[t]!=d[t]){o=p[t]<d[t];break}}o&&(s=p,p=d,d=s,e.s=-e.s),t=(i=d.length)-(n=p.length);if(t>0)for(;t--;p[n++]=0);t=c-1;for(;i>a;){if(p[--i]<d[i]){for(n=i;n&&!p[--n];p[n]=t);--p[n],p[i]+=c}p[i]-=d[i]}for(;p[0]==0;p.splice(0,1),--l);return p[0]?V(e,p,l):(e.s=O==3?-1:1,e.c=[e.e=0],e)},k.modulo=k.mod=function(e,n){var i,s,o=this;return r=11,e=new R(e,n),!o.c||!e.s||e.c&&!e.c[0]?new R(NaN):!e.c||o.c&&!o.c[0]?new R(o):(F==9?(s=e.s,e.s=1,i=t(o,e,0,3),e.s=s,i.s*=s):i=t(o,e,0,F),o.minus(i.times(e)))},k.negated=k.neg=function(){var e=new R(this);return e.s=-e.s||null,e},k.plus=k.add=function(e,t){var n,i=this,s=i.s;r=12,e=new R(e,t),t=e.s;if(!s||!t)return new R(NaN);if(s!=t)return e.s=-t,i.minus(e);var o=i.e/h,u=e.e/h,a=i.c,f=e.c;if(!o||!u){if(!a||!f)return new R(s/0);if(!a[0]||!f[0])return f[0]?e:new R(a[0]?i:s*0)}o=y(o),u=y(u),a=a.slice();if(s=o-u){s>0?(u=o,n=f):(s=-s,n=a),n.reverse();for(;s--;n.push(0));n.reverse()}s=a.length,t=f.length,s-t<0&&(n=f,f=a,a=n,t=s);for(s=0;t;)s=(a[--t]=a[t]+f[t]+s)/c|0,a[t]=c===a[t]?0:a[t]%c;return s&&(a=[s].concat(a),++u),V(e,a,u)},k.precision=k.sd=function(e){var t,n,r=this,i=r.c;e!=null&&e!==!!e&&e!==1&&e!==0&&(H&&$(13,"argument"+u,e),e!=!!e&&(e=null));if(!i)return null;n=i.length-1,t=n*h+1;if(n=i[n]){for(;n%10==0;n/=10,t--);for(n=i[0];n>=10;n/=10,t++);}return e&&r.e+1>t&&(t=r.e+1),t},k.round=function(e,t){var n=new R(this);return(e==null||B(e,0,m,15))&&J(n,~~e+this.e+1,t==null||!B(t,0,8,15,a)?O:t|0),n},k.shift=function(e){var t=this;return B(e,-p,p,16,"argument")?t.times("1e"+C(e)):new R(t.c&&t.c[0]&&(e<-p||e>p)?t.s*(e<0?0:1/0):t)},k.squareRoot=k.sqrt=function(){var e,n,r,i,s,o=this,u=o.c,a=o.s,f=o.e,l=A+4,c=new R("0.5");if(a!==1||!u||!u[0])return new R(!a||a<0&&(!u||u[0])?NaN:u?o:1/0);a=Math.sqrt(+o),a==0||a==1/0?(n=b(u),(n.length+f)%2==0&&(n+="0"),a=Math.sqrt(n),f=y((f+1)/2)-(f<0||f%2),a==1/0?n="1e"+f:(n=a.toExponential(),n=n.slice(0,n.indexOf("e")+1)+f),r=new R(n)):r=new R(a+"");if(r.c[0]){f=r.e,a=f+l,a<3&&(a=0);for(;;){s=r,r=c.times(s.plus(t(o,s,l,1)));if(b(s.c).slice(0,a)===(n=b(r.c)).slice(0,a)){r.e<f&&--a,n=n.slice(a-3,a+1);if(!(n=="9999"||!i&&n=="4999")){if(!+n||!+n.slice(1)&&n.charAt(0)=="5")J(r,r.e+A+2,1),e=!r.times(r).eq(o);break}if(!i){J(s,s.e+A+2,0);if(s.times(s).eq(o)){r=s;break}}l+=4,a+=4,i=1}}}return J(r,r.e+A+1,O,e)},k.times=k.mul=function(e,t){var n,i,s,o,u,a,f,l,p,d,m,g,b,w,E,S=this,x=S.c,T=(r=17,e=new R(e,t)).c;if(!x||!T||!x[0]||!T[0])return!S.s||!e.s||x&&!x[0]&&!T||T&&!T[0]&&!x?e.c=e.e=e.s=null:(e.s*=S.s,!x||!T?e.c=e.e=null:(e.c=[0],e.e=0)),e;i=y(S.e/h)+y(e.e/h),e.s*=S.s,f=x.length,d=T.length,f<d&&(b=x,x=T,T=b,s=f,f=d,d=s);for(s=f+d,b=[];s--;b.push(0));w=c,E=v;for(s=d;--s>=0;){n=0,m=T[s]%E,g=T[s]/E|0;for(u=f,o=s+u;o>s;)l=x[--u]%E,p=x[u]/E|0,a=g*l+p*m,l=m*l+a%E*E+b[o]+n,n=(l/w|0)+(a/E|0)+g*p,b[o--]=l%w;b[o]=n}return n?++i:b.splice(0,1),V(e,b,i)},k.toDigits=function(e,t){var n=new R(this);return e=e==null||!B(e,1,m,18,"precision")?null:e|0,t=t==null||!B(t,0,8,18,a)?O:t|0,e?J(n,e,t):n},k.toExponential=function(e,t){return z(this,e!=null&&B(e,0,m,19)?~~e+1:null,t,19)},k.toFixed=function(e,t){return z(this,e!=null&&B(e,0,m,20)?~~e+this.e+1:null,t,20)},k.toFormat=function(e,t){var n=z(this,e!=null&&B(e,0,m,21)?~~e+this.e+1:null,t,21);if(this.c){var r,i=n.split("."),s=+q.groupSize,o=+q.secondaryGroupSize,u=q.groupSeparator,a=i[0],f=i[1],l=this.s<0,c=l?a.slice(1):a,h=c.length;o&&(r=s,s=o,o=r,h-=r);if(s>0&&h>0){r=h%s||s,a=c.substr(0,r);for(;r<h;r+=s)a+=u+c.substr(r,s);o>0&&(a+=u+c.slice(r)),l&&(a="-"+a)}n=f?a+q.decimalSeparator+((o=+q.fractionGroupSize)?f.replace(new RegExp("\\d{"+o+"}\\B","g"),"$&"+q.fractionGroupSeparator):f):a}return n},k.toFraction=function(e){var n,r,i,s,o,u,a,f,l,c=H,p=this,v=p.c,m=new R(L),g=r=new R(L),y=a=new R(L);if(e!=null){H=!1,u=new R(e),H=c;if(!(c=u.isInt())||u.lt(L))H&&$(22,"max denominator "+(c?"out of range":"not an integer"),e),e=!c&&u.c&&J(u,u.e+1,1).gte(L)?u:null}if(!v)return p.toString();l=b(v),s=m.e=l.length-p.e-1,m.c[0]=d[(o=s%h)<0?h+o:o],e=!e||u.cmp(m)>0?s>0?m:g:u,o=P,P=1/0,u=new R(l),a.c[0]=0;for(;;){f=t(u,m,0,1),i=r.plus(f.times(y));if(i.cmp(e)==1)break;r=y,y=i,g=a.plus(f.times(i=g)),a=i,m=u.minus(f.times(i=m)),u=i}return i=t(e.minus(r),y,0,1),a=a.plus(i.times(g)),r=r.plus(i.times(y)),a.s=g.s=p.s,s*=2,n=t(g,y,s,O).minus(p).abs().cmp(t(a,r,s,O).minus(p).abs())<1?[g.toString(),y.toString()]:[a.toString(),r.toString()],P=o,n},k.toNumber=function(){return+this},k.toPower=k.pow=function(e,t){var n,i,u,a=o(e<0?-e:+e),f=this;t!=null&&(r=23,t=new R(t));if(!B(e,-p,p,23,"exponent")&&(!isFinite(e)||a>p&&(e/=0)||parseFloat(e)!=e&&!(e=NaN))||e==0)return n=Math.pow(+f,e),new R(t?n%t:n);t?e>1&&f.gt(L)&&f.isInt()&&t.gt(L)&&t.isInt()?f=f.mod(t):(u=t,t=null):I&&(n=s(I/h+2)),i=new R(L);for(;;){if(a%2){i=i.times(f);if(!i.c)break;n?i.c.length>n&&(i.c.length=n):t&&(i=i.mod(t))}a=o(a/2);if(!a)break;f=f.times(f),n?f.c&&f.c.length>n&&(f.c.length=n):t&&(f=f.mod(t))}return t?i:(e<0&&(i=L.div(i)),u?i.mod(u):n?J(i,I,O):i)},k.toPrecision=function(e,t){return z(this,e!=null&&B(e,1,m,24,"precision")?e|0:null,t,24)},k.toString=function(e){var t,n=this,r=n.s,i=n.e;return i===null?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(t=b(n.c),e==null||!B(e,2,64,25,"base")?t=i<=M||i>=_?T(t,i):N(t,i):t=U(N(t,i),e|0,10,r),r<0&&n.c[0]&&(t="-"+t)),t},k.truncated=k.trunc=function(){return J(new R(this),this.e+1,1)},k.valueOf=k.toJSON=function(){var e,t=this,n=t.e;return n===null?t.toString():(e=b(t.c),e=n<=M||n>=_?T(e,n):N(e,n),t.s<0?"-"+e:e)},k.isBigNumber=!0,e!=null&&R.config(e),R}function y(e){var t=e|0;return e>0||e===t?t:t-1}function b(e){var t,n,r=1,i=e.length,s=e[0]+"";for(;r<i;){t=e[r++]+"",n=h-t.length;for(;n--;t="0"+t);s+=t}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function w(e,t){var n,r,i=e.c,s=t.c,o=e.s,u=t.s,a=e.e,f=t.e;if(!o||!u)return null;n=i&&!i[0],r=s&&!s[0];if(n||r)return n?r?0:-u:o;if(o!=u)return o;n=o<0,r=a==f;if(!i||!s)return r?0:!i^n?1:-1;if(!r)return a>f^n?1:-1;u=(a=i.length)<(f=s.length)?a:f;for(o=0;o<u;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return a==f?0:a>f^n?1:-1}function E(e,t,n){return(e=C(e))>=t&&e<=n}function S(e){return Object.prototype.toString.call(e)=="[object Array]"}function x(e,t,n){var r,i=[0],s,o=0,u=e.length;for(;o<u;){for(s=i.length;s--;i[s]*=t);i[r=0]+=l.indexOf(e.charAt(o++));for(;r<i.length;r++)i[r]>n-1&&(i[r+1]==null&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function T(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function N(e,t){var n,r;if(t<0){for(r="0.";++t;r+="0");e=r+e}else{n=e.length;if(++t>n){for(r="0",t-=n;--t;r+="0");e+=r}else t<n&&(e=e.slice(0,t)+"."+e.slice(t))}return e}function C(e){return e=parseFloat(e),e<0?s(e):o(e)}var r,i=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,s=Math.ceil,o=Math.floor,u=" not a boolean or binary digit",a="rounding mode",f="number type has more than 15 significant digits",l="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",c=1e14,h=14,p=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],v=1e7,m=1e9;r=g(),r["default"]=r.BigNumber=r,typeof e=="function"&&e.amd?e(function(){return r}):typeof n!="undefined"&&n.exports?n.exports=r:(t||(t=typeof self!="undefined"?self:Function("return this")()),t.BigNumber=r)})(this)},{}],2:[function(e,t,n){"use strict";t.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(t){var n=t%10;return~~(t%100/10)===1?"th":n===1?"st":n===2?"nd":n===3?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(e,t,n){"use strict";function c(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments[2];typeof t=="string"&&(t=o.parseFormat(t));var r=s.validateFormat(t);if(!r)return"ERROR: invalid format";var i=t.prefix||"",u=t.postfix||"",a=h(e,t,n);return a=D(a,i),a=P(a,u),a}function h(e,t,n){switch(t.output){case"currency":return t=B(t,i.currentCurrencyDefaultFormat()),E(e,t,i,n);case"percent":return t=B(t,i.currentPercentageDefaultFormat()),w(e,t,i,n);case"byte":return t=B(t,i.currentByteDefaultFormat()),g(e,t,i,n);case"time":return t=B(t,i.currentTimeDefaultFormat()),b(e,t,i,n);case"ordinal":return t=B(t,i.currentOrdinalDefaultFormat()),y(e,t,i,n);case"number":default:return H({instance:e,providedFormat:t,numbro:n})}}function p(e){var t=f.decimal;return m(e._value,t.suffixes,t.scale).suffix}function d(e){var t=f.binary;return m(e._value,t.suffixes,t.scale).suffix}function v(e){var t=f.general;return m(e._value,t.suffixes,t.scale).suffix}function m(e,t,n){var r=t[0],i=Math.abs(e);if(i>=n){for(var s=1;s<t.length;++s){var o=Math.pow(n,s),u=Math.pow(n,s+1);if(i>=o&&i<u){r=t[s],e/=o;break}}r===t[0]&&(e/=Math.pow(n,t.length-1),r=t[t.length-1])}return{value:e,suffix:r}}function g(e,t,n,r){var i=t.base||"binary",s=f[i],o=m(e._value,s.suffixes,s.scale),u=o.value,a=o.suffix,l=H({instance:r(u),providedFormat:t,state:n,defaults:n.currentByteDefaultFormat()}),c=n.currentAbbreviations();return""+l+(c.spaced?" ":"")+a}function y(e,t,n){var r=n.currentOrdinal(),i=Object.assign({},l,t),s=H({instance:e,providedFormat:t,state:n}),o=r(e._value);return""+s+(i.spaceSeparated?" ":"")+o}function b(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-t*60*60)/60),r=Math.round(e._value-t*60*60-n*60);return t+":"+(n<10?"0":"")+n+":"+(r<10?"0":"")+r}function w(e,t,n,r){var i=t.prefixSymbol,s=H({instance:r(e._value*100),providedFormat:t,state:n}),o=Object.assign({},l,t);return i?"%"+(o.spaceSeparated?" ":"")+s:""+s+(o.spaceSeparated?" ":"")+"%"}function E(e,t,n){var r=n.currentCurrency(),i=Object.assign({},l,t),s=undefined,o="",u=!!i.totalLength||!!i.forceAverage||i.average,a=t.currencyPosition||r.position,f=t.currencySymbol||r.symbol;i.spaceSeparated&&(o=" "),a==="infix"&&(s=o+f+o);var c=H({instance:e,providedFormat:t,state:n,decimalSeparator:s});a==="prefix"&&(e._value<0&&i.negative==="sign"?c="-"+o+f+c.slice(1):c=f+o+c);if(!a||a==="postfix")o=u?"":o,c=c+o+f;return c}function S(e){var t=e.value,n=e.forceAverage,r=e.abbreviations,i=e.spaceSeparated,s=i===undefined?!1:i,o=e.totalLength,u=o===undefined?0:o,a="",f=Math.abs(t),l=-1;if(f>=Math.pow(10,12)&&!n||n==="trillion")a=r.trillion,t/=Math.pow(10,12);else if(f<Math.pow(10,12)&&f>=Math.pow(10,9)&&!n||n==="billion")a=r.billion,t/=Math.pow(10,9);else if(f<Math.pow(10,9)&&f>=Math.pow(10,6)&&!n||n==="million")a=r.million,t/=Math.pow(10,6);else if(f<Math.pow(10,6)&&f>=Math.pow(10,3)&&!n||n==="thousand")a=r.thousand,t/=Math.pow(10,3);var c=s?" ":"";a&&(a=c+a);if(u){var h=t.toString().split(".")[0];l=Math.max(u-h.length,0)}return{value:t,abbreviation:a,mantissaPrecision:l}}function x(e){var t=e.value,n=e.characteristicPrecision,i=n===undefined?0:n,s=t.toExponential().split("e"),o=r(s,2),u=o[0],a=o[1],f=+u;if(!i)return{value:f,abbreviation:"e"+a};var l=1;return l<i&&(f*=Math.pow(10,i-l),a=+a-(i-l),a=a>=0?"+"+a:a),{value:f,abbreviation:"e"+a}}function T(e){var t="";for(var n=0;n<e;n++)t+="0";return t}function N(e,t){var n=e.toString(),i=n.split("e"),s=r(i,2),o=s[0],u=s[1],a=o.split("."),f=r(a,2),l=f[0],c=f[1],h=c===undefined?"":c;if(+u>0)n=l+h+T(u-h.length);else{var p=".";+l<0?p="-0"+p:p="0"+p;var d=(T(-u-1)+Math.abs(l)+h).substr(0,t);d.length<t&&(d+=T(t-d.length)),n=p+d}return+u>0&&t>0&&(n+="."+T(t)),n}function C(e,t){return e.toString().indexOf("e")!==-1?N(e,t):(Math.round(+(e+"e+"+t))/Math.pow(10,t)).toFixed(t)}function k(e,t,n,i,s){if(i===-1)return e;var o=C(t,i),u=o.toString().split("."),a=r(u,2),f=a[0],l=a[1],c=l===undefined?"":l;if(c.match(/^0+$/)&&(n||s))return f;var h=o.match(/0+$/);return s&&h?o.toString().slice(0,h.index):o.toString()}function L(e,t,n,i){var s=e,o=s.toString().split("."),u=r(o,2),a=u[0],f=u[1];if(a.match(/^-?0$/)&&n)return f?a.replace("0","")+"."+f:a.replace("0","");if(a.length<i){var l=i-a.length;for(var c=0;c<l;c++)s="0"+s}return s.toString()}function A(e,t){var n=[],r=0;for(var i=e;i>0;i--)r===t&&(n.unshift(i),r=0),r++;return n}function O(e,t,n,r,i){var s=r.currentDelimiters(),o=s.thousands;i=i||s.decimal;var u=s.thousandsSize||3,a=e.toString(),f=a.split(".")[0],l=a.split(".")[1];if(n){t<0&&(f=f.slice(1));var c=A(f.length,u);c.forEach(function(e,t){f=f.slice(0,e+t)+o+f.slice(e+t)}),t<0&&(f="-"+f)}return l?a=f+i+l:a=f,a}function M(e,t){return e+t}function _(e,t,n){return t===0?e:+e===0?e.replace("-",""):t>0?"+"+e:n==="sign"?e:"("+e.replace("-","")+")"}function D(e,t){return t+e}function P(e,t){return e+t}function H(e){var t=e.instance,n=e.providedFormat,r=e.state,s=r===undefined?i:r,o=e.decimalSeparator,u=e.defaults,a=u===undefined?s.currentDefaults():u,f=t._value;if(f===0&&s.hasZeroFormat())return s.getZeroFormat();if(!isFinite(f))return f.toString();var c=Object.assign({},l,a,n),h=c.totalLength,p=h?0:c.characteristic,d=c.optionalCharacteristic,v=c.forceAverage,m=!!h||!!v||c.average,g=h?-1:m&&n.mantissa===undefined?0:c.mantissa,y=h?!1:n.optionalMantissa===undefined?g===-1:c.optionalMantissa,b=c.trimMantissa,w=c.thousandSeparated,E=c.spaceSeparated,T=c.negative,N=c.forceSign,C=c.exponential,A="";if(m){var D=S({value:f,forceAverage:v,abbreviations:s.currentAbbreviations(),spaceSeparated:E,totalLength:h});f=D.value,A+=D.abbreviation,h&&(g=D.mantissaPrecision)}if(C){var P=x({value:f,characteristicPrecision:p});f=P.value,A=P.abbreviation+A}var H=k(f.toString(),f,y,g,b);H=L(H,f,d,p),H=O(H,f,w,s,o);if(m||C)H=M(H,A);if(N||f<0)H=_(H,f,T);return H}function B(e,t){if(!e)return t;var n=Object.keys(e);return n.length===1&&n[0]==="output"?t:e}var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=e("./globalState"),s=e("./validating"),o=e("./parsing"),u=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],f={general:{scale:1024,suffixes:a,marker:"bd"},binary:{scale:1024,suffixes:u,marker:"b"},decimal:{scale:1e3,suffixes:a,marker:"d"}},l={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};t.exports=function(e){return{format:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return c.apply(undefined,r.concat([e]))},getByteUnit:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return v.apply(undefined,r.concat([e]))},getBinaryByteUnit:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return d.apply(undefined,r.concat([e]))},getDecimalByteUnit:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return p.apply(undefined,r.concat([e]))},formatOrDefault:B}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(e,t,n){"use strict";function c(e){u=e}function h(){return a[u]}var r=e("./en-US"),i=e("./validating"),s=e("./parsing"),o={},u=undefined,a={},f=null,l={};o.languages=function(){return Object.assign({},a)},o.currentLanguage=function(){return u},o.currentCurrency=function(){return h().currency},o.currentAbbreviations=function(){return h().abbreviations},o.currentDelimiters=function(){return h().delimiters},o.currentOrdinal=function(){return h().ordinal},o.currentDefaults=function(){return Object.assign({},h().defaults,l)},o.currentOrdinalDefaultFormat=function(){return Object.assign({},o.currentDefaults(),h().ordinalFormat)},o.currentByteDefaultFormat=function(){return Object.assign({},o.currentDefaults(),h().byteFormat)},o.currentPercentageDefaultFormat=function(){return Object.assign({},o.currentDefaults(),h().percentageFormat)},o.currentCurrencyDefaultFormat=function(){return Object.assign({},o.currentDefaults(),h().currencyFormat)},o.currentTimeDefaultFormat=function(){return Object.assign({},o.currentDefaults(),h().timeFormat)},o.setDefaults=function(e){e=s.parseFormat(e),i.validateFormat(e)&&(l=e)},o.getZeroFormat=function(){return f},o.setZeroFormat=function(e){return f=typeof e=="string"?e:null},o.hasZeroFormat=function(){return f!==null},o.languageData=function(e){if(e){if(a[e])return a[e];throw new Error('Unknown tag "'+e+'"')}return h()},o.registerLanguage=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;if(!i.validateLanguage(e))throw new Error("Invalid language data");a[e.languageTag]=e,t&&c(e.languageTag)},o.setLanguage=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:r.languageTag;if(!a[e]){var n=e.split("-")[0],i=Object.keys(a).find(function(e){return e.split("-")[0]===n});if(!a[i]){c(t);return}c(i)}c(e)},o.registerLanguage(r),u=r.languageTag,t.exports=o},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(e,t,n){"use strict";function r(t,n){t.forEach(function(t){var r=undefined;try{r=e("../languages/"+t)}catch(i){console.error('Unable to load "'+t+'". No matching language file found.')}r&&n.registerLanguage(r)})}t.exports=function(e){return{loadLanguagesInNode:function(n){return r(n,e)}}}},{}],6:[function(e,t,n){"use strict";function i(e,t,n){var i=new r(e._value),s=t;return n.isNumbro(t)&&(s=t._value),s=new r(s),e._value=i.add(s).toNumber(),e}function s(e,t,n){var i=new r(e._value),s=t;return n.isNumbro(t)&&(s=t._value),s=new r(s),e._value=i.minus(s).toNumber(),e}function o(e,t,n){var i=new r(e._value),s=t;return n.isNumbro(t)&&(s=t._value),s=new r(s),e._value=i.times(s).toNumber(),e}function u(e,t,n){var i=new r(e._value),s=t;return n.isNumbro(t)&&(s=t._value),s=new r(s),e._value=i.dividedBy(s).toNumber(),e}function a(e,t,n){var r=t;return n.isNumbro(t)&&(r=t._value),e._value=r,e}function f(e,t,n){var r=n(e._value);return s(r,t,n),Math.abs(r._value)}var r=e("bignumber.js");t.exports=function(e){return{add:function(n,r){return i(n,r,e)},subtract:function(n,r){return s(n,r,e)},multiply:function(n,r){return o(n,r,e)},divide:function(n,r){return u(n,r,e)},set:function(n,r){return a(n,r,e)},difference:function(n,r){return f(n,r,e)}}}},{"bignumber.js":1}],7:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){var t=e;return v.isNumbro(e)?t=e._value:typeof e=="string"?t=v.unformat(e):isNaN(e)&&(t=NaN),t}function v(e){return new p(d(e))}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s="2.1.0",o=e("./globalState"),u=e("./validating"),a=e("./loading")(v),f=e("./unformatting"),l=e("./formatting")(v),c=e("./manipulating")(v),h=e("./parsing"),p=function(){function e(t){i(this,e),this._value=t}return r(e,[{key:"clone",value:function(){return v(this._value)}},{key:"format",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return l.format(this,t)}},{key:"formatCurrency",value:function(t){return typeof t=="string"&&(t=h.parseFormat(t)),t=l.formatOrDefault(t,o.currentCurrencyDefaultFormat()),t.output="currency",l.format(this,t)}},{key:"formatTime",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return t.output="time",l.format(this,t)}},{key:"binaryByteUnits",value:function(){return l.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return l.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return l.getByteUnit(this)}},{key:"difference",value:function(t){return c.difference(this,t)}},{key:"add",value:function(t){return c.add(this,t)}},{key:"subtract",value:function(t){return c.subtract(this,t)}},{key:"multiply",value:function(t){return c.multiply(this,t)}},{key:"divide",value:function(t){return c.divide(this,t)}},{key:"set",value:function(t){return c.set(this,d(t))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function t(){return this._value}}]),e}();v.version=s,v.isNumbro=function(e){return e instanceof p},v.language=o.currentLanguage,v.registerLanguage=o.registerLanguage,v.setLanguage=o.setLanguage,v.languages=o.languages,v.languageData=o.languageData,v.zeroFormat=o.setZeroFormat,v.defaultFormat=o.currentDefaults,v.setDefaults=o.setDefaults,v.defaultCurrencyFormat=o.currentCurrencyDefaultFormat,v.validate=u.validate,v.loadLanguagesInNode=a.loadLanguagesInNode,v.unformat=f.unformat,t.exports=v},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(e,t,n){"use strict";function r(e,t){var n=e.match(/^{([^}]*)}/);return n?(t.prefix=n[1],e.slice(n[0].length)):e}function i(e,t){var n=e.match(/{([^}]*)}$/);return n?(t.postfix=n[1],e.slice(0,-n[0].length)):e}function s(e,t){if(e.indexOf("$")!==-1){t.output="currency";return}if(e.indexOf("%")!==-1){t.output="percent";return}if(e.indexOf("bd")!==-1){t.output="byte",t.base="general";return}if(e.indexOf("b")!==-1){t.output="byte",t.base="binary";return}if(e.indexOf("d")!==-1){t.output="byte",t.base="decimal";return}if(e.indexOf(":")!==-1){t.output="time";return}e.indexOf("o")!==-1&&(t.output="ordinal")}function o(e,t){e.indexOf(",")!==-1&&(t.thousandSeparated=!0)}function u(e,t){e.indexOf(" ")!==-1&&(t.spaceSeparated=!0)}function a(e,t){var n=e.match(/[1-9]+[0-9]*/);n&&(t.totalLength=+n[0])}function f(e,t){var n=e.split(".")[0],r=n.match(/0+/);r&&(t.characteristic=r[0].length)}function l(e,t){var n=e.split(".")[1];if(n){var r=n.match(/0+/);r&&(t.mantissa=r[0].length)}}function c(e,t){e.indexOf("a")!==-1&&(t.average=!0)}function h(e,t){e.indexOf("K")!==-1?t.forceAverage="thousand":e.indexOf("M")!==-1?t.forceAverage="million":e.indexOf("B")!==-1?t.forceAverage="billion":e.indexOf("T")!==-1&&(t.forceAverage="trillion")}function p(e,t){e.match(/\[\.]/)?t.optionalMantissa=!0:e.match(/\./)&&(t.optionalMantissa=!1)}function d(e,t){if(e.indexOf(".")!==-1){var n=e.split(".")[0];t.optionalCharacteristic=n.indexOf("0")===-1}}function v(e,t){e.match(/^\+?\([^)]*\)$/)&&(t.negative="parenthesis"),e.match(/^\+?-/)&&(t.negative="sign")}function m(e,t){e.match(/^\+/)&&(t.forceSign=!0)}function g(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return typeof e!="string"?e:(e=r(e,t),e=i(e,t),s(e,t),a(e,t),f(e,t),d(e,t),c(e,t),h(e,t),l(e,t),p(e,t),o(e,t),u(e,t),v(e,t),m(e,t),t)}t.exports={parseFormat:g}},{}],9:[function(e,t,n){"use strict";function i(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function s(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"",o=arguments[3],u=arguments[4],a=arguments[5],f=arguments[6];if(!isNaN(+e))return+e;var l="",c=e.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(c!==e)return-1*s(c,t,n,o,u,a,f);for(var h=0;h<r.length;h++){var p=r[h];l=e.replace(p.key,"");if(l!==e)return s(l,t,n,o,u,a,f)*p.factor}l=e.replace("%","");if(l!==e)return s(l,t,n,o,u,a,f)/100;var d=parseFloat(e);if(isNaN(d))return undefined;var v=o(d);if(v&&v!=="."){l=e.replace(new RegExp(i(v)+"$"),"");if(l!==e)return s(l,t,n,o,u,a,f)}var m={};Object.keys(a).forEach(function(e){m[a[e]]=e});var g=Object.keys(m).sort().reverse(),y=g.length;for(var b=0;b<y;b++){var w=g[b],E=m[w];l=e.replace(w,"");if(l!==e){var S=undefined;switch(E){case"thousand":S=Math.pow(10,3);break;case"million":S=Math.pow(10,6);break;case"billion":S=Math.pow(10,9);break;case"trillion":S=Math.pow(10,12)}return s(l,t,n,o,u,a,f)*S}}return undefined}function o(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"",r=e.replace(n,"");return r=r.replace(new RegExp("([0-9])"+i(t.thousands)+"([0-9])","g"),"$1$2"),r=r.replace(t.decimal,"."),r}function u(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"",r=arguments[3],i=arguments[4],u=arguments[5],a=arguments[6];if(e==="")return undefined;if(!isNaN(+e))return+e;if(e===i)return 0;var f=o(e,t,n);return s(f,t,n,r,i,u,a)}function a(e,t){var n=e.indexOf(":")&&t.thousands!==":";if(!n)return!1;var r=e.split(":");if(r.length!==3)return!1;var i=+r[0],s=+r[1],o=+r[2];return!isNaN(i)&&!isNaN(s)&&!isNaN(o)}function f(e){var t=e.split(":"),n=+t[0],r=+t[1],i=+t[2];return i+60*r+3600*n}function l(t,n){var r=e("./globalState"),i=r.currentDelimiters(),s=r.currentCurrency().symbol,o=r.currentOrdinal(),l=r.getZeroFormat(),c=r.currentAbbreviations(),h=undefined;if(typeof t=="string")a(t,i)?h=f(t):h=u(t,i,s,o,l,c,n);else{if(typeof t!="number")return undefined;h=t}return h===undefined?undefined:h}var r=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];t.exports={unformat:l}},{"./globalState":4}],10:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function m(e,t){var n=g(e),r=b(t);return n&&r}function g(e){var t=s.unformat(e);return!!t}function y(e,t,n){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1,o=Object.keys(e).map(function(i){if(!t[i])return console.error(n+" Invalid key: "+i),!1;var s=e[i],o=t[i];typeof o=="string"&&(o={type:o});if(o.type==="format"){var u=y(s,d,"[Validate "+i+"]",!0);if(!u)return!1}else if((typeof s=="undefined"?"undefined":r(s))!==o.type)return console.error(n+" "+i+' type mismatched: "'+o.type+'" expected, "'+(typeof s=="undefined"?"undefined":r(s))+'" provided'),!1;if(o.restrictions&&o.restrictions.length){var a=o.restrictions.length;for(var f=0;f<a;f++){var l=o.restrictions[f],c=l.restriction,h=l.message;if(!c(s,e))return console.error(n+" "+i+" invalid value: "+h),!1}}if(o.restriction&&!o.restriction(s,e))return console.error(n+" "+i+" invalid value: "+o.message),!1;if(o.validValues&&o.validValues.indexOf(s)===-1)return console.error(n+" "+i+" invalid value: must be among "+JSON.stringify(o.validValues)+', "'+s+'" provided'),!1;if(o.children){var p=y(s,o.children,"[Validate "+i+"]");if(!p)return!1}return!0});return s||o.push.apply(o,i(Object.keys(t).map(function(r){var i=t[r];typeof i=="string"&&(i={type:i});if(i.mandatory){var s=i.mandatory;typeof s=="function"&&(s=s(e));if(s&&e[r]===undefined)return console.error(n+' Missing mandatory key "'+r+'"'),!1}return!0}))),o.reduce(function(e,t){return e&&t},!0)}function b(e){return y(e,d,"[Validate format]")}function w(e){return y(e,v,"[Validate language]")}var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=e("./unformatting"),o=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,u=["currency","percent","byte","time","ordinal","number"],a=["trillion","billion","million","thousand"],f=["prefix","infix","postfix"],l=["sign","parenthesis"],c={type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},h={type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},p=["decimal","binary","general"],d={output:{type:"string",validValues:u},base:{type:"string",validValues:p,restriction:function(t,n){return n.output==="byte"},message:"`base` must be provided only when the output is `byte`",mandatory:function(t){return t.output==="byte"}},characteristic:{type:"number",restriction:function(t){return t>=0},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:a},average:"boolean",currencyPosition:{type:"string",validValues:f},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(t){return t>=0},message:"value must be positive"},{restriction:function(t,n){return!n.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(t){return t>=0},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:h,negative:{type:"string",validValues:l},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(t,n){return n.output==="percent"},message:"`prefixSymbol` can be provided only when the output is `percent`"}},v={languageTag:{type:"string",mandatory:!0,restriction:function(t){return t.match(o)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:c,spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};t.exports={validate:m,validateFormat:b,validateInput:g,validateLanguage:w}},{"./unformatting":9}]},{},[7])(7)}),function(e,t){"use strict";var n;if(typeof exports=="object"){try{n=require("moment")}catch(r){}module.exports=t(n)}else typeof define=="function"&&define.amd?define("pikaday",["require"],function(e){var r="moment";try{n=e(r)}catch(i){}return t(n)}):e.Pikaday=t(e.moment)}(this,function(e){"use strict";var t=typeof e=="function",n=!!window.addEventListener,r=window.document,i=window.setTimeout,s=function(e,t,r,i){n?e.addEventListener(t,r,!!i):e.attachEvent("on"+t,r)},o=function(e,t,r,i){n?e.removeEventListener(t,r,!!i):e.detachEvent("on"+t,r)},u=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},a=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1},f=function(e,t){a(e,t)||(e.className=e.className===""?t:e.className+" "+t)},l=function(e,t){e.className=u((" "+e.className+" ").replace(" "+t+" "," "))},c=function(e){return/Array/.test(Object.prototype.toString.call(e))},h=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return t===0||t===6},d=function(e){return e%4===0&&e%100!==0||e%400===0},v=function(e,t){return[31,d(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},m=function(e){h(e)&&e.setHours(0,0,0,0)},g=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var r,i;for(r in t){i=e[r]!==undefined;if(i&&typeof t[r]=="object"&&t[r]!==null&&t[r].nodeName===undefined)h(t[r])?n&&(e[r]=new Date(t[r].getTime())):c(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=y({},t[r],n);else if(n||!i)e[r]=t[r]}return e},b=function(e,t,n){var i;r.createEvent?(i=r.createEvent("HTMLEvents"),i.initEvent(t,!0,!1),i=y(i,n),e.dispatchEvent(i)):r.createEventObject&&(i=r.createEventObject(),i=y(i,n),e.fireEvent("on"+t,i))},w=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},E={field:null,bound:undefined,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:undefined,maxMonth:undefined,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:undefined,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},S=function(e,t,n){t+=e.firstDay;while(t>=7)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},x=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'">'+'<button class="pika-button pika-day" type="button" '+'data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button>"+"</td>"},T=function(e,t,n){var r=new Date(n,0,1),i=Math.ceil(((new Date(n,t,e)-r)/864e5+r.getDay()+1)/7);return'<td class="pika-week">'+i+"</td>"},N=function(e,t,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},C=function(e){return"<tbody>"+e.join("")+"</tbody>"},k=function(e){var t,n=[];e.showWeekNumber&&n.push("<th></th>");for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+S(e,t)+'">'+S(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"},L=function(e,t,n,r,i,s){var o,u,a,f=e._o,l=n===f.minYear,h=n===f.maxYear,p='<div id="'+s+'" class="pika-title" role="heading" aria-live="assertive">',d,v,m=!0,g=!0;for(a=[],o=0;o<12;o++)a.push('<option value="'+(n===i?o-t:12+o-t)+'"'+(o===r?' selected="selected"':"")+(l&&o<f.minMonth||h&&o>f.maxMonth?'disabled="disabled"':"")+">"+f.i18n.months[o]+"</option>");d='<div class="pika-label">'+f.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+a.join("")+"</select></div>",c(f.yearRange)?(o=f.yearRange[0],u=f.yearRange[1]+1):(o=n-f.yearRange,u=1+n+f.yearRange);for(a=[];o<u&&o<=f.maxYear;o++)o>=f.minYear&&a.push('<option value="'+o+'"'+(o===n?' selected="selected"':"")+">"+o+"</option>");return v='<div class="pika-label">'+n+f.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+a.join("")+"</select></div>",f.showMonthAfterYear?p+=v+d:p+=d+v,l&&(r===0||f.minMonth>=r)&&(m=!1),h&&(r===11||f.maxMonth<=r)&&(g=!1),t===0&&(p+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+f.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(p+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+f.i18n.nextMonth+"</button>"),p+="</div>"},A=function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+k(e)+C(t)+"</table>"},O=function(o){var u=this,f=u.config(o);u._onMouseDown=function(e){if(!u._v)return;e=e||window.event;var t=e.target||e.srcElement;if(!t)return;a(t,"is-disabled")||(a(t,"pika-button")&&!a(t,"is-empty")&&!a(t.parentNode,"is-disabled")?(u.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),f.bound&&i(function(){u.hide(),f.blurFieldOnSelect&&f.field&&f.field.blur()},100)):a(t,"pika-prev")?u.prevMonth():a(t,"pika-next")&&u.nextMonth());if(!a(t,"pika-select")){if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}else u._c=!0},u._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;if(!t)return;a(t,"pika-select-month")?u.gotoMonth(t.value):a(t,"pika-select-year")&&u.gotoYear(t.value)},u._onKeyChange=function(e){e=e||window.event;if(u.isVisible())switch(e.keyCode){case 13:case 27:f.field&&f.field.blur();break;case 37:e.preventDefault(),u.adjustDate("subtract",1);break;case 38:u.adjustDate("subtract",7);break;case 39:u.adjustDate("add",1);break;case 40:u.adjustDate("add",7)}},u._onInputChange=function(n){var r;if(n.firedBy===u)return;f.parse?r=f.parse(f.field.value,f.format):t?(r=e(f.field.value,f.format,f.formatStrict),r=r&&r.isValid()?r.toDate():null):r=new Date(Date.parse(f.field.value)),h(r)&&u.setDate(r),u._v||u.show()},u._onInputFocus=function(){u.show()},u._onInputClick=function(){u.show()},u._onInputBlur=function(){var e=r.activeElement;do if(a(e,"pika-single"))return;while(e=e.parentNode);u._c||(u._b=i(function(){u.hide()},50)),u._c=!1},u._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,r=t;if(!t)return;!n&&a(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),s(t,"change",u._onChange)));do if(a(r,"pika-single")||r===f.trigger)return;while(r=r.parentNode);u._v&&t!==f.trigger&&r!==f.trigger&&u.hide()},u.el=r.createElement("div"),u.el.className="pika-single"+(f.isRTL?" is-rtl":"")+(f.theme?" "+f.theme:""),s(u.el,"mousedown",u._onMouseDown,!0),s(u.el,"touchend",u._onMouseDown,!0),s(u.el,"change",u._onChange),f.keyboardInput&&s(r,"keydown",u._onKeyChange),f.field&&(f.container?f.container.appendChild(u.el):f.bound?r.body.appendChild(u.el):f.field.parentNode.insertBefore(u.el,f.field.nextSibling),s(f.field,"change",u._onInputChange),f.defaultDate||(t&&f.field.value?f.defaultDate=e(f.field.value,f.format).toDate():f.defaultDate=new Date(Date.parse(f.field.value)),f.setDefaultDate=!0));var l=f.defaultDate;h(l)?f.setDefaultDate?u.setDate(l,!0):u.gotoDate(l):u.gotoDate(new Date),f.bound?(this.hide(),u.el.className+=" is-bound",s(f.trigger,"click",u._onInputClick),s(f.trigger,"focus",u._onInputFocus),s(f.trigger,"blur",u._onInputBlur)):this.show()};return O.prototype={config:function(e){this._o||(this._o=y({},E,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme=typeof t.theme=="string"&&t.theme?t.theme:null,t.bound=!!(t.bound!==undefined?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn=typeof t.disableDayFn=="function"?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;t.numberOfMonths=n>4?4:n,h(t.minDate)||(t.minDate=!1),h(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate);if(c(t.yearRange)){var r=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||r,t.yearRange[1]=parseInt(t.yearRange[1],10)||r}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||E.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return n=n||this._o.format,h(this._d)?this._o.toString?this._o.toString(this._d,n):t?e(this._d).format(n):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,r){t&&e.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return h(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",b(this._o.field,"change",{firedBy:this})),this.draw();typeof e=="string"&&(e=new Date(Date.parse(e)));if(!h(e))return;var n=this._o.minDate,r=this._o.maxDate;h(n)&&e<n?e=n:h(r)&&e>r&&(e=r),this._d=new Date(e.getTime()),m(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),b(this._o.field,"change",{firedBy:this})),!t&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},gotoDate:function(e){var t=!0;if(!h(e))return;if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=i<n.getTime()||r.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()},adjustDate:function(e,t){var n=this.getDate()||new Date,r=parseInt(t)*24*60*60*1e3,i;e==="add"?i=new Date(n.valueOf()+r):e==="subtract"&&(i=new Date(n.valueOf()-r)),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=w(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=w({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(m(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=E.minDate,this._o.minYear=E.minYear,this._o.minMonth=E.minMonth,this._o.startRange=E.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(m(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=E.maxDate,this._o.maxYear=E.maxYear,this._o.maxMonth=E.maxMonth,this._o.endRange=E.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(!this._v&&!e)return;var t=this._o,n=t.minYear,r=t.maxYear,s=t.minMonth,o=t.maxMonth,u="",a;this._y<=n&&(this._y=n,!isNaN(s)&&this._m<s&&(this._m=s)),this._y>=r&&(this._y=r,!isNaN(o)&&this._m>o&&(this._m=o)),a="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var f=0;f<t.numberOfMonths;f++)u+='<div class="pika-lendar">'+L(this,f,this.calendars[f].year,this.calendars[f].month,this.calendars[0].year,a)+this.render(this.calendars[f].year,this.calendars[f].month,a)+"</div>";this.el.innerHTML=u,t.bound&&t.field.type!=="hidden"&&i(function(){t.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),t.bound&&t.field.setAttribute("aria-label",t.ariaLabel)},adjustPosition:function(){var e,t,n,i,s,o,u,a,c,h,p,d;if(this._o.container)return;this.el.style.position="absolute",e=this._o.trigger,t=e,n=this.el.offsetWidth,i=this.el.offsetHeight,s=window.innerWidth||r.documentElement.clientWidth,o=window.innerHeight||r.documentElement.clientHeight,u=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop,p=!0,d=!0;if(typeof e.getBoundingClientRect=="function")h=e.getBoundingClientRect(),a=h.left+window.pageXOffset,c=h.bottom+window.pageYOffset;else{a=t.offsetLeft,c=t.offsetTop+t.offsetHeight;while(t=t.offsetParent)a+=t.offsetLeft,c+=t.offsetTop}if(this._o.reposition&&a+n>s||this._o.position.indexOf("right")>-1&&a-n+e.offsetWidth>0)a=a-n+e.offsetWidth,p=!1;if(this._o.reposition&&c+i>o+u||this._o.position.indexOf("top")>-1&&c-i-e.offsetHeight>0)c=c-i-e.offsetHeight,d=!1;this.el.style.left=a+"px",this.el.style.top=c+"px",f(this.el,p?"left-aligned":"right-aligned"),f(this.el,d?"bottom-aligned":"top-aligned"),l(this.el,p?"right-aligned":"left-aligned"),l(this.el,d?"top-aligned":"bottom-aligned")},render:function(e,t,n){var r=this._o,i=new Date,s=v(e,t),o=(new Date(e,t,1)).getDay(),u=[],a=[];m(i),r.firstDay>0&&(o-=r.firstDay,o<0&&(o+=7));var f=t===0?11:t-1,l=t===11?0:t+1,c=t===0?e-1:e,d=t===11?e+1:e,y=v(c,f),b=s+o,w=b;while(w>7)w-=7;b+=7-w;var E=!1;for(var S=0,C=0;S<b;S++){var k=new Date(e,t,1+(S-o)),L=h(this._d)?g(k,this._d):!1,O=g(k,i),M=r.events.indexOf(k.toDateString())!==-1?!0:!1,_=S<o||S>=s+o,D=1+(S-o),P=t,H=e,B=r.startRange&&g(r.startRange,k),j=r.endRange&&g(r.endRange,k),F=r.startRange&&r.endRange&&r.startRange<k&&k<r.endRange,I=r.minDate&&k<r.minDate||r.maxDate&&k>r.maxDate||r.disableWeekends&&p(k)||r.disableDayFn&&r.disableDayFn(k);_&&(S<o?(D=y+D,P=f,H=c):(D-=s,P=l,H=d));var q={day:D,month:P,year:H,hasEvent:M,isSelected:L,isToday:O,isDisabled:I,isEmpty:_,isStartRange:B,isEndRange:j,isInRange:F,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&L&&(E=!0),a.push(x(q)),++C===7&&(r.showWeekNumber&&a.unshift(T(S-o,t,e)),u.push(N(a,r.isRTL,r.pickWholeWeek,E)),a=[],C=0,E=!1)}return A(r,u,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),l(this.el,"is-hidden"),this._o.bound&&(s(r,"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&o(r,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",f(this.el,"is-hidden"),this._v=!1,e!==undefined&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"touchend",this._onMouseDown,!0),o(this.el,"change",this._onChange),e.keyboardInput&&o(r,"keydown",this._onKeyChange),e.field&&(o(e.field,"change",this._onInputChange),e.bound&&(o(e.trigger,"click",this._onInputClick),o(e.trigger,"focus",this._onInputFocus),o(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},O}),function(t,n){typeof exports=="object"&&typeof module=="object"?module.exports=n(require("moment"),require("numbro"),require("pikaday")):typeof define=="function"&&define.amd?define("Handsontable",["moment","numbro","pikaday"],n):typeof exports=="object"?exports.Handsontable=n(require("moment"),require("numbro"),require("pikaday")):t.Handsontable=n(t.moment,t.numbro,t.Pikaday)}(typeof self!="undefined"?self:this,function(e,t,n){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=207)}([function(e,t,n){function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,n=-1,r=null,i=e;while(i!==null){if(n===t){r=i;break}i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:(n+=1,i=i.parentNode)}return r}function u(e,t,n){var r=e;while(r!==null&&r!==n){if(r.nodeType===Node.ELEMENT_NODE&&(t.indexOf(r.nodeName)>-1||t.indexOf(r)>-1))return r;r.host&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r=r.host:r=r.parentNode}return null}function a(e,t,n){var r=[],i=e;while(i){i=u(i,t,n);if(!i||n&&!n.contains(i))break;r.push(i),i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:i=i.parentNode}var s=r.length;return s?r[s-1]:null}function f(e,t){var n=e.parentNode,r=[];typeof t=="string"?r=Array.prototype.slice.call(document.querySelectorAll(t),0):r.push(t);while(n!==null){if(r.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function l(e){function i(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName===t.toUpperCase()}var t="hot-table",n=!1,r=c(e);while(r!==null){if(i(r)){n=!0;break}if(r.host&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE){n=i(r.host);if(n)break;r=r.host}r=r.parentNode}return n}function c(e){return typeof Polymer!="undefined"&&typeof wrap=="function"?wrap(e):e}function h(e){return typeof Polymer!="undefined"&&typeof unwrap=="function"?unwrap(e):e}function p(e){var t=0,n=e;if(n.previousSibling)while(n=n.previousSibling)t+=1;return t}function d(e,t){var n=document.querySelector(".ht_clone_"+e);return n?n.contains(t):null}function b(e){var t=[];if(!e||!e.length)return t;var n=0;while(e[n])t.push(e[n]),n+=1;return t}function S(e,t){return m(e,t)}function x(e,t){return g(e,t)}function T(e,t){return y(e,t)}function N(e,t){if(e.nodeType===3)t.removeChild(e);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(e.nodeName)>-1){var n=e.childNodes;for(var r=n.length-1;r>=0;r--)N(n[r],e)}}function C(e){var t=void 0;while(t=e.lastChild)e.removeChild(t)}function L(e,t){k.test(t)?e.innerHTML=t:O(e,t)}function O(e,t){var n=e.firstChild;n&&n.nodeType===3&&n.nextSibling===null?A?n.textContent=t:n.data=t:(C(e),e.appendChild(document.createTextNode(t)))}function M(e){var t=e;while(h(t)!==document.documentElement){if(t===null)return!1;if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(t.host){if(t.host.impl)return M(t.host.impl);if(t.host)return M(t.host);throw new Error("Lost in Web Components world")}return!1}if(t.style.display==="none")return!1;t=t.parentNode}return!0}function _(e){var t=document.documentElement,n=e,r=void 0,s=void 0,o=void 0,u=void 0;if((0,i.hasCaptionProblem)()&&n.firstChild&&n.firstChild.nodeName==="CAPTION")return u=n.getBoundingClientRect(),{top:u.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||0),left:u.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)};r=n.offsetLeft,s=n.offsetTop,o=n;while(n=n.offsetParent){if(n===document.body)break;r+=n.offsetLeft,s+=n.offsetTop,o=n}return o&&o.style.position==="fixed"&&(r+=window.pageXOffset||t.scrollLeft,s+=window.pageYOffset||t.scrollTop),{left:r,top:s}}function D(){var e=window.scrollY;return e===void 0&&(e=document.documentElement.scrollTop),e}function P(){var e=window.scrollX;return e===void 0&&(e=document.documentElement.scrollLeft),e}function H(e){return e===window?D():e.scrollTop}function B(e){return e===window?P():e.scrollLeft}function j(e){var t=["auto","scroll"],n=e.parentNode,r=void 0,i=void 0,s=void 0,o="",u="",a="",f="";while(n&&n.style&&document.body!==n){r=n.style.overflow,i=n.style.overflowX,s=n.style.overflowY;if(r==="scroll"||i==="scroll"||s==="scroll")return n;if(window.getComputedStyle){o=window.getComputedStyle(n),u=o.getPropertyValue("overflow"),a=o.getPropertyValue("overflow-y"),f=o.getPropertyValue("overflow-x");if(u==="scroll"||f==="scroll"||a==="scroll")return n}if(n.clientHeight<=n.scrollHeight+1&&(t.indexOf(s)!==-1||t.indexOf(r)!==-1||t.indexOf(u)!==-1||t.indexOf(a)!==-1))return n;if(n.clientWidth<=n.scrollWidth+1&&(t.indexOf(i)!==-1||t.indexOf(r)!==-1||t.indexOf(u)!==-1||t.indexOf(f)!==-1))return n;n=n.parentNode}return window}function F(e){var t=e.parentNode;while(t&&t.style&&document.body!==t){if(t.style.overflow!=="visible"&&t.style.overflow!=="")return t;if(window.getComputedStyle){var n=window.getComputedStyle(t);if(n.getPropertyValue("overflow")!=="visible"&&n.getPropertyValue("overflow")!=="")return t}t=t.parentNode}return window}function I(e,t){if(!e)return;if(e===window){if(t==="width")return window.innerWidth+"px";if(t==="height")return window.innerHeight+"px";return}var n=e.style[t],r;if(n!==""&&n!==void 0)return n;r=q(e);if(r[t]!==""&&r[t]!==void 0)return r[t]}function q(e){return e.currentStyle||document.defaultView.getComputedStyle(e)}function R(e){return e.offsetWidth}function U(e){return(0,i.hasCaptionProblem)()&&e.firstChild&&e.firstChild.nodeName==="CAPTION"?e.offsetHeight+e.firstChild.offsetHeight:e.offsetHeight}function z(e){return e.clientHeight||e.innerHeight}function W(e){return e.clientWidth||e.innerWidth}function X(e,t,n){window.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function V(e,t,n){window.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}function $(e){if(e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();if(t==null)return 0;var n=e.createTextRange(),r=n.duplicate();return n.moveToBookmark(t.getBookmark()),r.setEndPoint("EndToStart",n),r.text.length}return 0}function J(e){if(e.selectionEnd)return e.selectionEnd;if(document.selection){var t=document.selection.createRange();if(t==null)return 0;var n=e.createTextRange();return n.text.indexOf(t.text)+t.text.length}return 0}function K(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&document.selection.type!=="Control"&&(e=document.selection.createRange().text),e}function Q(e,t,n){n===void 0&&(n=t);if(e.setSelectionRange){e.focus();try{e.setSelectionRange(t,n)}catch(r){var i=e.parentNode,s=i.style.display;i.style.display="block",e.setSelectionRange(t,n),i.style.display=s}}else if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveEnd("character",n),o.moveStart("character",t),o.select()}}function Y(){var e=document.createElement("div");e.style.height="200px",e.style.width="100%";var t=document.createElement("div");t.style.boxSizing="content-box",t.style.height="150px",t.style.left="0px",t.style.overflow="hidden",t.style.position="absolute",t.style.top="0px",t.style.width="200px",t.style.visibility="hidden",t.appendChild(e),(document.body||document.documentElement).appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;return n==r&&(r=t.clientWidth),(document.body||document.documentElement).removeChild(t),n-r}function Z(){return G===void 0&&(G=Y()),G}function et(e){return e.offsetWidth!==e.clientWidth}function tt(e){return e.offsetHeight!==e.clientHeight}function nt(e,t,n){(0,r.isIE8)()||(0,r.isIE9)()?(e.style.top=n,e.style.left=t):(0,r.isSafari)()?e.style["-webkit-transform"]="translate3d("+t+","+n+",0)":e.style.transform="translate3d("+t+","+n+",0)"}function rt(e){var t=void 0;return e.style.transform&&(t=e.style.transform)!==""?["transform",t]:e.style["-webkit-transform"]&&(t=e.style["-webkit-transform"])!==""?["-webkit-transform",t]:-1}function it(e){e.style.transform&&e.style.transform!==""?e.style.transform="":e.style["-webkit-transform"]&&e.style["-webkit-transform"]!==""&&(e.style["-webkit-transform"]="")}function st(e){var t=["INPUT","SELECT","TEXTAREA"];return e&&(t.indexOf(e.nodeName)>-1||e.contentEditable==="true")}function ot(e){return st(e)&&e.className.indexOf("handsontableInput")==-1&&e.className.indexOf("copyPaste")==-1}t.__esModule=!0,t.HTML_CHARACTERS=undefined,t.getParent=o,t.closest=u,t.closestDown=a,t.isChildOf=f,t.isChildOfWebComponentTable=l,t.polymerWrap=c,t.polymerUnwrap=h,t.index=p,t.overlayContainsElement=d,t.hasClass=S,t.addClass=x,t.removeClass=T,t.removeTextNodes=N,t.empty=C,t.fastInnerHTML=L,t.fastInnerText=O,t.isVisible=M,t.offset=_,t.getWindowScrollTop=D,t.getWindowScrollLeft=P,t.getScrollTop=H,t.getScrollLeft=B,t.getScrollableElement=j,t.getTrimmingContainer=F,t.getStyle=I,t.getComputedStyle=q,t.outerWidth=R,t.outerHeight=U,t.innerHeight=z,t.innerWidth=W,t.addEvent=X,t.removeEvent=V,t.getCaretPosition=$,t.getSelectionEndPosition=J,t.getSelectionText=K,t.setCaretPosition=Q,t.getScrollbarWidth=Z,t.hasVerticalScrollbar=et,t.hasHorizontalScrollbar=tt,t.setOverlayPosition=nt,t.getCssTransform=rt,t.resetCssTransform=it,t.isInput=st,t.isOutsideInput=ot;var r=n(39),i=n(40),v=!!document.documentElement.classList,m=void 0,g=void 0,y=void 0;if(v){var w=function(){var e=document.createElement("div");return e.classList.add("test","test2"),e.classList.contains("test2")}();m=function(t,n){return t.classList===void 0||typeof n!="string"||n===""?!1:t.classList.contains(n)},g=function(t,n){var r=n;typeof r=="string"&&(r=r.split(" ")),r=b(r);if(r.length>0)if(w){var i;(i=t.classList).add.apply(i,s(r))}else{var o=0;while(r&&r[o])t.classList.add(r[o]),o+=1}},y=function(t,n){var r=n;typeof r=="string"&&(r=r.split(" ")),r=b(r);if(r.length>0)if(w){var i;(i=t.classList).remove.apply(i,s(r))}else{var o=0;while(r&&r[o])t.classList.remove(r[o]),o+=1}}}else{var E=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)")};m=function(t,n){return t.className!==void 0&&E(n).test(t.className)},g=function(t,n){var r=0,i=t.className,s=n;typeof s=="string"&&(s=s.split(" "));if(i==="")i=s.join(" ");else while(s&&s[r])E(s[r]).test(i)||(i+=" "+s[r]),r+=1;t.className=i},y=function(t,n){var r=0,i=t.className,s=n;typeof s=="string"&&(s=s.split(" "));while(s&&s[r])i=i.replace(E(s[r])," ").trim(),r+=1;t.className!==i&&(t.className=i)}}var k=t.HTML_CHARACTERS=/(<(.*)>|&(.*);)/,A=!!document.createTextNode("test").textContent,G},function(e,t,n){function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=void 0;return Array.isArray(e)?t=[]:(t={},m(e,function(e,n){if(n==="__children")return;e&&(typeof e=="undefined"?"undefined":r(e))==="object"&&!Array.isArray(e)?t[n]=o(e):Array.isArray(e)?e.length&&r(e[0])==="object"&&!Array.isArray(e[0])?t[n]=[o(e[0])]:t[n]=[]:t[n]=null})),t}function u(e,t){return t.prototype.constructor=t,e.prototype=new t,e.prototype.constructor=e,e}function a(e,t){return m(t,function(t,n){e[n]=t}),e}function f(e,t){m(t,function(n,i){t[i]&&r(t[i])==="object"?(e[i]||(Array.isArray(t[i])?e[i]=[]:Object.prototype.toString.call(t[i])==="[object Date]"?e[i]=t[i]:e[i]={}),f(e[i],t[i])):e[i]=t[i]})}function l(e){return(typeof e=="undefined"?"undefined":r(e))==="object"?JSON.parse(JSON.stringify(e)):e}function c(e){var t={};return m(e,function(e,n){t[n]=e}),t}function h(e){e.MIXINS||(e.MIXINS=[]);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,i.arrayEach)(n,function(t){e.MIXINS.push(t.MIXIN_NAME),m(t,function(t,n){if(e.prototype[n]!==void 0)throw new Error("Mixin conflict. Property '"+n+"' already exist and cannot be overwritten.");if(typeof t=="function")e.prototype[n]=t;else{var r=function(t,n){var r="_"+t,i=function(t){var n=t;if(Array.isArray(n)||d(n))n=l(n);return n};return function(){return this[r]===void 0&&(this[r]=i(n)),this[r]}},i=function(t){var n="_"+t;return function(e){this[n]=e}};Object.defineProperty(e.prototype,n,{get:r(n,t),set:i(n),configurable:!0})}})}),e}function p(e,t){return JSON.stringify(e)===JSON.stringify(t)}function d(e){return Object.prototype.toString.call(e)==="[object Object]"}function v(e,t,n,r){r.value=n,r.writable=r.writable!==!1,r.enumerable=r.enumerable!==!1,r.configurable=r.configurable!==!1,Object.defineProperty(e,t,r)}function m(e,t){for(var n in e)if(!e.hasOwnProperty||e.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e,n))if(t(e[n],n,e)===!1)break;return e}function g(e,t){var n=t.split("."),r=e;return m(n,function(e){r=r[e];if(r===void 0)return r=void 0,!1}),r}function y(e){if(!d(e))return 0;var t=function n(e){var t=0;return d(e)?m(e,function(e){t+=n(e)}):t+=1,t};return t(e)}function b(e){var t,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"value",r="_"+n,i=(t={_touched:!1},s(t,r,e),s(t,"isTouched",function(){return this._touched}),t);return Object.defineProperty(i,n,{get:function(){return this[r]},set:function(t){this._touched=!0,this[r]=t},enumerable:!0,configurable:!0}),i}function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.duckSchema=o,t.inherit=u,t.extend=a,t.deepExtend=f,t.deepClone=l,t.clone=c,t.mixin=h,t.isObjectEqual=p,t.isObject=d,t.defineGetter=v,t.objectEach=m,t.getProperty=g,t.deepObjectSize=y,t.createObjectPropListener=b,t.hasOwnProperty=w;var i=n(2)},function(e,t,n){function r(e){var t=e.length,n=0;while(n<t)e[n]=[e[n]],n+=1}function i(e,t){var n=t.length,r=0;while(r<n)e.push(t[r]),r+=1}function s(e){var t=[];if(!e||e.length===0||!e[0]||e[0].length===0)return t;var n=e.length,r=e[0].length;for(var i=0;i<n;i++)for(var s=0;s<r;s++)t[s]||(t[s]=[]),t[s][i]=e[i][s];return t}function o(e,t,n,r){var i=-1,s=e,o=n;Array.isArray(e)||(s=Array.from(e));var u=s.length;r&&u&&(i+=1,o=s[i]),i+=1;while(i<u)o=t(o,s[i],i,s),i+=1;return o}function u(e,t){var n=0,r=e;Array.isArray(e)||(r=Array.from(e));var i=r.length,s=[],o=-1;while(n<i){var u=r[n];t(u,n,r)&&(o+=1,s[o]=u),n+=1}return s}function a(e,t){var n=0,r=e;Array.isArray(e)||(r=Array.from(e));var i=r.length,s=[],o=-1;while(n<i){var u=r[n];o+=1,s[o]=t(u,n,r),n+=1}return s}function f(e,t){var n=0,r=e;Array.isArray(e)||(r=Array.from(e));var i=r.length;while(n<i){if(t(r[n],n,r)===!1)break;n+=1}return e}function l(e){return o(e,function(e,t){return e+t},0)}function c(e){return o(e,function(e,t){return e>t?e:t},Array.isArray(e)?e[0]:void 0)}function h(e){return o(e,function(e,t){return e<t?e:t},Array.isArray(e)?e[0]:void 0)}function p(e){return e.length?l(e)/e.length:0}function d(e){return o(e,function(e,t){return e.concat(Array.isArray(t)?d(t):t)},[])}function v(e){var t=[];return f(e,function(e){t.indexOf(e)===-1&&t.push(e)}),t}t.__esModule=!0,t.to2dArray=r,t.extendArray=i,t.pivot=s,t.arrayReduce=o,t.arrayFilter=u,t.arrayMap=a,t.arrayEach=f,t.arraySum=l,t.arrayMax=c,t.arrayMin=h,t.arrayAvg=p,t.arrayFlatten=d,t.arrayUnique=v},function(e,t,n){var r=n(15),i=n(37),s=n(29),o=n(28),u=n(30),a="prototype",f=function(e,t,n){var l=e&f.F,c=e&f.G,h=e&f.S,p=e&f.P,d=e&f.B,v=c?r:h?r[t]||(r[t]={}):(r[t]||{})[a],m=c?i:i[t]||(i[t]={}),g=m[a]||(m[a]={}),y,b,w,E;c&&(n=t);for(y in n)b=!l&&v&&v[y]!==undefined,w=(b?v:n)[y],E=d&&b?u(w,r):p&&typeof w=="function"?u(Function.call,w):w,v&&o(v,y,w,e&f.U),m[y]!=w&&s(m,y,E),p&&g[y]!=w&&(g[y]=w)};r.core=i,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,e.exports=f},function(e,t,n){function z(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.Viewport=t.TableRenderer=t.Table=t.Settings=t.Selection=t.Scroll=t.Overlays=t.Event=t.Core=t.default=t.Border=t.TopLeftCornerOverlay=t.TopOverlay=t.LeftOverlay=t.DebugOverlay=t.RowFilter=t.ColumnFilter=t.CellRange=t.CellCoords=t.ViewportRowsCalculator=t.ViewportColumnsCalculator=undefined,n(98),n(113),n(114),n(118),n(119),n(121),n(124),n(125),n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(135),n(136),n(137),n(138),n(139),n(140),n(141),n(143),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(88),n(158),n(159),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(169),n(170),n(171),n(173),n(174),n(175);var r=n(176),i=z(r),s=n(177),o=z(s),u=n(56),a=z(u),f=n(178),l=z(f),c=n(179),h=z(c),p=n(180),d=z(p),v=n(229),m=z(v),g=n(230),y=z(g),b=n(231),w=z(b),E=n(232),S=z(E),x=n(189),T=z(x),N=n(181),C=z(N),k=n(182),L=z(k),A=n(183),O=z(A),M=n(184),_=z(M),D=n(233),P=z(D),H=n(185),B=z(H),j=n(186),F=z(j),I=n(187),q=z(I),R=n(188),U=z(R);t.ViewportColumnsCalculator=i.default,t.ViewportRowsCalculator=o.default,t.CellCoords=a.default,t.CellRange=l.default,t.ColumnFilter=h.default,t.RowFilter=d.default,t.DebugOverlay=m.default,t.LeftOverlay=y.default,t.TopOverlay=w.default,t.TopLeftCornerOverlay=S.default,t.Border=T.default,t.default=C.default,t.Core=C.default,t.Event=L.default,t.Overlays=O.default,t.Scroll=_.default,t.Selection=P.default,t.Settings=B.default,t.Table=F.default,t.TableRenderer=q.default,t.Viewport=U.default},function(e,t,n){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){var n="HOT-TABLE",r=void 0,a=void 0,f=void 0,c=void 0,h=void 0;t.isTargetWebComponent=!1,t.realTarget=t.target;var p=t.stopImmediatePropagation;t.stopImmediatePropagation=function(){p.apply(this),(0,u.stopImmediatePropagation)(this)};if(!l.isHotTableEnv)return t;t=(0,i.polymerWrap)(t),h=t.path?t.path.length:0;while(h){h-=1;if(t.path[h].nodeName===n)r=!0;else if(r&&t.path[h].shadowRoot){c=t.path[h];break}h===0&&!c&&(c=t.path[h])}c||(c=t.target),t.isTargetWebComponent=!0;if((0,o.isWebComponentSupportedNatively)())t.realTarget=t.srcElement||t.toElement;else if((0,s.hasOwnProperty)(e,"hot")||e.isHotTableEnv||e.wtTable)(0,s.hasOwnProperty)(e,"hot")?a=e.hot?e.hot.view.wt.wtTable.TABLE:null:e.isHotTableEnv?a=e.view.activeWt.wtTable.TABLE.parentNode.parentNode:e.wtTable&&(a=e.wtTable.TABLE.parentNode.parentNode),f=(0,i.closest)(t.target,[n],a),f?t.realTarget=a.querySelector(n)||t.target:t.realTarget=t.target;return Object.defineProperty(t,"target",{get:function(){return(0,i.polymerWrap)(c)},enumerable:!0,configurable:!0}),t}function h(){return f}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getListenersCounter=h;var i=n(0),s=n(1),o=n(40),u=n(13),f=0,l=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;a(this,e),this.context=t||this,this.context.eventListeners||(this.context.eventListeners=[])}return r(e,[{key:"addEventListener",value:function(t,n,r){function o(e){r.call(this,c(s,e))}var i=this,s=this.context;return this.context.eventListeners.push({element:t,event:n,callback:r,callbackProxy:o}),window.addEventListener?t.addEventListener(n,o,!1):t.attachEvent("on"+n,o),f+=1,function(){i.removeEventListener(t,n,r)}}},{key:"removeEventListener",value:function(t,n,r){var i=this.context.eventListeners.length,s=void 0;while(i){i-=1,s=this.context.eventListeners[i];if(s.event===n&&s.element===t){if(r&&r!==s.callback)continue;this.context.eventListeners.splice(i,1),s.element.removeEventListener?s.element.removeEventListener(s.event,s.callbackProxy,!1):s.element.detachEvent("on"+s.event,s.callbackProxy),f-=1}}}},{key:"clearEvents",value:function(){if(!this.context)return;var t=this.context.eventListeners.length;while(t){t-=1;var n=this.context.eventListeners[t];n&&this.removeEventListener(n.element,n.event,n.callback)}}},{key:"clear",value:function(){this.clearEvents()}},{key:"destroy",value:function(){this.clearEvents(),this.context=null}},{key:"fireEvent",value:function(t,n){var r={bubbles:!0,cancelable:n!=="mousemove",view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:undefined},i=void 0;document.createEvent?(i=document.createEvent("MouseEvents"),i.initMouseEvent(n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget||document.body.parentNode)):i=document.createEventObject(),t.dispatchEvent?t.dispatchEvent(i):t.fireEvent("on"+n,i)}}]),e}();t.default=l},function(e,t,n){function i(e){var t=typeof e=="undefined"?"undefined":r(e);return t=="number"?!isNaN(e)&&isFinite(e):t=="string"?e.length?e.length==1?/\d/.test(e):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(e):!1:t=="object"?!!e&&typeof e.valueOf()=="number"&&!(e instanceof Date):!1}function s(e,t,n){var r=-1;typeof t=="function"?(n=t,t=e):r=e-1;while(++r<=t)if(n(r)===!1)break}function o(e,t,n){var r=e+1;typeof t=="function"&&(n=t,t=0);while(--r>=t)if(n(r)===!1)break}function u(e,t){return t=parseInt(t.toString().replace("%",""),10),t=parseInt(e*t/100,10),t}t.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isNumeric=i,t.rangeEach=s,t.rangeEachReverse=o,t.valueAccordingPercent=u},function(e,t,n){t.__esModule=!0;var r=t.CONTEXT_MENU_ITEMS_NAMESPACE="ContextMenu:items",i=t.CONTEXTMENU_ITEMS_ROW_ABOVE=r+".insertRowAbove",s=t.CONTEXTMENU_ITEMS_ROW_BELOW=r+".insertRowBelow",o=t.CONTEXTMENU_ITEMS_INSERT_LEFT=r+".insertColumnOnTheLeft",u=t.CONTEXTMENU_ITEMS_INSERT_RIGHT=r+".insertColumnOnTheRight",a=t.CONTEXTMENU_ITEMS_REMOVE_ROW=r+".removeRow",f=t.CONTEXTMENU_ITEMS_REMOVE_COLUMN=r+".removeColumn",l=t.CONTEXTMENU_ITEMS_UNDO=r+".undo",c=t.CONTEXTMENU_ITEMS_REDO=r+".redo",h=t.CONTEXTMENU_ITEMS_READ_ONLY=r+".readOnly",p=t.CONTEXTMENU_ITEMS_CLEAR_COLUMN=r+".clearColumn",d=t.CONTEXTMENU_ITEMS_COPY=r+".copy",v=t.CONTEXTMENU_ITEMS_CUT=r+".cut",m=t.CONTEXTMENU_ITEMS_FREEZE_COLUMN=r+".freezeColumn",g=t.CONTEXTMENU_ITEMS_UNFREEZE_COLUMN=r+".unfreezeColumn",y=t.CONTEXTMENU_ITEMS_MERGE_CELLS=r+".mergeCells",b=t.CONTEXTMENU_ITEMS_UNMERGE_CELLS=r+".unmergeCells",w=t.CONTEXTMENU_ITEMS_ADD_COMMENT=r+".addComment",E=t.CONTEXTMENU_ITEMS_EDIT_COMMENT=r+".editComment",S=t.CONTEXTMENU_ITEMS_REMOVE_COMMENT=r+".removeComment",x=t.CONTEXTMENU_ITEMS_READ_ONLY_COMMENT=r+".readOnlyComment",T=t.CONTEXTMENU_ITEMS_ALIGNMENT=r+".align",N=t.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT=r+".align.left",C=t.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER=r+".align.center",k=t.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT=r+".align.right",L=t.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY=r+".align.justify",A=t.CONTEXTMENU_ITEMS_ALIGNMENT_TOP=r+".align.top",O=t.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE=r+".align.middle",M=t.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM=r+".align.bottom",_=t.CONTEXTMENU_ITEMS_BORDERS=r+".borders",D=t.CONTEXTMENU_ITEMS_BORDERS_TOP=r+".borders.top",P=t.CONTEXTMENU_ITEMS_BORDERS_RIGHT=r+".borders.right",H=t.CONTEXTMENU_ITEMS_BORDERS_BOTTOM=r+".borders.bottom",B=t.CONTEXTMENU_ITEMS_BORDERS_LEFT=r+".borders.left",j=t.CONTEXTMENU_ITEMS_REMOVE_BORDERS=r+".borders.remove",F=t.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD=r+".nestedHeaders.insertChildRow",I=t.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD=r+".nestedHeaders.detachFromParent",q=t.CONTEXTMENU_ITEMS_HIDE_COLUMN=r+".hideColumn",R=t.CONTEXTMENU_ITEMS_SHOW_COLUMN=r+".showColumn",U=t.CONTEXTMENU_ITEMS_HIDE_ROW=r+".hideRow",z=t.CONTEXTMENU_ITEMS_SHOW_ROW=r+".showRow",W=t.FILTERS_NAMESPACE="Filters:",X=t.FILTERS_CONDITIONS_NAMESPACE=W+"conditions",V=t.FILTERS_CONDITIONS_NONE=X+".none",$=t.FILTERS_CONDITIONS_EMPTY=X+".isEmpty",J=t.FILTERS_CONDITIONS_NOT_EMPTY=X+".isNotEmpty",K=t.FILTERS_CONDITIONS_EQUAL=X+".isEqualTo",Q=t.FILTERS_CONDITIONS_NOT_EQUAL=X+".isNotEqualTo",G=t.FILTERS_CONDITIONS_BEGINS_WITH=X+".beginsWith",Y=t.FILTERS_CONDITIONS_ENDS_WITH=X+".endsWith",Z=t.FILTERS_CONDITIONS_CONTAINS=X+".contains",et=t.FILTERS_CONDITIONS_NOT_CONTAIN=X+".doesNotContain",tt=t.FILTERS_CONDITIONS_BY_VALUE=X+".byValue",nt=t.FILTERS_CONDITIONS_GREATER_THAN=X+".greaterThan",rt=t.FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL=X+".greaterThanOrEqualTo",it=t.FILTERS_CONDITIONS_LESS_THAN=X+".lessThan",st=t.FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL=X+".lessThanOrEqualTo",ot=t.FILTERS_CONDITIONS_BETWEEN=X+".isBetween",ut=t.FILTERS_CONDITIONS_NOT_BETWEEN=X+".isNotBetween",at=t.FILTERS_CONDITIONS_AFTER=X+".after",ft=t.FILTERS_CONDITIONS_BEFORE=X+".before",lt=t.FILTERS_CONDITIONS_TODAY=X+".today",ct=t.FILTERS_CONDITIONS_TOMORROW=X+".tomorrow",ht=t.FILTERS_CONDITIONS_YESTERDAY=X+".yesterday",pt=t.FILTERS_DIVS_FILTER_BY_CONDITION=W+"labels.filterByCondition",dt=t.FILTERS_DIVS_FILTER_BY_VALUE=W+"labels.filterByValue",vt=t.FILTERS_LABELS_CONJUNCTION=W+"labels.conjunction",mt=t.FILTERS_LABELS_DISJUNCTION=W+"labels.disjunction",gt=t.FILTERS_VALUES_BLANK_CELLS=W+"values.blankCells",yt=t.FILTERS_BUTTONS_SELECT_ALL=W+"buttons.selectAll",bt=t.FILTERS_BUTTONS_CLEAR=W+"buttons.clear",wt=t.FILTERS_BUTTONS_OK=W+"buttons.ok",Et=t.FILTERS_BUTTONS_CANCEL=W+"buttons.cancel",St=t.FILTERS_BUTTONS_PLACEHOLDER_SEARCH=W+"buttons.placeholder.search",xt=t.FILTERS_BUTTONS_PLACEHOLDER_VALUE=W+"buttons.placeholder.value",Tt=t.FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE=W+"buttons.placeholder.secondValue"},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){var n=(0,o.toUpperCaseFirst)(e);i.default.getSingleton().add("construct",function(){a.has(this)||a.set(this,{});var e=a.get(this);e[n]||(e[n]=new t(this))}),i.default.getSingleton().add("afterDestroy",function(){if(a.has(this)){var e=a.get(this);(0,s.objectEach)(e,function(e){return e.destroy()}),a.delete(this)}})}function l(e,t){if(typeof t!="string")throw Error('Only strings can be passed as "plugin" parameter');var n=(0,o.toUpperCaseFirst)(t);return!a.has(e)||!a.get(e)[n]?void 0:a.get(e)[n]}function c(e){return a.has(e)?Object.keys(a.get(e)):[]}function h(e,t){var n=null;return a.has(e)&&(0,s.objectEach)(a.get(e),function(e,r){e===t&&(n=r)}),n}t.__esModule=!0,t.getPluginName=t.getRegistredPluginNames=t.getPlugin=t.registerPlugin=undefined;var r=n(16),i=u(r),s=n(1),o=n(33),a=new WeakMap;t.registerPlugin=f,t.getPlugin=l,t.getRegistredPluginNames=c,t.getPluginName=h},function(e,t){e.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}},function(e,t,n){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),s=n(2),o=n(195),u=n(8),f=new WeakMap,l=null,c=function(){function e(t){var n=this;a(this,e),(0,i.defineGetter)(this,"hot",t,{writable:!1}),(0,i.defineGetter)(this,"t",(0,o.getTranslator)(t),{writable:!1}),f.set(this,{hooks:{}}),l=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return n.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(){return n.onUpdateSettings()}),this.hot.addHook("beforeInit",function(){return n.init()})}return r(e,[{key:"init",value:function(){this.pluginName=(0,u.getPluginName)(this.hot,this),this.isEnabled&&this.isEnabled()&&this.enablePlugin(),l||(l=(0,u.getRegistredPluginNames)(this.hot)),l.indexOf(this.pluginName)>=0&&l.splice(l.indexOf(this.pluginName),1),l.length||this.hot.runHooks("afterPluginsInitialized"),this.initialized=!0}},{key:"enablePlugin",value:function(){this.enabled=!0}},{key:"disablePlugin",value:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1}},{key:"addHook",value:function(t,n){f.get(this).hooks[t]=f.get(this).hooks[t]||[];var r=f.get(this).hooks[t];this.hot.addHook(t,n),r.push(n),f.get(this).hooks[t]=r}},{key:"removeHooks",value:function(t){var n=this;(0,s.arrayEach)(f.get(this).hooks[t]||[],function(e){n.hot.removeHook(t,e)})}},{key:"clearHooks",value:function(){var t=this,n=f.get(this).hooks;(0,i.objectEach)(n,function(e,n){return t.removeHooks(n)}),n.length=0}},{key:"callOnPluginsReady",value:function(t){this.isPluginsReady?t():this.pluginsInitializedCallbacks.push(t)}},{key:"onAfterPluginsInitialized",value:function(){(0,s.arrayEach)(this.pluginsInitializedCallbacks,function(e){return e()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}},{key:"onUpdateSettings",value:function(){this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&this.updatePlugin())}},{key:"updatePlugin",value:function(){}},{key:"destroy",value:function(){var t=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),(0,i.objectEach)(this,function(e,n){n!=="hot"&&n!=="t"&&(t[n]=null)}),delete this.t,delete this.hot}}]),e}();t.default=c},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e){var t=void 0;switch(typeof e=="undefined"?"undefined":r(e)){case"string":case"number":t=""+e;break;case"object":t=e===null?"":e.toString();break;case"undefined":t="";break;default:t=e.toString()}return t}function c(e){return typeof e!="undefined"}function h(e){return typeof e=="undefined"}function p(e){return e===null||e===""||h(e)}function d(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function T(e,t){e=w(e||"");var n="",r=!0,s=N(e),a=S(),f=p(e)||e==="trial";if(f||s)if(s){var l=Math.floor((0,o.default)("12/09/2018","DD/MM/YYYY").toDate().getTime()/864e5),c=E(e);if(c>45e3||c!==parseInt(c,10))n="The license key provided to Handsontable Pro is invalid. Make sure you pass it correctly.";n||(l>c+1&&(n=(0,u.toSingleLine)(i)),r=l>c+15)}else n="Evaluation version of Handsontable Pro. Not licensed for use in a production environment.";else n="The license key provided to Handsontable Pro is invalid. Make sure you pass it correctly.";a&&(n=!1,r=!1),n&&!x&&(console[f?"info":"warn"](n),x=!0);if(r&&t.parentNode){var h=document.createElement("div");h.id="hot-display-license-info",h.appendChild(document.createTextNode("Evaluation version of Handsontable Pro.")),h.appendChild(document.createElement("br")),h.appendChild(document.createTextNode("Not licensed for production use.")),t.parentNode.insertBefore(h,t.nextSibling)}}function N(e){var t=[][v],n=t;if(e[v]!==b("Z"))return!1;for(var r="",i="B<H4P+".split(""),s=b(i.shift());s;s=b(i.shift()||"A"))--s<""[v]?n|=(g(""+g(m(r)+(m(y(e,Math.abs(s),2))+[]).padStart(2,"0")))%97||2)>>1:r=y(e,s,s?i[v]===1?9:8:6);return n===t}t.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=f(["\n          Your license key of Handsontable Pro has expired.ââââ \n          Renew your maintenance plan at https://handsontable.com or downgrade to the previous version of the software.\n          "],["\n          Your license key of Handsontable Pro has expired.ââââ \n          Renew your maintenance plan at https://handsontable.com or downgrade to the previous version of the software.\n          "]);t.stringify=l,t.isDefined=c,t.isUndefined=h,t.isEmpty=p,t.isRegExp=d,t._injectProductInfo=T;var s=n(57),o=a(s),u=n(42),v="length",m=function(t){return parseInt(t,16)},g=function(t){return parseInt(t,10)},y=function(t,n,r){return t.substr(n,r)},b=function(t){return t.codePointAt(0)-65},w=function(t){return(""+t).replace(/\-/g,"")},E=function(t){return m(y(w(t),m("12"),b("F")))/(m(y(w(t),b("B"),~~![][v]))||9)},S=function(){return typeof location!="undefined"&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host)},x=!1},function(e,t,n){var r=n(79)("wks"),i=n(50),s=n(15).Symbol,o=typeof s=="function",u=e.exports=function(e){return r[e]||(r[e]=o&&s[e]||(o?s:i)("Symbol."+e))};u.store=r},function(e,t,n){function i(e){e.isImmediatePropagationEnabled=!1,e.cancelBubble=!0}function s(e){return e.isImmediatePropagationEnabled===!1}function o(e){typeof e.stopPropagation=="function"?e.stopPropagation():e.cancelBubble=!0}function u(e){return e.pageX?e.pageX:e.clientX+(0,r.getWindowScrollLeft)()}function a(e){return e.pageY?e.pageY:e.clientY+(0,r.getWindowScrollTop)()}function f(e){return e.button===2}function l(e){return e.button===0}t.__esModule=!0,t.stopImmediatePropagation=i,t.isImmediatePropagationStopped=s,t.stopPropagation=o,t.pageX=u,t.pageY=a,t.isRightClick=f,t.isLeftClick=l;var r=n(0)},function(e,t,n){function b(e){return e&&e.__esModule?e:{"default":e}}function C(e){if(typeof e=="function")return e;if(!x(e))throw Error('No registered renderer found under "'+e+'" name');return S(e)}t.__esModule=!0,t.getRegisteredRenderers=t.getRegisteredRendererNames=t.hasRenderer=t.getRenderer=t.registerRenderer=undefined;var r=n(38),i=b(r),s=n(243),o=b(s),u=n(244),a=b(u),f=n(245),l=b(f),c=n(246),h=b(c),p=n(247),d=b(p),v=n(249),m=b(v),g=n(250),y=b(g),w=(0,i.default)("renderers"),E=w.register,S=w.getItem,x=w.hasItem,T=w.getNames,N=w.getValues;E("base",o.default),E("autocomplete",a.default),E("checkbox",l.default),E("html",h.default),E("numeric",d.default),E("password",m.default),E("text",y.default),t.registerRenderer=E,t.getRenderer=C,t.hasRenderer=x,t.getRegisteredRendererNames=T,t.getRegisteredRenderers=N},function(e,t){var n=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=n)},function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(){return f}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),s=n(1),u=["afterCellMetaReset","afterChange","afterChangesObserved","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","afterRender","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeRender","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyCol","unmodifyCol","unmodifyRow","modifyColHeader","modifyColWidth","modifyRow","modifyRowHeader","modifyRowHeight","modifyData","modifyRowData","modifyGetCellCoords","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnMove","afterColumnMove","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","modifyColumnHeaderHeight","beforeUndo","afterUndo","beforeRedo","afterRedo","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","skipLengthCache","afterTrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","hiddenRow","hiddenColumn","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten"],a=function(){function e(){o(this,e),this.globalBucket=this.createEmptyBucket()}return r(e,null,[{key:"getSingleton",value:function(){return l()}}]),r(e,[{key:"createEmptyBucket",value:function(){var t=Object.create(null);return(0,i.arrayEach)(u,function(e){return t[e]=[]}),t}},{key:"getBucket",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket}},{key:"add",value:function(t,n){var r=this,s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(Array.isArray(n))(0,i.arrayEach)(n,function(e){return r.add(t,e,s)});else{var o=this.getBucket(s);typeof o[t]=="undefined"&&(this.register(t),o[t]=[]),n.skip=!1;if(o[t].indexOf(n)===-1){var u=!1;n.initialHook&&(0,i.arrayEach)(o[t],function(e,r){if(e.initialHook)return o[t][r]=n,u=!0,!1}),u||o[t].push(n)}}return this}},{key:"once",value:function(t,n){var r=this,s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;Array.isArray(n)?(0,i.arrayEach)(n,function(e){return r.once(t,e,s)}):(n.runOnce=!0,this.add(t,n,s))}},{key:"remove",value:function(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null,i=this.getBucket(r);return typeof i[t]!="undefined"&&i[t].indexOf(n)>=0?(n.skip=!0,!0):!1}},{key:"has",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null,r=this.getBucket(n);return r[t]!==void 0&&!!r[t].length}},{key:"run",value:function(t,n,r,i,s,o,u,a){var f=this.globalBucket[n],l=f?f.length:0,c=0;if(l)while(c<l){if(!f[c]||f[c].skip){c+=1;continue}var h=f[c].call(t,r,i,s,o,u,a);h!==void 0&&(r=h),f[c]&&f[c].runOnce&&this.remove(n,f[c]),c+=1}var p=this.getBucket(t)[n],d=p?p.length:0,v=0;if(d)while(v<d){if(!p[v]||p[v].skip){v+=1;continue}var m=p[v].call(t,r,i,s,o,u,a);m!==void 0&&(r=m),p[v]&&p[v].runOnce&&this.remove(n,p[v],t),v+=1}return r}},{key:"destroy",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;(0,s.objectEach)(this.getBucket(t),function(e,t,n){return n[t].length=0})}},{key:"register",value:function(t){this.isRegistered(t)||u.push(t)}},{key:"deregister",value:function(t){this.isRegistered(t)&&u.splice(u.indexOf(t),1)}},{key:"isRegistered",value:function(t){return u.indexOf(t)>=0}},{key:"getRegistered",value:function(){return u}}]),e}(),f=new a;t.default=a},function(e,t,n){function k(e){return e&&e.__esModule?e:{"default":e}}function H(e){var t={},n=e;this.getConstructor=function(){return e},this.getInstance=function(e){return e.guid in t||(t[e.guid]=new n(e)),t[e.guid]},o.default.getSingleton().add("afterDestroy",function(){t[this.guid]=null})}function B(e,t){var n=void 0;if(typeof e=="function")L.get(e)||F(null,e),n=L.get(e);else{if(typeof e!="string")throw Error('Only strings and functions can be passed as "editor" parameter');n=M(e)}if(!n)throw Error('No editor registered under name "'+e+'"');return n.getInstance(t)}function j(e){if(!_(e))throw Error('No registered editor found under "'+e+'" name');return M(e).getConstructor()}function F(e,t){var n=new H(t);typeof e=="string"&&O(e,n),L.set(t,n)}t.__esModule=!0,t.getRegisteredEditors=t.getRegisteredEditorNames=t.hasEditor=t.getEditorInstance=t.getEditor=t.registerEditor=undefined,t.RegisteredEditor=H,t._getEditorInstance=B;var r=n(38),i=k(r),s=n(16),o=k(s),u=n(55),a=k(u),f=n(190),l=k(f),c=n(235),h=k(c),p=n(236),d=k(p),v=n(239),m=k(v),g=n(191),y=k(g),b=n(240),w=k(b),E=n(241),S=k(E),x=n(242),T=k(x),N=n(59),C=k(N),L=new WeakMap,A=(0,i.default)("editors"),O=A.register,M=A.getItem,_=A.hasItem,D=A.getNames,P=A.getValues;F("base",a.default),F("autocomplete",l.default),F("checkbox",h.default),F("date",d.default),F("dropdown",m.default),F("handsontable",y.default),F("numeric",w.default),F("password",S.default),F("select",T.default),F("text",C.default),t.registerEditor=F,t.getEditor=j,t.getEditorInstance=B,t.hasEditor=_,t.getRegisteredEditorNames=D,t.getRegisteredEditors=P},function(e,t,n){var r=n(9);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){function o(e){return(0,r.arrayMap)(e,function(e){return{start:e.getTopLeftCorner(),end:e.getBottomRightCorner()}})}function u(e){return(0,i.hasClass)(e,"htSeparator")}function a(e){return(0,i.hasClass)(e,"htSubmenu")}function f(e){return(0,i.hasClass)(e,"htDisabled")}function l(e){return(0,i.hasClass)(e,"htSelectionDisabled")}function c(e){var t=e.getSelected();return t?t[0]<0?null:t:null}function h(e,t){if(e.indexOf(t)!==-1)return e;var n=e.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","");return n+" "+t}function p(e,t){if(e.indexOf(t)!==-1)return e;var n=e.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","");return n+" "+t}function d(e,t){var n={};return(0,r.arrayEach)(e,function(e){var r=e.from,i=e.to;for(var s=r.row;s<=i.row;s++)for(var o=r.col;o<=i.col;o++)n[s]||(n[s]=[]),n[s][o]=t(s,o)}),n}function v(e,t,n,i,s){(0,r.arrayEach)(e,function(e){var r=e.from,o=e.to;if(r.row===o.row&&r.col===o.col)m(r.row,r.col,t,n,i,s);else for(var u=r.row;u<=o.row;u++)for(var a=r.col;a<=o.col;a++)m(u,a,t,n,i,s)})}function m(e,t,n,r,i,s){var o=i(e,t),u=r;o.className&&(n==="vertical"?u=h(o.className,r):u=p(o.className,r)),s(e,t,"className",u)}function g(e,t){var n=!1;return Array.isArray(e)&&(0,r.arrayEach)(e,function(e){return e.forAll(function(e,r){if(t(e,r))return n=!0,!1}),n}),n}function y(e){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+e}function b(e,t){return!e.hidden||typeof e.hidden!="function"||!e.hidden.call(t)}function w(e,t){var n=e.slice(0);for(var r=0;r<n.length;){if(n[r].name!==t)break;n.shift()}return n}function E(e,t){var n=e.slice(0);return n.reverse(),n=w(n,t),n.reverse(),n}function S(e){var t=[];return(0,r.arrayEach)(e,function(e,n){n>0?t[t.length-1].name!==e.name&&t.push(e):t.push(e)}),t}function x(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:s.KEY,n=e.slice(0);return n=w(n,t),n=E(n,t),n=S(n),n}t.__esModule=!0,t.normalizeSelection=o,t.isSeparator=u,t.hasSubMenu=a,t.isDisabled=f,t.isSelectionDisabled=l,t.getValidSelection=c,t.prepareVerticalAlignClass=h,t.prepareHorizontalAlignClass=p,t.getAlignmentClasses=d,t.align=v,t.checkSelectionConsistency=g,t.markLabelAsSelected=y,t.isItemHidden=b,t.filterSeparators=x;var r=n(2),i=n(0),s=n(95)},function(e,t,n){var r=n(18),i=n(100),s=n(75),o=Object.defineProperty;t.f=n(22)?Object.defineProperty:function(t,n,u){r(t),n=s(n,!0),r(u);if(i)try{return o(t,n,u)}catch(a){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(t[n]=u.value),t}},function(e,t,n){function s(e){return e===32||e>=48&&e<=57||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e>=226||e>=65&&e<=90}function o(e){var t=[i.ARROW_DOWN,i.ARROW_UP,i.ARROW_LEFT,i.ARROW_RIGHT,i.HOME,i.END,i.DELETE,i.BACKSPACE,i.F1,i.F2,i.F3,i.F4,i.F5,i.F6,i.F7,i.F8,i.F9,i.F10,i.F11,i.F12,i.TAB,i.PAGE_DOWN,i.PAGE_UP,i.ENTER,i.ESCAPE,i.SHIFT,i.CAPS_LOCK,i.ALT];return t.indexOf(e)!==-1}function u(e){var t=[];return window.navigator.platform.includes("Mac")?t.push(i.COMMAND_LEFT,i.COMMAND_RIGHT,i.COMMAND_FIREFOX):t.push(i.CONTROL),t.includes(e)}function a(e){return[i.CONTROL,i.COMMAND_LEFT,i.COMMAND_RIGHT,i.COMMAND_FIREFOX].includes(e)}function f(e,t){var n=t.split("|"),s=!1;return(0,r.arrayEach)(n,function(t){if(e===i[t])return s=!0,!1}),s}t.__esModule=!0,t.KEY_CODES=undefined,t.isPrintableChar=s,t.isMetaKey=o,t.isCtrlKey=u,t.isCtrlMetaKey=a,t.isKey=f;var r=n(2),i=t.KEY_CODES={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL:17,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86}},function(e,t,n){e.exports=!n(23)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(77),i=n(36);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(60),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(3),i=n(37),s=n(23);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*s(function(){n(1)}),"Object",o)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(15),i=n(29),s=n(27),o=n(50)("src"),u="toString",a=Function[u],f=(""+a).split(u);n(37).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,u){var a=typeof n=="function";a&&(s(n,"name")||i(n,"name",t));if(e[t]===n)return;a&&(s(n,o)||i(n,o,e[t]?""+e[t]:f.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n))})(Function.prototype,u,function l(){return typeof this=="function"&&this[o]||a.call(this)})},function(e,t,n){var r=n(20),i=n(51);e.exports=n(22)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(63);e.exports=function(e,t,n){r(e);if(t===undefined)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(36);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(50)("meta"),i=n(9),s=n(27),o=n(20).f,u=0,a=Object.isExtensible||function(){return!0},f=!n(23)(function(){return a(Object.preventExtensions({}))}),l=function(e){o(e,r,{value:{i:"O"+ ++u,w:{}}})},c=function(e,t){if(!i(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!s(e,r)){if(!a(e))return"F";if(!t)return"E";l(e)}return e[r].i},h=function(e,t){if(!s(e,r)){if(!a(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return f&&d.NEED&&a(e)&&!s(e,r)&&l(e),e},d=e.exports={KEY:r,NEED:!1,fastKey:c,getWeak:h,onFreeze:p}},function(e,t,n){function i(e){return e[0].toUpperCase()+e.substr(1)}function s(){var e=[];for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=n.length;while(s){s-=1;var o=(0,r.stringify)(n[s]).toLowerCase();e.indexOf(o)===-1&&e.push(o)}return e.length===1}function o(){function e(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return e()+e()+e()+e()}function u(e){return/^([0-9][0-9]?%$)|(^100%$)/.test(e)}function a(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return(""+e).replace(/(?:\\)?\[([^[\]]+)]/g,function(e,n){return e.charAt(0)==="\\"?e.substr(1,e.length-1):t[n]===void 0?"":t[n]})}function l(e){return(""+e).replace(f,"")}t.__esModule=!0,t.toUpperCaseFirst=i,t.equalsIgnoreCase=s,t.randomString=o,t.isPercentValue=u,t.substitute=a,t.stripTags=l;var r=n(11),f=/<\/?\w+\/?>|<\w+[\s|/][^>]*>/gi},function(e,t,n){function p(e){return e&&e.__esModule?e:{"default":e}}function w(e){if(typeof e=="function")return e;if(!g(e))throw Error('No registered validator found under "'+e+'" name');return m(e)}t.__esModule=!0,t.getRegisteredValidators=t.getRegisteredValidatorNames=t.hasValidator=t.getValidator=t.registerValidator=undefined;var r=n(38),i=p(r),s=n(251),o=p(s),u=n(252),a=p(u),f=n(253),l=p(f),c=n(254),h=p(c),d=(0,i.default)("validators"),v=d.register,m=d.getItem,g=d.hasItem,y=d.getNames,b=d.getValues;v("autocomplete",o.default),v("date",a.default),v("numeric",l.default),v("time",h.default),t.registerValidator=v,t.getValidator=w,t.hasValidator=g,t.getRegisteredValidatorNames=y,t.getRegisteredValidators=b},function(e,t,n){var r=n(101),i=n(80);e.exports=Object.keys||function(t){return r(t,i)}},function(e,t){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=e.exports={version:"2.5.7"};typeof __e=="number"&&(__e=n)},function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(){function n(e,n){t.set(e,n)}function s(e){return t.get(e)}function o(e){return t.has(e)}function u(){return[].concat(r(t.keys()))}function a(){return[].concat(r(t.values()))}var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"common";i.has(e)||i.set(e,new Map);var t=i.get(e);return{register:n,getItem:s,hasItem:o,getNames:u,getValues:a}}t.__esModule=!0,t.default=s;var i=t.collection=new Map},function(e,t,n){function o(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.userAgent,n=t===undefined?navigator.userAgent:t,i=e.vendor,o=i===undefined?navigator.vendor:i;(0,r.objectEach)(s,function(e){var t=e.test;return void t(n,o)})}function u(){return s.chrome.value}function a(){return s.edge.value}function f(){return s.ie.value}function l(){return s.ie8.value}function c(){return s.ie9.value}function h(){return s.ie.value||s.edge.value}function p(){return s.mobile.value}function d(){return s.safari.value}t.__esModule=!0,t.setBrowserMeta=o,t.isChrome=u,t.isEdge=a,t.isIE=f,t.isIE8=l,t.isIE9=c,t.isMSBrowser=h,t.isMobileBrowser=p,t.isSafari=d;var r=n(1),i=function(t){var n={value:!1};return n.test=function(e,r){n.value=t(e,r)},n},s={chrome:i(function(e,t){return/Chrome/.test(e)&&/Google/.test(t)}),edge:i(function(e){return/Edge/.test(e)}),ie:i(function(e){return/Trident/.test(e)}),ie8:i(function(){return!document.createTextNode("test").textContent}),ie9:i(function(){return!!document.documentMode}),mobile:i(function(e){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)}),safari:i(function(e,t){return/Safari/.test(e)&&/Apple Computer/.test(t)})};o()},function(e,t,n){function f(e){return o.call(window,e)}function l(e){u.call(window,e)}function c(){return"ontouchstart"in window}function h(){var e=document.createElement("div");return!!e.createShadowRoot&&!!e.createShadowRoot.toString().match(/\[native code\]/)}function d(){var e=document.createElement("TABLE");e.style.borderSpacing=0,e.style.borderWidth=0,e.style.padding=0;var t=document.createElement("TBODY");e.appendChild(t),t.appendChild(document.createElement("TR")),t.firstChild.appendChild(document.createElement("TD")),t.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var n=document.createElement("CAPTION");n.innerHTML="c<br>c<br>c<br>c",n.style.padding=0,n.style.margin=0,e.insertBefore(n,t),document.body.appendChild(e),p=e.offsetHeight<2*e.lastChild.offsetHeight,document.body.removeChild(e)}function v(){return p===void 0&&d(),p}function g(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return m?m:((typeof Intl=="undefined"?"undefined":r(Intl))==="object"?m=(new Intl.Collator(e,t)).compare:typeof String.prototype.localeCompare=="function"?m=function(t,n){return(""+t).localeCompare(n)}:m=function(t,n){return t===n?0:t>n?-1:1},m)}t.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.requestAnimationFrame=f,t.cancelAnimationFrame=l,t.isTouchSupported=c,t.isWebComponentSupportedNatively=h,t.hasCaptionProblem=v,t.getComparisonFunction=g;var i=0,s=["ms","moz","webkit","o"],o=window.requestAnimationFrame,u=window.cancelAnimationFrame;for(var a=0;a<s.length&&!o;++a)o=window[s[a]+"RequestAnimationFrame"],u=window[s[a]+"CancelAnimationFrame"]||window[s[a]+"CancelRequestAnimationFrame"];o||(o=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-i)),s=window.setTimeout(function(){t(n+r)},r);return i=n+r,s}),u||(u=function(t){clearTimeout(t)});var p=void 0,m=void 0},function(e,t,n){function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(1),o=n(2),u=n(5),a=c(u),f=n(181),l=c(f),p={},d=function(){function e(t){h(this,e),(0,s.defineGetter)(this,"wot",t,{writable:!1}),this.instance=this.wot,this.type="",this.mainTableScrollableElement=null,this.TABLE=this.wot.wtTable.TABLE,this.hider=this.wot.wtTable.hider,this.spreader=this.wot.wtTable.spreader,this.holder=this.wot.wtTable.holder,this.wtRootElement=this.wot.wtTable.wtRootElement,this.trimmingContainer=(0,i.getTrimmingContainer)(this.hider.parentNode.parentNode),this.areElementSizesAdjusted=!1,this.updateStateOfRendering()}return r(e,null,[{key:"registerOverlay",value:function(n,r){if(e.CLONE_TYPES.indexOf(n)===-1)throw new Error("Unsupported overlay ("+n+").");p[n]=r}},{key:"createOverlay",value:function(t,n){return new p[t](n)}},{key:"hasOverlay",value:function(t){return p[t]!==void 0}},{key:"isOverlayTypeOf",value:function(t,n){return!t||!p[n]?!1:t instanceof p[n]}},{key:"CLONE_TOP",get:function(){return"top"}},{key:"CLONE_BOTTOM",get:function(){return"bottom"}},{key:"CLONE_LEFT",get:function(){return"left"}},{key:"CLONE_TOP_LEFT_CORNER",get:function(){return"top_left_corner"}},{key:"CLONE_BOTTOM_LEFT_CORNER",get:function(){return"bottom_left_corner"}},{key:"CLONE_DEBUG",get:function(){return"debug"}},{key:"CLONE_TYPES",get:function(){return[e.CLONE_TOP,e.CLONE_BOTTOM,e.CLONE_LEFT,e.CLONE_TOP_LEFT_CORNER,e.CLONE_BOTTOM_LEFT_CORNER,e.CLONE_DEBUG]}}]),r(e,[{key:"updateStateOfRendering",value:function(){var t=this.needFullRender;this.needFullRender=this.shouldBeRendered();var n=t!==this.needFullRender;return n&&!this.needFullRender&&this.reset(),n}},{key:"shouldBeRendered",value:function(){return!0}},{key:"updateTrimmingContainer",value:function(){this.trimmingContainer=(0,i.getTrimmingContainer)(this.hider.parentNode.parentNode)}},{key:"updateMainScrollableElement",value:function(){this.mainTableScrollableElement=(0,i.getScrollableElement)(this.wot.wtTable.TABLE)}},{key:"makeClone",value:function(n){if(e.CLONE_TYPES.indexOf(n)===-1)throw new Error('Clone type "'+n+'" is not supported.');var r=document.createElement("DIV"),s=document.createElement("TABLE");r.className="ht_clone_"+n+" handsontable",r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.overflow="hidden",s.className=this.wot.wtTable.TABLE.className,r.appendChild(s),this.type=n,this.wot.wtTable.wtRootElement.parentNode.appendChild(r);var o=this.wot.getSetting("preventOverflow");return o===!0||o==="horizontal"&&this.type===e.CLONE_TOP||o==="vertical"&&this.type===e.CLONE_LEFT?this.mainTableScrollableElement=window:this.mainTableScrollableElement=(0,i.getScrollableElement)(this.wot.wtTable.TABLE),new l.default({cloneSource:this.wot,cloneOverlay:this,table:s})}},{key:"refresh",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,n=this.shouldBeRendered();this.clone&&(this.needFullRender||n)&&this.clone.draw(t),this.needFullRender=n}},{key:"reset",value:function(){if(!this.clone)return;var t=this.clone.wtTable.holder,n=this.clone.wtTable.hider,r=t.style,i=n.style,s=t.parentNode.style;(0,o.arrayEach)([r,i,s],function(e){e.width="",e.height=""})}},{key:"destroy",value:function(){(new a.default(this.clone)).destroy()}}]),e}();t.default=d},function(e,t,n){function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=(0,r.arrayReduce)(e,function(e,t,r){var i=t.replace(/(?:\r?\n\s+)/g,""),s=n[r]?n[r]:"";return e+i+s},"");return s.trim()}t.__esModule=!0,t.toSingleLine=i;var r=n(2)},function(e,t,n){function i(e){return typeof e=="function"}function s(e){function s(){var s=this;for(var o=arguments.length,u=Array(o),a=0;a<o;a++)u[a]=arguments[a];var f=Date.now(),l=!1;r.lastCallThrottled=!0,n||(n=f,l=!0);var c=t-(f-n);return l?(r.lastCallThrottled=!1,e.apply(this,u)):(i&&clearTimeout(i),i=setTimeout(function(){r.lastCallThrottled=!1,e.apply(s,u),n=0,i=void 0},c)),r}var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:200,n=0,r={lastCallThrottled:!0},i=null;return s}function o(e){function o(){i=n}function u(){for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return i?(i-=1,e.apply(this,n)):r.apply(this,n)}var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:200,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10,r=s(e,t),i=n;return u.clearHits=o,u}function u(e){function i(){var i=this;for(var s=arguments.length,o=Array(s),u=0;u<s;u++)o[u]=arguments[u];return n&&clearTimeout(n),n=setTimeout(function(){r=e.apply(i,o)},t),r}var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:200,n=null,r=void 0;return i}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],s=t.slice(1);return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return(0,r.arrayReduce)(s,function(e,t){return t(e)},i.apply(this,n))}}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return e.apply(this,n.concat(i))}}function l(e){function n(r){return function(){for(var s=arguments.length,o=Array(s),u=0;u<s;u++)o[u]=arguments[u];var a=r.concat(o),f=void 0;return a.length>=t?f=e.apply(this,a):f=n(a),f}}var t=e.length;return n([])}function c(e){function n(r){return function(){for(var s=arguments.length,o=Array(s),u=0;u<s;u++)o[u]=arguments[u];var a=r.concat(o.reverse()),f=void 0;return a.length>=t?f=e.apply(this,a):f=n(a),f}}var t=e.length;return n([])}t.__esModule=!0,t.isFunction=i,t.throttle=s,t.throttleAfterHits=o,t.debounce=u,t.pipe=a,t.partial=f,t.curry=l,t.curryRight=c;var r=n(2)},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(12)("unscopables"),i=Array.prototype;i[r]==undefined&&n(29)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){t.__esModule=!0;var r=n(2),i=n(1),s="localHooks",o={_localHooks:Object.create(null),addLocalHook:function(t,n){return this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(n),this},runLocalHooks:function(t){var n=this;for(var i=arguments.length,s=Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];this._localHooks[t]&&(0,r.arrayEach)(this._localHooks[t],function(e){return e.apply(n,s)})},clearLocalHooks:function(){return this._localHooks={},this}};(0,i.defineGetter)(o,"MIXIN_NAME",s,{writable:!1,enumerable:!1}),t.default=o},function(e,t,n){function s(e,t){return"border_row"+e+"col"+t}function o(){return{width:1,color:"#000"}}function u(){return{hide:!0}}function a(){return{width:1,color:"#000",cornerVisible:!1}}function f(e,t){return{id:s(e,t),border:a(),row:e,col:t,top:u(),right:u(),bottom:u(),left:u()}}function l(e,t){return(0,r.hasOwnProperty)(t,"border")&&(e.border=t.border),(0,r.hasOwnProperty)(t,"top")&&(t.top?((0,r.isObject)(t.top)||(t.top=o()),e.top=t.top):(t.top=u(),e.top=t.top)),(0,r.hasOwnProperty)(t,"right")&&(t.right?((0,r.isObject)(t.right)||(t.right=o()),e.right=t.right):(t.right=u(),e.right=t.right)),(0,r.hasOwnProperty)(t,"bottom")&&(t.bottom?((0,r.isObject)(t.bottom)||(t.bottom=o()),e.bottom=t.bottom):(t.bottom=u(),e.bottom=t.bottom)),(0,r.hasOwnProperty)(t,"left")&&(t.left?((0,r.isObject)(t.left)||(t.left=o()),e.left=t.left):(t.left=u(),e.left=t.left)),e}function c(e,t){var n=!1;return(0,i.arrayEach)(e.getSelectedRange(),function(i){i.forAll(function(i,s){var o=e.getCellMeta(i,s).borders;if(o){if(!t)return n=!0,!1;if(!(0,r.hasOwnProperty)(o[t],"hide")||o[t].hide===!1)return n=!0,!1}})}),n}function h(e){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+e}t.__esModule=!0,t.createId=s,t.createDefaultCustomBorder=o,t.createSingleEmptyBorder=u,t.createDefaultHtBorder=a,t.createEmptyBorders=f,t.extendDefaultBorder=l,t.checkSelectionBorders=c,t.markSelected=h;var r=n(1),i=n(2)},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},function(e,t){e.exports={}},function(e,t,n){var r=n(20).f,i=n(27),s=n(12)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){function o(e){this.instance=e,this.state=s.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.init()}t.__esModule=!0,t.EditorState=undefined;var r=n(4),i=n(11),s=t.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"};o.prototype._fireCallbacks=function(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)},o.prototype.init=function(){},o.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},o.prototype.setValue=function(){throw Error("Editor setValue() method unimplemented")},o.prototype.open=function(){throw Error("Editor open() method unimplemented")},o.prototype.close=function(){throw Error("Editor close() method unimplemented")},o.prototype.prepare=function(e,t,n,r,i,o){this.TD=r,this.row=e,this.col=t,this.prop=n,this.originalValue=i,this.cellProperties=o,this.state=s.VIRGIN},o.prototype.extend=function(){function t(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(this,n)}function n(e,t){function n(){}return n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e}var e=this.constructor;return n(t,e)},o.prototype.saveValue=function(e,t){var n=void 0,r=void 0;t?(n=this.instance.getSelectedLast(),n[0]>n[2]&&(r=n[0],n[0]=n[2],n[2]=r),n[1]>n[3]&&(r=n[1],n[1]=n[3],n[3]=r)):n=[this.row,this.col,null,null],this.instance.populateFromArray(n[0],n[1],e,n[2],n[3],"edit")},o.prototype.beginEditing=function(e,t){if(this.state!==s.VIRGIN)return;this.instance.view.scrollViewport(new r.CellCoords(this.row,this.col)),this.state=s.EDITING;if(this.isInFullEditMode()){var n=typeof e=="string"?e:(0,i.stringify)(this.originalValue);this.setValue(n)}this.open(t),this._opened=!0,this.focus(),this.instance.view.render(),this.instance.runHooks("afterBeginEditing",this.row,this.col)},o.prototype.finishEditing=function(e,t,n){var r=this,i=void 0;if(n){var o=this._closeCallback;this._closeCallback=function(e){o&&o(e),n(e),r.instance.view.render()}}if(this.isWaiting())return;if(this.state===s.VIRGIN){this.instance._registerTimeout(function(){r._fireCallbacks(!0)});return}if(this.state===s.EDITING){if(e){this.cancelChanges(),this.instance.view.render();return}var u=this.getValue();this.instance.getSettings().trimWhitespace?i=[[typeof u=="string"?String.prototype.trim.call(u||""):u]]:i=[[u]],this.state=s.WAITING,this.saveValue(i,t),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(e){r.state=s.FINISHED,r.discardEditor(e)}):(this.state=s.FINISHED,this.discardEditor(!0))}},o.prototype.cancelChanges=function(){this.state=s.FINISHED,this.discardEditor()},o.prototype.discardEditor=function(e){if(this.state!==s.FINISHED)return;e===!1&&this.cellProperties.allowInvalid!==!0?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=s.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=s.VIRGIN,this._fireCallbacks(!0))},o.prototype.enableFullEditMode=function(){this._fullEditMode=!0},o.prototype.isInFullEditMode=function(){return this._fullEditMode},o.prototype.isOpened=function(){return this._opened},o.prototype.isWaiting=function(){return this.state===s.WAITING},o.prototype.checkEditorSection=function(){var e=this.instance.countRows(),t="";return this.row<this.instance.getSettings().fixedRowsTop?this.col<this.instance.getSettings().fixedColumnsLeft?t="top-left-corner":t="top":this.instance.getSettings().fixedRowsBottom&&this.row>=e-this.instance.getSettings().fixedRowsBottom?this.col<this.instance.getSettings().fixedColumnsLeft?t="bottom-left-corner":t="bottom":this.col<this.instance.getSettings().fixedColumnsLeft&&(t="left"),t},t.default=o},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n){i(this,e),this.row=null,this.col=null,typeof t!="undefined"&&typeof n!="undefined"&&(this.row=t,this.col=n)}return r(e,[{key:"isValid",value:function(t){return this.row<0||this.col<0?!1:this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns")?!1:!0}},{key:"isEqual",value:function(t){return t===this?!0:this.row===t.row&&this.col===t.col}},{key:"isSouthEastOf",value:function(t){return this.row>=t.row&&this.col>=t.col}},{key:"isNorthWestOf",value:function(t){return this.row<=t.row&&this.col<=t.col}},{key:"isSouthWestOf",value:function(t){return this.row>=t.row&&this.col<=t.col}},{key:"isNorthEastOf",value:function(t){return this.row<=t.row&&this.col>=t.col}},{key:"toObject",value:function(){return{row:this.row,col:this.col}}}]),e}();t.default=s},function(t,n){t.exports=e},function(e,t,n){function i(){if((0,r.isDefined)(console)){var e;(e=console).log.apply(e,arguments)}}function s(){if((0,r.isDefined)(console)){var e;(e=console).warn.apply(e,arguments)}}function o(){if((0,r.isDefined)(console)){var e;(e=console).info.apply(e,arguments)}}function u(){if((0,r.isDefined)(console)){var e;(e=console).error.apply(e,arguments)}}t.__esModule=!0,t.log=i,t.warn=s,t.info=o,t.error=u;var r=n(11)},function(e,t,n){function h(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(0),i=n(234),s=h(i),o=n(55),u=h(o),a=n(5),f=h(a),l=n(21),c=n(13),p=u.default.prototype.extend();p.prototype.init=function(){var e=this;this.createElements(),this.eventManager=new f.default(this),this.bindEvents(),this.autoResize=(0,s.default)(),this.holderZIndex=-1,this.instance.addHook("afterDestroy",function(){e.destroy()})},p.prototype.prepare=function(e,t,n,r,i,s){var a=this,f=this.state;for(var l=arguments.length,c=Array(l>6?l-6:0),h=6;h<l;h++)c[h-6]=arguments[h];u.default.prototype.prepare.apply(this,[e,t,n,r,i,s].concat(c));if(!s.readOnly){this.refreshDimensions(!0);var p=s.allowInvalid,d=s.fragmentSelection;p&&(this.TEXTAREA.value=""),f!==o.EditorState.FINISHED&&this.hideEditableElement();var v=!d;v&&this.instance._registerImmediate(function(){return a.focus()})}},p.prototype.hideEditableElement=function(){this.textareaParentStyle.top="-9999px",this.textareaParentStyle.left="-9999px",this.textareaParentStyle.zIndex="-1",this.textareaParentStyle.position="fixed"},p.prototype.showEditableElement=function(){this.textareaParentStyle.zIndex=this.holderZIndex>=0?this.holderZIndex:"",this.textareaParentStyle.position=""},p.prototype.getValue=function(){return this.TEXTAREA.value},p.prototype.setValue=function(e){this.TEXTAREA.value=e},p.prototype.beginEditing=function(){if(this.state!==o.EditorState.VIRGIN)return;this.TEXTAREA.value="";for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.default.prototype.beginEditing.apply(this,t)};var d=function(t){var n=this,i=n.getActiveEditor(),s=(t.ctrlKey||t.metaKey)&&!t.altKey;if(t.target!==i.TEXTAREA||(0,c.isImmediatePropagationStopped)(t))return;if(t.keyCode===17||t.keyCode===224||t.keyCode===91||t.keyCode===93){(0,c.stopImmediatePropagation)(t);return}switch(t.keyCode){case l.KEY_CODES.ARROW_RIGHT:i.isInFullEditMode()&&(!i.isWaiting()&&!i.allowKeyEventPropagation||!i.isWaiting()&&i.allowKeyEventPropagation&&!i.allowKeyEventPropagation(t.keyCode))&&(0,c.stopImmediatePropagation)(t);break;case l.KEY_CODES.ARROW_LEFT:i.isInFullEditMode()&&(!i.isWaiting()&&!i.allowKeyEventPropagation||!i.isWaiting()&&i.allowKeyEventPropagation&&!i.allowKeyEventPropagation(t.keyCode))&&(0,c.stopImmediatePropagation)(t);break;case l.KEY_CODES.ARROW_UP:case l.KEY_CODES.ARROW_DOWN:i.isInFullEditMode()&&(!i.isWaiting()&&!i.allowKeyEventPropagation||!i.isWaiting()&&i.allowKeyEventPropagation&&!i.allowKeyEventPropagation(t.keyCode))&&(0,c.stopImmediatePropagation)(t);break;case l.KEY_CODES.ENTER:var o=this.selection.isMultiple();if(s&&!o||t.altKey){if(i.isOpened()){var u=(0,r.getCaretPosition)(i.TEXTAREA),a=i.getValue(),f=a.slice(0,u)+"\n"+a.slice(u);i.setValue(f),(0,r.setCaretPosition)(i.TEXTAREA,u+1)}else i.beginEditing(i.originalValue+"\n");(0,c.stopImmediatePropagation)(t)}t.preventDefault();break;case l.KEY_CODES.A:case l.KEY_CODES.X:case l.KEY_CODES.C:case l.KEY_CODES.V:s&&(0,c.stopImmediatePropagation)(t);break;case l.KEY_CODES.BACKSPACE:case l.KEY_CODES.DELETE:case l.KEY_CODES.HOME:case l.KEY_CODES.END:(0,c.stopImmediatePropagation)(t);break;default:}[l.KEY_CODES.ARROW_UP,l.KEY_CODES.ARROW_RIGHT,l.KEY_CODES.ARROW_DOWN,l.KEY_CODES.ARROW_LEFT].indexOf(t.keyCode)===-1&&i.autoResize.resize(String.fromCharCode(t.keyCode))};p.prototype.open=function(){this.refreshDimensions(),this.showEditableElement(),this.instance.addHook("beforeKeyDown",d)},p.prototype.close=function(){this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.hideEditableElement(),this.instance.removeHook("beforeKeyDown",d)},p.prototype.focus=function(){this.TEXTAREA.select(),(0,r.setCaretPosition)(this.TEXTAREA,this.TEXTAREA.value.length)},p.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),this.TEXTAREA.tabIndex=-1,(0,r.addClass)(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),(0,r.addClass)(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.zIndex="-1",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT)},p.prototype.getEditedCell=function(){var e=this.checkEditorSection(),t=void 0;switch(e){case"top":t=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.holderZIndex=101;break;case"top-left-corner":t=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.holderZIndex=103;break;case"bottom-left-corner":t=this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.holderZIndex=103;break;case"left":t=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.holderZIndex=102;break;case"bottom":t=this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.holderZIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.holderZIndex=-1}return t!==-1&&t!==-2?t:void 0},p.prototype.refreshValue=function(){var e=this.instance.toPhysicalRow(this.row),t=this.instance.getSourceDataAtCell(e,this.col);this.originalValue=t,this.setValue(t),this.refreshDimensions()},p.prototype.refreshDimensions=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;if(this.state!==o.EditorState.EDITING&&!e)return;this.TD=this.getEditedCell();if(!this.TD){e||this.close(!0);return}var t=(0,r.offset)(this.TD),n=(0,r.offset)(this.instance.rootElement),i=this.instance.view.wt.wtOverlays.topOverlay.mainTableScrollableElement,s=this.instance.countRows(),u=i!==window?i.scrollTop:0,a=i!==window?i.scrollLeft:0,f=this.checkEditorSection(),l=["","left"].includes(f)?u:0,c=["","top","bottom"].includes(f)?a:0,h=t.top===n.top?0:1,p=this.instance.getSettings(),d=this.instance.hasColHeaders(),v=this.TD.style.backgroundColor,m=t.top-n.top-h-l,g=t.left-n.left-1-c,y=void 0;switch(f){case"top":y=(0,r.getCssTransform)(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":y=(0,r.getCssTransform)(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":y=(0,r.getCssTransform)(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":y=(0,r.getCssTransform)(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":y=(0,r.getCssTransform)(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode);break;default:}if(d&&this.instance.getSelectedLast()[0]===0||p.fixedRowsBottom&&this.instance.getSelectedLast()[0]===s-p.fixedRowsBottom)m+=1;this.instance.getSelectedLast()[1]===0&&(g+=1),y&&y!==-1?this.textareaParentStyle[y[0]]=y[1]:(0,r.resetCssTransform)(this.TEXTAREA_PARENT),this.textareaParentStyle.top=m+"px",this.textareaParentStyle.left=g+"px",this.showEditableElement();var b=this.instance.view.wt.wtViewport.rowsRenderCalculator.startPosition,w=this.instance.view.wt.wtViewport.columnsRenderCalculator.startPosition,E=this.instance.view.wt.wtOverlays.leftOverlay.getScrollPosition(),S=this.instance.view.wt.wtOverlays.topOverlay.getScrollPosition(),x=(0,r.getScrollbarWidth)(),T=this.TD.offsetTop+b-S,N=this.TD.offsetLeft+w-E,C=(0,r.innerWidth)(this.TD)-8,k=(0,r.hasVerticalScrollbar)(i)?x:0,L=(0,r.hasHorizontalScrollbar)(i)?x:0,A=this.instance.view.maximumVisibleElementWidth(N)-9-k,O=this.TD.scrollHeight+1,M=Math.max(this.instance.view.maximumVisibleElementHeight(T)-L,23),_=(0,r.getComputedStyle)(this.TD);this.TEXTAREA.style.fontSize=_.fontSize,this.TEXTAREA.style.fontFamily=_.fontFamily,this.TEXTAREA.style.backgroundColor=v||(0,r.getComputedStyle)(this.TEXTAREA).backgroundColor,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(O,M),maxHeight:M,minWidth:Math.min(C,A),maxWidth:A},!0)},p.prototype.bindEvents=function(){var e=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(e){(0,c.stopPropagation)(e)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(e){(0,c.stopPropagation)(e)}),this.instance.addHook("afterScrollHorizontally",function(){e.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){e.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){e.refreshDimensions(),e.focus()}),this.instance.addHook("afterRowResize",function(){e.refreshDimensions(),e.focus()}),this.instance.addHook("afterDestroy",function(){e.eventManager.destroy()})},p.prototype.destroy=function(){this.eventManager.destroy()},t.default=p},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(60),i=Math.max,s=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):s(e,t)}},function(e,t,n){var r=n(28);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t){e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||r!==undefined&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(30),i=n(104),s=n(105),o=n(18),u=n(25),a=n(106),f={},l={},t=e.exports=function(e,t,n,c,h){var p=h?function(){return e}:a(e),d=r(n,c,t?2:1),v=0,m,g,y,b;if(typeof p!="function")throw TypeError(e+" is not iterable!");if(s(p))for(m=u(e.length);m>v;v++){b=t?d(o(g=e[v])[0],g[1]):d(e[v]);if(b===f||b===l)return b}else for(y=p.call(e);!(g=y.next()).done;){b=i(y,d,g.value,t);if(b===f||b===l)return b}};t.BREAK=f,t.RETURN=l},function(e,t,n){var r=n(15),i=n(3),s=n(28),o=n(62),u=n(32),a=n(65),f=n(64),l=n(9),c=n(23),h=n(81),p=n(53),d=n(210);e.exports=function(e,t,n,v,m,g){var y=r[e],b=y,w=m?"set":"add",E=b&&b.prototype,S={},x=function(e){var t=E[e];s(E,e,e=="delete"?function(e){return g&&!l(e)?!1:t.call(this,e===0?0:e)}:e=="has"?function(n){return g&&!l(n)?!1:t.call(this,n===0?0:n)}:e=="get"?function(n){return g&&!l(n)?undefined:t.call(this,n===0?0:n)}:e=="add"?function(n){return t.call(this,n===0?0:n),this}:function(n,r){return t.call(this,n===0?0:n,r),this})};if(typeof b!="function"||!(g||E.forEach&&!c(function(){(new b).entries().next()})))b=v.getConstructor(t,e,m,w),o(b.prototype,n),u.NEED=!0;else{var T=new b,N=T[w](g?{}:-0,1)!=T,C=c(function(){T.has(1)}),k=h(function(e){new b(e)}),L=!g&&c(function(){var e=new b,t=5;while(t--)e[w](t,t);return!e.has(0)});k||(b=t(function(t,n){f(t,b,e);var r=d(new y,t,b);return n!=undefined&&a(n,m,r[w],r),r}),b.prototype=E,E.constructor=b);if(C||L)x("delete"),x("has"),m&&x("get");(L||N)&&x(w),g&&E.clear&&delete E.clear}return p(b,e),S[e]=b,i(i.G+i.W+i.F*(b!=y),S),g||v.setStrong(b,e,m),b}},function(e,t,n){var r=n(54),i=n(51),s=n(24),o=n(75),u=n(27),a=n(100),f=Object.getOwnPropertyDescriptor;t.f=n(22)?f:function(t,n){t=s(t),n=o(n,!0);if(a)try{return f(t,n)}catch(l){}if(u(t,n))return i(!r.f.call(t,n),t[n])}},function(e,t,n){var r=n(30),i=n(77),s=n(31),o=n(25),u=n(211);e.exports=function(e,t){var n=e==1,a=e==2,f=e==3,l=e==4,c=e==6,h=e==5||c,p=t||u;return function(t,u,d){var v=s(t),m=i(v),g=r(u,d,3),y=o(m.length),b=0,w=n?p(t,y):a?p(t,0):undefined,E,S;for(;y>b;b++)if(h||b in m){E=m[b],S=g(E,b,v);if(e)if(n)w[b]=S;else if(S)switch(e){case 3:return!0;case 5:return E;case 6:return b;case 2:w.push(E)}else if(l)return!1}return c?-1:f||l?l:w}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(29),i=n(28),s=n(23),o=n(36),u=n(12);e.exports=function(e,t,n){var a=u(e),f=n(o,a,""[e]),l=f[0],c=f[1];s(function(){var t={};return t[a]=function(){return 7},""[e](t)!=7})&&(i(String.prototype,e,l),r(RegExp.prototype,a,t==2?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)}))}},function(e,t,n){function f(e){return e&&e.__esModule?e:{"default":e}}function m(e,t){var n=e,i=t;return(0,r.isObject)(e)&&(i=e,n=i.languageCode),w(n,i),h(n,(0,r.deepClone)(i)),(0,r.deepClone)(i)}function g(e){return y(e)?(0,r.deepClone)(p(e)):null}function y(e){return d(e)}function b(){return a.default}function w(e,t){e!==l&&(0,i.extendNotExistingKeys)(t,p(l))}function E(){return v()}t.__esModule=!0,t.DEFAULT_LANGUAGE_CODE=t.getLanguagesDictionaries=t.getDefaultLanguageDictionary=t.hasLanguageDictionary=t.getLanguageDictionary=t.registerLanguageDictionary=undefined;var r=n(1),i=n(199),s=n(38),o=f(s),u=n(270),a=f(u),l=a.default.languageCode,c=(0,o.default)("languagesDictionaries"),h=c.register,p=c.getItem,d=c.hasItem,v=c.getValues;t.registerLanguageDictionary=m,t.getLanguageDictionary=g,t.hasLanguageDictionary=y,t.getDefaultLanguageDictionary=b,t.getLanguagesDictionaries=E,t.DEFAULT_LANGUAGE_CODE=l,m(a.default)},function(e,t,n){function m(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:d;if(t!==d&&t!==v)throw new Error("The second argument is used internally only and cannot be overwritten.");var n=Array.isArray(e),r=t===d,o=a;if(n){var u=e[0];if(e.length===0)o=f;else if(r&&u instanceof s.CellRange)o=c;else if(r&&Array.isArray(u))o=m(u,v);else if(e.length>=2&&e.length<=4){var h=!e.some(function(e,t){return!p[t].includes(typeof e=="undefined"?"undefined":i(e))});h&&(o=l)}}return o}function g(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.keepDirection,r=n===undefined?!1:n,i=t.propToCol;if(!h.includes(e))throw new Error("Unsupported selection ranges schema type was provided.");return function(t){var n=e===c,s=n?t.from.row:t[0],o=n?t.from.col:t[1],a=n?t.to.row:t[2],f=n?t.to.col:t[3];typeof i=="function"&&(typeof o=="string"&&(o=i(o)),typeof f=="string"&&(f=i(f))),(0,u.isUndefined)(a)&&(a=s),(0,u.isUndefined)(f)&&(f=o);if(!r){var l=s,h=o,p=a,d=f;s=Math.min(l,p),o=Math.min(h,d),a=Math.max(l,p),f=Math.max(h,d)}return[s,o,a,f]}}function y(e){var t=m(e);if(t===a||t===f)return[];var n=g(t),i=new Set;(0,o.arrayEach)(e,function(e){var t=n(e),s=r(t,4),u=s[1],a=s[3],f=a-u+1;(0,o.arrayEach)(Array.from(new Array(f),function(e,t){return u+t}),function(e){i.has(e)||i.add(e)})});var s=Array.from(i).sort(function(e,t){return e-t}),u=(0,o.arrayReduce)(s,function(e,t,n,r){return n!==0&&t===r[n-1]+1?e[e.length-1][1]+=1:e.push([t,1]),e},[]);return u}function b(e){var t=m(e);if(t===a||t===f)return[];var n=g(t),i=new Set;(0,o.arrayEach)(e,function(e){var t=n(e),s=r(t,3),u=s[0],a=s[2],f=a-u+1;(0,o.arrayEach)(Array.from(new Array(f),function(e,t){return u+t}),function(e){i.has(e)||i.add(e)})});var s=Array.from(i).sort(function(e,t){return e-t}),u=(0,o.arrayReduce)(s,function(e,t,n,r){return n!==0&&t===r[n-1]+1?e[e.length-1][1]+=1:e.push([t,1]),e},[]);return u}function w(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Infinity;return typeof e=="number"&&e>=0&&e<t}t.__esModule=!0,t.SELECTION_TYPES=t.SELECTION_TYPE_OBJECT=t.SELECTION_TYPE_ARRAY=t.SELECTION_TYPE_EMPTY=t.SELECTION_TYPE_UNRECOGNIZED=undefined;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.detectSelectionType=m,t.normalizeSelectionFactory=g,t.transformSelectionToColumnDistance=y,t.transformSelectionToRowDistance=b,t.isValidCoord=w;var s=n(4),o=n(2),u=n(11),a=t.SELECTION_TYPE_UNRECOGNIZED=0,f=t.SELECTION_TYPE_EMPTY=1,l=t.SELECTION_TYPE_ARRAY=2,c=t.SELECTION_TYPE_OBJECT=3,h=t.SELECTION_TYPES=[c,l],p=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],d=Symbol("root"),v=Symbol("child")},function(e,t,n){function f(e){return e&&e.__esModule?e:{"default":e}}function p(e){return e.sortFunction?e.sortFunction:e.type==="date"?i.default:e.type==="numeric"?a.default:o.default}t.__esModule=!0,t.FIRST_AFTER_SECOND=t.FIRST_BEFORE_SECOND=t.DO_NOT_SWAP=undefined,t.getSortFunctionForColumn=p;var r=n(292),i=f(r),s=n(293),o=f(s),u=n(294),a=f(u),l=t.DO_NOT_SWAP=0,c=t.FIRST_BEFORE_SECOND=-1,h=t.FIRST_AFTER_SECOND=1},function(e,t,n){var r=n(9),i=n(15).document,s=r(i)&&r(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&typeof (n=e.toString)=="function"&&!r(i=n.call(e)))return i;if(typeof (n=e.valueOf)=="function"&&!r(i=n.call(e)))return i;if(!t&&typeof (n=e.toString)=="function"&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(18),i=n(208),s=n(80),o=n(78)("IE_PROTO"),u=function(){},a="prototype",f=function(){var e=n(74)("iframe"),t=s.length,r="<",i=">",o;e.style.display="none",n(103).appendChild(e),e.src="javascript:",o=e.contentWindow.document,o.open(),o.write(r+"script"+i+"document.F=Object"+r+"/script"+i),o.close(),f=o.F;while(t--)delete f[a][s[t]];return f()};e.exports=Object.create||function(t,n){var s;return t!==null?(u[a]=r(t),s=new u,u[a]=null,s[o]=t):s=f(),n===undefined?s:i(s,n)}},function(e,t,n){var r=n(44);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return r(e)=="String"?e.split(""):Object(e)}},function(e,t,n){var r=n(79)("keys"),i=n(50);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(37),i=n(15),s="__core-js_shared__",o=i[s]||(i[s]={});(e.exports=function(e,t){return o[e]||(o[e]=t!==undefined?t:{})})("versions",[]).push({version:r.version,mode:n(49)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(12)("iterator"),i=!1;try{var s=[7][r]();s["return"]=function(){i=!0},Array.from(s,function(){throw 2})}catch(o){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var s=[7],o=s[r]();o.next=function(){return{done:n=!0}},s[r]=function(){return o},e(s)}catch(u){}return n}},function(e,t,n){var r=n(30),i=n(214),s=n(103),o=n(74),u=n(15),a=u.process,f=u.setImmediate,l=u.clearImmediate,c=u.MessageChannel,h=u.Dispatch,p=0,d={},v="onreadystatechange",m,g,y,b=function(){var e=+this;if(d.hasOwnProperty(e)){var t=d[e];delete d[e],t()}},w=function(e){b.call(e.data)};if(!f||!l)f=function(t){var n=[],r=1;while(arguments.length>r)n.push(arguments[r++]);return d[++p]=function(){i(typeof t=="function"?t:Function(t),n)},m(p),p},l=function(t){delete d[t]},n(44)(a)=="process"?m=function(e){a.nextTick(r(b,e,1))}:h&&h.now?m=function(e){h.now(r(b,e,1))}:c?(g=new c,y=g.port2,g.port1.onmessage=w,m=r(y.postMessage,y,1)):u.addEventListener&&typeof postMessage=="function"&&!u.importScripts?(m=function(e){u.postMessage(e+"","*")},u.addEventListener("message",w,!1)):v in o("script")?m=function(e){s.appendChild(o("script"))[v]=function(){s.removeChild(this),b.call(e)}}:m=function(e){setTimeout(r(b,e,1),0)};e.exports={set:f,clear:l}},function(e,t,n){var r=n(15),i=r.navigator;e.exports=i&&i.userAgent||""},function(e,t,n){var r=n(101),i=n(80).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(e,t,n){var r=n(144),i=n(36);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(12)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(i){}}return!0}},function(e,t,n){var r=n(20),i=n(51);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(46),i=n(110),s=n(52),o=n(24);e.exports=n(108)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=undefined,i(1)):t=="keys"?i(0,n):t=="values"?i(0,e[n]):i(0,[n,e[n]])},"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},function(e,t,n){function C(e){return e&&e.__esModule?e:{"default":e}}function D(e){if(!O(e))throw Error('You declared cell type "'+e+'" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by "Handsontable.cellTypes.registerCellType" method');return A(e)}function P(e,t){var n=t.editor,r=t.renderer,i=t.validator;n&&(0,s.registerEditor)(e,n),r&&(0,o.registerRenderer)(e,r),i&&(0,u.registerValidator)(e,i),L(e,t)}t.__esModule=!0,t.getRegisteredCellTypes=t.getRegisteredCellTypeNames=t.hasCellType=t.getCellType=t.registerCellType=undefined;var r=n(38),i=C(r),s=n(17),o=n(14),u=n(34),a=n(255),f=C(a),l=n(256),c=C(l),h=n(257),p=C(h),d=n(258),v=C(d),m=n(259),g=C(m),y=n(260),b=C(y),w=n(261),E=C(w),S=n(262),x=C(S),T=n(263),N=C(T),k=(0,i.default)("cellTypes"),L=k.register,A=k.getItem,O=k.hasItem,M=k.getNames,_=k.getValues;P("autocomplete",f.default),P("checkbox",c.default),P("date",p.default),P("dropdown",v.default),P("handsontable",g.default),P("numeric",b.default),P("password",E.default),P("text",x.default),P("time",N.default),t.registerCellType=P,t.getCellType=D,t.hasCellType=O,t.getRegisteredCellTypeNames=M,t.getRegisteredCellTypes=_},function(e,t,n){function W(e){return e&&e.__esModule?e:{"default":e}}function X(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function V(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function J(e,t){function G(e){var t=(0,R.normalizeLanguageCode)(e);(0,q.hasLanguageDictionary)(t)?(m.runHooks("beforeLanguageChange",t),C.prototype.language=t,m.runHooks("afterLanguageChange",t)):(0,R.warnUserAboutLanguageRegistration)(e)}function Y(){var e=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue+=1,e=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){this.validatorsInQueue===0&&e===!1&&(e=!0,this.onQueueEmpty(this.valid))}}}function Z(e){var t=e.replace(",",".");return isNaN(parseFloat(t))===!1?parseFloat(t):e}function et(e,t,n){function g(){var r=void 0;e.length&&(r=m.runHooks("beforeChange",e,t||"edit"),(0,a.isFunction)(r)?(0,f.warn)("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):r===!1&&e.splice(0,e.length)),n()}var r=new Y,s=function(t){return t.length>0&&/^-?[\d\s]*(\.|,)?\d*$/.test(t)};r.onQueueEmpty=g;for(var u=e.length-1;u>=0;u--)if(e[u]===null)e.splice(u,1);else{var l=i(e[u],4),c=l[0],h=l[1],p=l[3],d=B.propToCol(h),v=m.getCellMeta(c,d);v.type==="numeric"&&typeof p=="string"&&s(p)&&(e[u][3]=Z(p)),m.getCellValidator(v)&&(r.addValidatorToQueue(),m.validateCell(e[u][3],v,function(t,n){return function(i){if(typeof i!="boolean")throw new Error("Validation error: result is not boolean");if(i===!1&&n.allowInvalid===!1){e.splice(t,1),n.valid=!0;var s=m.getCell(n.visualRow,n.visualCol);(0,o.removeClass)(s,m.getSettings().invalidCellClassName)}r.removeValidatorFormQueue()}}(u,v),t))}r.checkIfQueueIsEmpty()}function tt(e,t){var n=e.length-1;if(n<0)return;for(;n>=0;n--){var r=!1;if(e[n]===null){e.splice(n,1);continue}if(!(e[n][2]!==null&&e[n][2]!==void 0||e[n][3]!==null&&e[n][3]!==void 0))continue;if(P.settings.allowInsertRow)while(e[n][0]>m.countRows()-1){var i=B.createRow(void 0,void 0,t);if(i===0){r=!0;break}}if(r)continue;if(m.dataType==="array"&&(!P.settings.columns||P.settings.columns.length===0)&&P.settings.allowInsertColumn)while(B.propToCol(e[n][1])>m.countCols()-1)B.createCol(void 0,void 0,t);B.set(e[n][0],e[n][1],e[n][3])}m.forceFullRender=!0,X.adjustRowsAndCols(),m.runHooks("beforeChangeRender",e,t),J.lockEditor(),m._refreshBorders(null),J.unlockEditor(),m.view.wt.wtOverlays.adjustElementsSize(),m.runHooks("afterChange",e,t||"edit");var s=m.getActiveEditor();s&&(0,l.isDefined)(s.refreshValue)&&s.refreshValue()}function nt(e,t,n){return(typeof e=="undefined"?"undefined":r(e))==="object"?e:[[e,t,n]]}function rt(e){if(!(0,y.hasOwnProperty)(e,"type"))return;var t={},n=void 0;r(e.type)==="object"?n=e.type:typeof e.type=="string"&&(n=(0,F.getCellType)(e.type));for(var i in n)(0,y.hasOwnProperty)(n,i)&&!(0,y.hasOwnProperty)(e,i)&&(t[i]=n[i]);return t}function ot(e){return function(){throw new Error('The "'+e+'" method cannot be called because this Handsontable instance has been destroyed')}}var n=this,h=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1,d=!1,m=this,C=function(){},L=new g.default(m),P=void 0,B=void 0,W=void 0,X=void 0,J=void 0;(0,y.extend)(C.prototype,j.default.prototype),(0,y.extend)(C.prototype,t),(0,y.extend)(C.prototype,rt(t)),(0,R.applyLanguageSetting)(C.prototype,t.language),(0,_.hasValidParameter)(h)&&(0,_.registerAsRootInstance)(this),(0,U.startObserving)(),this.isDestroyed=!1,this.rootElement=e,this.isHotTableEnv=(0,o.isChildOfWebComponentTable)(this.rootElement),g.default.isHotTableEnv=this.isHotTableEnv,this.container=document.createElement("div"),this.renderCall=!1,e.insertBefore(this.container,e.firstChild),this.guid="ht_"+(0,T.randomString)();var K=(0,M.getTranslator)(m);W=new A.default(m);if(!this.rootElement.id||this.rootElement.id.substring(0,3)==="ht_")this.rootElement.id=this.guid;P={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width","language"],settings:new C,selRange:null,isPopulated:null,scrollable:null,firstRun:!0};var Q=new z.Selection(P.settings,{countCols:function(){return m.countCols()},countRows:function(){return m.countRows()},propToCol:function(t){return B.propToCol(t)},isEditorOpened:function(){return m.getActiveEditor()?m.getActiveEditor().isOpened():!1}});this.selection=Q,this.selection.addLocalHook("beforeSetRangeStart",function(e){n.runHooks("beforeSetRangeStart",e)}),this.selection.addLocalHook("beforeSetRangeStartOnly",function(e){n.runHooks("beforeSetRangeStartOnly",e)}),this.selection.addLocalHook("beforeSetRangeEnd",function(e){n.runHooks("beforeSetRangeEnd",e),e.row<0&&(e.row=n.view.wt.wtTable.getFirstVisibleRow()),e.col<0&&(e.col=n.view.wt.wtTable.getFirstVisibleColumn())}),this.selection.addLocalHook("afterSetRangeEnd",function(e){var t=(0,y.createObjectPropListener)(!1),r=n.selection.getSelectedRange(),i=r.current(),s=i.from,u=i.to,a=r.size()-1;n.runHooks("afterSelection",s.row,s.col,u.row,u.col,t,a),n.runHooks("afterSelectionByProp",s.row,m.colToProp(s.col),u.row,m.colToProp(u.col),t,a);var f=n.selection.isSelectedByAnyHeader(),l=n.selection.selectedRange.current(),c=!0;d&&(c=!1),t.isTouched()&&(c=!t.value);var h=n.selection.isSelectedByRowHeader(),p=n.selection.isSelectedByColumnHeader();c!==!1&&(f?h?n.view.scrollViewportVertically(e.row):p&&n.view.scrollViewportHorizontally(e.col):l&&!n.selection.isMultiple()?n.view.scrollViewport(l.from):n.view.scrollViewport(e)),h&&p?(0,o.addClass)(n.rootElement,["ht__selection--rows","ht__selection--columns"]):h?((0,o.removeClass)(n.rootElement,"ht__selection--columns"),(0,o.addClass)(n.rootElement,"ht__selection--rows")):p?((0,o.removeClass)(n.rootElement,"ht__selection--rows"),(0,o.addClass)(n.rootElement,"ht__selection--columns")):(0,o.removeClass)(n.rootElement,["ht__selection--rows","ht__selection--columns"]),n._refreshBorders(null)}),this.selection.addLocalHook("afterSelectionFinished",function(e){var t=e.length-1,r=e[t],i=r.from,s=r.to;n.runHooks("afterSelectionEnd",i.row,i.col,s.row,s.col,t),n.runHooks("afterSelectionEndByProp",i.row,m.colToProp(i.col),s.row,m.colToProp(s.col),t)}),this.selection.addLocalHook("afterIsMultipleSelection",function(e){var t=n.runHooks("afterIsMultipleSelection",e.value);e.value&&(e.value=t)}),this.selection.addLocalHook("beforeModifyTransformStart",function(e){n.runHooks("modifyTransformStart",e)}),this.selection.addLocalHook("afterModifyTransformStart",function(e,t,r){n.runHooks("afterModifyTransformStart",e,t,r)}),this.selection.addLocalHook("beforeModifyTransformEnd",function(e){n.runHooks("modifyTransformEnd",e)}),this.selection.addLocalHook("afterModifyTransformEnd",function(e,t,r){n.runHooks("afterModifyTransformEnd",e,t,r)}),this.selection.addLocalHook("afterDeselect",function(){J.destroyEditor(),n._refreshBorders(),(0,o.removeClass)(n.rootElement,["ht__selection--rows","ht__selection--columns"]),n.runHooks("afterDeselect")}),this.selection.addLocalHook("insertRowRequire",function(e){n.alter("insert_row",e,1,"auto")}),this.selection.addLocalHook("insertColRequire",function(e){n.alter("insert_col",e,1,"auto")}),X={alter:function(t,n){function a(e,t,n,r){var i=function(){var t=void 0;return r==="array"?t=[]:r==="object"&&(t={}),t},s=(0,b.arrayMap)(new Array(n),function(){return i()});s.unshift(t,0),e.splice.apply(e,V(s))}var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1,s=arguments[3],o=arguments[4],u=void 0,f=function(t){if(t.length===0)return[];var n=[].concat(V(t));n.sort(function(e,t){var n=i(e,1),r=n[0],s=i(t,1),o=s[0];return r===o?0:r>o?1:-1});var r=(0,b.arrayReduce)(n,function(e,t){var n=i(t,2),r=n[0],s=n[1],o=e[e.length-1],u=i(o,2),a=u[0],f=u[1],l=a+f;if(r<=l){var c=Math.max(s-(l-r),0);o[1]+=c}else e.push([r,s]);return e},[n[0]]);return r};switch(t){case"insert_row":var c=m.countSourceRows();if(m.getSettings().maxRows===c)return;n=(0,l.isDefined)(n)?n:c,u=B.createRow(n,r,s),a(P.cellSettings,n,r,"array"),u&&(Q.isSelected()&&Q.selectedRange.current().from.row>=n?(Q.selectedRange.current().from.row+=u,Q.transformEnd(u,0)):m._refreshBorders());break;case"insert_col":u=B.createCol(n,r,s);for(var h=0,p=m.countSourceRows();h<p;h++)P.cellSettings[h]&&a(P.cellSettings[h],n,r);if(u){if(Array.isArray(m.getSettings().colHeaders)){var d=[n,0];d.length+=u,Array.prototype.splice.apply(m.getSettings().colHeaders,d)}Q.isSelected()&&Q.selectedRange.current().from.col>=n?(Q.selectedRange.current().from.col+=u,Q.transformEnd(0,u)):m._refreshBorders()}break;case"remove_row":var v=function(t){var n=0;(0,b.arrayEach)(t,function(e){var t=i(e,2),o=t[0],u=t[1],a=(0,l.isEmpty)(o)?m.countRows()-1:Math.max(o-n,0);Number.isInteger(o)&&(o=Math.max(o-n,0)),B.removeRow(o,u,s),P.cellSettings.splice(a,r);var f=m.countRows(),c=m.getSettings().fixedRowsTop;c>=a+1&&(m.getSettings().fixedRowsTop-=Math.min(u,c-a));var h=m.getSettings().fixedRowsBottom;h&&a>=f-h&&(m.getSettings().fixedRowsBottom-=Math.min(u,h)),n+=u})};Array.isArray(n)?v(f(n)):v([[n,r]]),X.adjustRowsAndCols(),m._refreshBorders();break;case"remove_col":var g=function(t){var n=0;(0,b.arrayEach)(t,function(e){var t=i(e,2),r=t[0],o=t[1],u=(0,l.isEmpty)(r)?m.countCols()-1:Math.max(r-n,0),a=K.toPhysicalColumn(u);Number.isInteger(r)&&(r=Math.max(r-n,0)),B.removeCol(r,o,s);for(var f=0,c=m.countSourceRows();f<c;f++)P.cellSettings[f]&&P.cellSettings[f].splice(a,o);var h=m.getSettings().fixedColumnsLeft;h>=u+1&&(m.getSettings().fixedColumnsLeft-=Math.min(o,h-u)),Array.isArray(m.getSettings().colHeaders)&&(typeof a=="undefined"&&(a=-1),m.getSettings().colHeaders.splice(a,o)),n+=o})};Array.isArray(n)?g(f(n)):g([[n,r]]),X.adjustRowsAndCols(),m._refreshBorders();break;default:throw new Error('There is no such action "'+t+'"')}o||X.adjustRowsAndCols()},adjustRowsAndCols:function(){if(P.settings.minRows){var t=m.countRows();if(t<P.settings.minRows)for(var n=0,r=P.settings.minRows;n<r-t;n++)B.createRow(m.countRows(),1,"auto")}if(P.settings.minSpareRows){var i=m.countEmptyRows(!0);if(i<P.settings.minSpareRows)for(;i<P.settings.minSpareRows&&m.countSourceRows()<P.settings.maxRows;i++)B.createRow(m.countRows(),1,"auto")}var s=void 0;if(P.settings.minCols||P.settings.minSpareCols)s=m.countEmptyCols(!0);if(P.settings.minCols&&!P.settings.columns&&m.countCols()<P.settings.minCols)for(;m.countCols()<P.settings.minCols;s++)B.createCol(m.countCols(),1,"auto");if(P.settings.minSpareCols&&!P.settings.columns&&m.dataType==="array"&&s<P.settings.minSpareCols)for(;s<P.settings.minSpareCols&&m.countCols()<P.settings.maxCols;s++)B.createCol(m.countCols(),1,"auto");var o=m.countRows(),u=m.countCols();(o===0||u===0)&&Q.deselect(),Q.isSelected()&&(0,b.arrayEach)(Q.selectedRange,function(e){var t=!1,n=e.from.row,r=e.from.col,i=e.to.row,s=e.to.col;n>o-1?(n=o-1,t=!0,i>n&&(i=n)):i>o-1&&(i=o-1,t=!0,n>i&&(n=i)),r>u-1?(r=u-1,t=!0,s>r&&(s=r)):s>u-1&&(s=u-1,t=!0,r>s&&(r=s)),t&&m.selectCell(n,r,i,s)}),m.view&&m.view.wt.wtOverlays.adjustElementsSize()},populateFromArray:function(t,n,i,s,o,u,a){var f=void 0,c=void 0,h=void 0,p=void 0,d=[],v={};c=n.length;if(c===0)return!1;var g=void 0,b=void 0,w=void 0,E=void 0;switch(o){case"shift_down":g=i?i.col-t.col+1:0,b=i?i.row-t.row+1:0,n=(0,O.translateRowsToColumns)(n);for(h=0,p=n.length,w=Math.max(p,g);h<w;h++)if(h<p){var S;for(f=0,c=n[h].length;f<b-c;f++)n[h].push(n[h][f%c]);n[h].unshift(t.col+h,t.row,0),(S=m).spliceCol.apply(S,V(n[h]))}else{var x;n[h%p][0]=t.col+h,(x=m).spliceCol.apply(x,V(n[h%p]))}break;case"shift_right":g=i?i.col-t.col+1:0,b=i?i.row-t.row+1:0;for(f=0,c=n.length,E=Math.max(c,b);f<E;f++)if(f<c){var T;for(h=0,p=n[f].length;h<g-p;h++)n[f].push(n[f][h%p]);n[f].unshift(t.row+f,t.col,0),(T=m).spliceRow.apply(T,V(n[f]))}else{var N;n[f%c][0]=t.row+f,(N=m).spliceRow.apply(N,V(n[f%c]))}break;case"overwrite":default:v.row=t.row,v.col=t.col;var C={row:i&&t?i.row-t.row+1:1,col:i&&t?i.col-t.col+1:1},k=0,L=0,A=!0,M=void 0,_=function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null,i=n[t%n.length];return r!==null?i[r%i.length]:i},D=n.length,H=i?i.row-t.row+1:0;i?c=H:c=Math.max(D,H);for(f=0;f<c;f++){if(i&&v.row>i.row&&H>D||!P.settings.allowInsertRow&&v.row>m.countRows()-1||v.row>=P.settings.maxRows)break;var B=f-k,j=_(B).length,F=i?i.col-t.col+1:0;i?p=F:p=Math.max(j,F),v.col=t.col,M=m.getCellMeta(v.row,v.col);if(!(s!=="CopyPaste.paste"&&s!=="Autofill.autofill"||!M.skipRowOnPaste)){k+=1,v.row+=1,c+=1;continue}L=0;for(h=0;h<p;h++){if(i&&v.col>i.col&&F>j||!P.settings.allowInsertColumn&&v.col>m.countCols()-1||v.col>=P.settings.maxCols)break;M=m.getCellMeta(v.row,v.col);if(!(s!=="CopyPaste.paste"&&s!=="Autofill.fill"||!M.skipColumnOnPaste)){L+=1,v.col+=1,p+=1;continue}if(M.readOnly){v.col+=1;continue}var I=h-L,q=_(B,I),R=m.getDataAtCell(v.row,v.col),U={row:B,col:I};if(s==="Autofill.fill"){var z=m.runHooks("beforeAutofillInsidePopulate",U,u,n,a,{},C);z&&(q=(0,l.isUndefined)(z.value)?q:z.value)}if(q!==null&&(typeof q=="undefined"?"undefined":r(q))==="object")if(R===null||(typeof R=="undefined"?"undefined":r(R))!=="object")A=!1;else{var W=(0,y.duckSchema)(R[0]||R),X=(0,y.duckSchema)(q[0]||q);(0,y.isObjectEqual)(W,X)?q=(0,y.deepClone)(q):A=!1}else R!==null&&(typeof R=="undefined"?"undefined":r(R))==="object"&&(A=!1);A&&d.push([v.row,v.col,q]),A=!0,v.col+=1}v.row+=1}m.setDataAtCell(d,null,null,s||"populateFromArray")}}},this.init=function(){W.setData(P.settings.data),m.runHooks("beforeInit"),(0,c.isMobileBrowser)()&&(0,o.addClass)(m.rootElement,"mobile"),this.updateSettings(P.settings,!0),this.view=new k.default(this),J=v.default.getInstance(m,P,Q,B),this.forceFullRender=!0,m.runHooks("init"),this.view.render(),r(P.firstRun)==="object"&&(m.runHooks("afterChange",P.firstRun[0],P.firstRun[1]),P.firstRun=!1),m.runHooks("afterInit")},this.validateCell=function(e,t,n,r){function s(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;if(!r||t.hidden===!0){n(e);return}var i=t.visualCol,s=t.visualRow,o=m.getCell(s,i,!0);o&&o.nodeName!=="TH"&&m.view.wt.wtSettings.settings.cellRenderer(s,i,o),n(e)}var i=m.getCellValidator(t);(0,l.isRegExp)(i)&&(i=function(e){return function(t,n){n(e.test(t))}}(i)),(0,a.isFunction)(i)?(e=m.runHooks("beforeValidate",e,t.visualRow,t.prop,r),m._registerTimeout(setTimeout(function(){i.call(t,e,function(n){n=m.runHooks("afterValidate",n,e,t.visualRow,t.prop,r),t.valid=n,s(n),m.runHooks("postAfterValidate",n,e,t.visualRow,t.prop,r)})},0))):m._registerTimeout(setTimeout(function(){t.valid=!0,s(t.valid,!1)},0))},this.setDataAtCell=function(e,t,n,i){var s=nt(e,t,n),o=[],u=i,a=void 0,f=void 0,l=void 0;for(a=0,f=s.length;a<f;a++){if(r(s[a])!=="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof s[a][1]!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");l=B.colToProp(s[a][1]),o.push([s[a][0],l,W.getAtCell(K.toPhysicalRow(s[a][0]),s[a][1]),s[a][2]])}!u&&(typeof e=="undefined"?"undefined":r(e))==="object"&&(u=t),m.runHooks("afterSetDataAtCell",o,u),et(o,u,function(){tt(o,u)})},this.setDataAtRowProp=function(e,t,n,i){var s=nt(e,t,n),o=[],u=i,a=void 0,f=void 0;for(a=0,f=s.length;a<f;a++)o.push([s[a][0],s[a][1],W.getAtCell(K.toPhysicalRow(s[a][0]),s[a][1]),s[a][2]]);!u&&(typeof e=="undefined"?"undefined":r(e))==="object"&&(u=t),m.runHooks("afterSetDataAtRowProp",o,u),et(o,u,function(){tt(o,u)})},this.listen=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(e){var t=!document.activeElement||document.activeElement&&document.activeElement.nodeName===void 0;document.activeElement&&document.activeElement!==document.body&&!t?document.activeElement.blur():t&&document.body.focus()}m&&!m.isListening()&&($=m.guid,m.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&($=null,m.runHooks("afterUnlisten"))},this.isListening=function(){return $===m.guid},this.destroyEditor=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;m._refreshBorders(e,t)},this.populateFromArray=function(e,t,n,i,s,o,u,a,f){if((typeof n=="undefined"?"undefined":r(n))!=="object"||r(n[0])!=="object")throw new Error("populateFromArray parameter `input` must be an array of arrays");var l=typeof i=="number"?new D.CellCoords(i,s):null;return X.populateFromArray(new D.CellCoords(e,t),n,l,o,u,a,f)},this.spliceCol=function(e,t,n){var r;for(var i=arguments.length,s=Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return(r=B).spliceCol.apply(r,[e,t,n].concat(s))},this.spliceRow=function(e,t,n){var r;for(var i=arguments.length,s=Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return(r=B).spliceRow.apply(r,[e,t,n].concat(s))},this.getSelected=function(){if(Q.isSelected())return(0,b.arrayMap)(Q.getSelectedRange(),function(e){var t=e.from,n=e.to;return[t.row,t.col,n.row,n.col]})},this.getSelectedLast=function(){var e=this.getSelected(),t=void 0;return e&&e.length>0&&(t=e[e.length-1]),t},this.getSelectedRange=function(){if(Q.isSelected())return Array.from(Q.getSelectedRange())},this.getSelectedRangeLast=function(){var e=this.getSelectedRange(),t=void 0;return e&&e.length>0&&(t=e[e.length-1]),t},this.emptySelectedCells=function(){var e=this;if(!Q.isSelected())return;var t=[];(0,b.arrayEach)(Q.getSelectedRange(),function(n){var r=n.getTopLeftCorner(),i=n.getBottomRightCorner();(0,N.rangeEach)(r.row,i.row,function(n){(0,N.rangeEach)(r.col,i.col,function(r){e.getCellMeta(n,r).readOnly||t.push([n,r,""])})})}),t.length>0&&this.setDataAtCell(t)},this.render=function(){m.view&&(m.renderCall=!0,m.forceFullRender=!0,J.lockEditor(),m._refreshBorders(null),J.unlockEditor())},this.loadData=function(e){function f(){P.cellSettings.length=0}Array.isArray(P.settings.dataSchema)?m.dataType="array":(0,a.isFunction)(P.settings.dataSchema)?m.dataType="function":m.dataType="object",B&&B.destroy(),B=new p.default(m,P,C);if((typeof e=="undefined"?"undefined":r(e))==="object"&&e!==null){if(!e.push||!e.splice)e=[e]}else{if(e!==null)throw new Error("loadData only accepts array of objects or array of arrays ("+(typeof e=="undefined"?"undefined":r(e))+" given)");var t=B.getSchema();e=[];var n=void 0,i=0,s=0;for(i=0,s=P.settings.startRows;i<s;i++)if(m.dataType!=="object"&&m.dataType!=="function"||!P.settings.dataSchema)if(m.dataType==="array")n=(0,y.deepClone)(t[0]),e.push(n);else{n=[];for(var o=0,u=P.settings.startCols;o<u;o++)n.push(null);e.push(n)}else n=(0,y.deepClone)(t),e.push(n)}P.isPopulated=!1,C.prototype.data=e,Array.isArray(e[0])&&(m.dataType="array"),B.dataSource=e,W.data=e,W.dataType=m.dataType,W.colToProp=B.colToProp.bind(B),W.propToCol=B.propToCol.bind(B),f(),X.adjustRowsAndCols(),m.runHooks("afterLoadData",P.firstRun),P.firstRun?P.firstRun=[null,"loadData"]:(m.runHooks("afterChange",null,"loadData"),m.render()),P.isPopulated=!0},this.getData=function(e,t,n,r){return(0,l.isUndefined)(e)?B.getAll():B.getRange(new D.CellCoords(e,t),new D.CellCoords(n,r),B.DESTINATION_RENDERER)},this.getCopyableText=function(e,t,n,r){return B.getCopyableText(new D.CellCoords(e,t),new D.CellCoords(n,r))},this.getCopyableData=function(e,t){return B.getCopyable(e,B.colToProp(t))},this.getSchema=function(){return B.getSchema()},this.updateSettings=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1,n=!1,r=void 0,i=void 0,s=void 0;if((0,l.isDefined)(e.rows))throw new Error('"rows" setting is no longer supported. do you mean startRows, minRows or maxRows?');if((0,l.isDefined)(e.cols))throw new Error('"cols" setting is no longer supported. do you mean startCols, minCols or maxCols?');for(r in e){if(r==="data")continue;if(r==="language"){G(e.language);continue}if(H.default.getSingleton().getRegistered().indexOf(r)>-1){if((0,a.isFunction)(e[r])||Array.isArray(e[r]))e[r].initialHook=!0,m.addHook(r,e[r])}else!t&&(0,y.hasOwnProperty)(e,r)&&(C.prototype[r]=e[r])}e.data===void 0&&P.settings.data===void 0?m.loadData(null):e.data!==void 0?m.loadData(e.data):e.columns!==void 0&&B.createMap(),s=m.countCols();var f=e.columns||C.prototype.columns;f&&(0,a.isFunction)(f)&&(s=m.countSourceCols(),n=!0);if(e.cell!==void 0||e.cells!==void 0||e.columns!==void 0)P.cellSettings.length=0;if(s>0){var c=void 0,h=void 0;for(r=0,i=0;r<s;r++){if(n&&!f(r))continue;P.columnSettings[i]=(0,u.columnFactory)(C,P.columnsSettingConflicts),c=P.columnSettings[i].prototype,f&&(n?h=f(r):h=f[i],h&&((0,y.extend)(c,h),(0,y.extend)(c,rt(h)))),i+=1}}(0,l.isDefined)(e.cell)&&(0,y.objectEach)(e.cell,function(e){m.setCellMetaObject(e.row,e.col,e)}),m.runHooks("afterCellMetaReset"),(0,l.isDefined)(e.className)&&(C.prototype.className&&(0,o.removeClass)(m.rootElement,C.prototype.className),e.className&&(0,o.addClass)(m.rootElement,e.className));var p=m.rootElement.style.height;p!==""&&(p=parseInt(m.rootElement.style.height,10));var d=e.height;(0,a.isFunction)(d)&&(d=d());if(t){var v=m.rootElement.getAttribute("style");v&&m.rootElement.setAttribute("data-initialstyle",m.rootElement.getAttribute("style"))}if(d===null){var g=m.rootElement.getAttribute("data-initialstyle");g&&(g.indexOf("height")>-1||g.indexOf("overflow")>-1)?m.rootElement.setAttribute("style",g):(m.rootElement.style.height="",m.rootElement.style.overflow="")}else d!==void 0&&(m.rootElement.style.height=d+"px",m.rootElement.style.overflow="hidden");if(typeof e.width!="undefined"){var b=e.width;(0,a.isFunction)(b)&&(b=b()),m.rootElement.style.width=b+"px"}t||(B.clearLengthCache(),m.view&&m.view.wt.wtViewport.resetHasOversizedColumnHeadersMarked(),m.runHooks("afterUpdateSettings",e)),X.adjustRowsAndCols(),m.view&&!P.firstRun&&(m.forceFullRender=!0,J.lockEditor(),m._refreshBorders(null),J.unlockEditor()),!t&&m.view&&(p===""||d===""||d===void 0)&&p!==d&&m.view.wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var e=m.getSelectedLast();if(C.prototype.getValue){if((0,a.isFunction)(C.prototype.getValue))return C.prototype.getValue.call(m);if(e)return m.getData()[e[0][0]][C.prototype.getValue]}else if(e)return m.getDataAtCell(e[0],e[1])},this.getSettings=function(){return P.settings},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(e,t,n,r,i){X.alter(e,t,n,r,i)},this.getCell=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;return m.view.getCellAtCoords(new D.CellCoords(e,t),n)},this.getCoords=function(e){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,e)},this.colToProp=function(e){return B.colToProp(e)},this.propToCol=function(e){return B.propToCol(e)},this.toVisualRow=function(e){return K.toVisualRow(e)},this.toVisualColumn=function(e){return K.toVisualColumn(e)},this.toPhysicalRow=function(e){return K.toPhysicalRow(e)},this.toPhysicalColumn=function(e){return K.toPhysicalColumn(e)},this.getDataAtCell=function(e,t){return B.get(e,B.colToProp(t))},this.getDataAtRowProp=function(e,t){return B.get(e,t)},this.getDataAtCol=function(e){var t;return(t=[]).concat.apply(t,V(B.getRange(new D.CellCoords(0,e),new D.CellCoords(P.settings.data.length-1,e),B.DESTINATION_RENDERER)))},this.getDataAtProp=function(e){var t,n=B.getRange(new D.CellCoords(0,B.propToCol(e)),new D.CellCoords(P.settings.data.length-1,B.propToCol(e)),B.DESTINATION_RENDERER);return(t=[]).concat.apply(t,V(n))},this.getSourceData=function(e,t,n,r){var i=void 0;return e===void 0?i=W.getData():i=W.getByRange(new D.CellCoords(e,t),new D.CellCoords(n,r)),i},this.getSourceDataArray=function(e,t,n,r){var i=void 0;return e===void 0?i=W.getData(!0):i=W.getByRange(new D.CellCoords(e,t),new D.CellCoords(n,r),!0),i},this.getSourceDataAtCol=function(e){return W.getAtColumn(e)},this.getSourceDataAtRow=function(e){return W.getAtRow(e)},this.getSourceDataAtCell=function(e,t){return W.getAtCell(e,t)},this.getDataAtRow=function(e){var t=B.getRange(new D.CellCoords(e,0),new D.CellCoords(e,this.countCols()-1),B.DESTINATION_RENDERER);return t[0]||[]},this.getDataType=function(e,t,n,r){var i=this,s=e===void 0?[0,0,this.countRows(),this.countCols()]:[e,t,n,r],o=s[0],u=s[1],a=s[2],f=s[3],l=null,c=null;a===void 0&&(a=o),f===void 0&&(f=u);var h="mixed";return(0,N.rangeEach)(Math.min(o,a),Math.max(o,a),function(e){var t=!0;return(0,N.rangeEach)(Math.min(u,f),Math.max(u,f),function(n){var r=i.getCellMeta(e,n);return c=r.type,l?t=l===c:l=c,t}),h=t?c:"mixed",t}),h},this.removeCellMeta=function(e,t,n){var r=K.toPhysical(e,t),s=i(r,2),o=s[0],u=s[1],a=P.cellSettings[o][u][n],f=m.runHooks("beforeRemoveCellMeta",e,t,n,a);f!==!1&&(delete P.cellSettings[o][u][n],m.runHooks("afterRemoveCellMeta",e,t,n,a)),a=null},this.spliceCellsMeta=function(e,t){var n;for(var r=arguments.length,i=Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];(n=P.cellSettings).splice.apply(n,[e,t].concat(i))},this.setCellMetaObject=function(e,t,n){var i=this;(typeof n=="undefined"?"undefined":r(n))==="object"&&(0,y.objectEach)(n,function(n,r){i.setCellMeta(e,t,r,n)})},this.setCellMeta=function(e,t,n,r){var s=K.toPhysical(e,t),o=i(s,2),a=o[0],f=o[1];P.columnSettings[f]||(P.columnSettings[f]=(0,u.columnFactory)(C,P.columnsSettingConflicts)),P.cellSettings[a]||(P.cellSettings[a]=[]),P.cellSettings[a][f]||(P.cellSettings[a][f]=new P.columnSettings[f]),P.cellSettings[a][f][n]=r,m.runHooks("afterSetCellMeta",e,t,n,r)},this.getCellsMeta=function(){return(0,b.arrayFlatten)(P.cellSettings)},this.getCellMeta=function(e,t){var n=B.colToProp(t),r=K.toPhysical(e,t),s=i(r,2),o=s[0],a=s[1],f=o;f===null&&(f=e),P.columnSettings[a]||(P.columnSettings[a]=(0,u.columnFactory)(C,P.columnsSettingConflicts)),P.cellSettings[f]||(P.cellSettings[f]=[]),P.cellSettings[f][a]||(P.cellSettings[f][a]=new P.columnSettings[a]);var l=P.cellSettings[f][a];l.row=f,l.col=a,l.visualRow=e,l.visualCol=t,l.prop=n,l.instance=m,m.runHooks("beforeGetCellMeta",e,t,l),(0,y.extend)(l,rt(l));if(l.cells){var c=l.cells.call(l,f,a,n);c&&((0,y.extend)(l,c),(0,y.extend)(l,rt(c)))}return m.runHooks("afterGetCellMeta",e,t,l),l},this.getCellMetaAtRow=function(e){return P.cellSettings[e]},this.isColumnModificationAllowed=function(){return m.dataType!=="object"&&!m.getSettings().columns};var it=(0,O.cellMethodLookupFactory)("renderer");this.getCellRenderer=function(e,t){return(0,S.getRenderer)(it.call(this,e,t))},this.getCellEditor=(0,O.cellMethodLookupFactory)("editor");var st=(0,O.cellMethodLookupFactory)("validator");this.getCellValidator=function(e,t){var n=st.call(this,e,t);return typeof n=="string"&&(n=(0,x.getValidator)(n)),n},this.validateCells=function(e){this._validateCells(e)},this.validateRows=function(e,t){if(!Array.isArray(e))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(t,e)},this.validateColumns=function(e,t){if(!Array.isArray(e))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(t,undefined,e)},this._validateCells=function(e,t,n){var r=new Y;e&&(r.onQueueEmpty=e);var i=m.countRows()-1;while(i>=0){if(t!==undefined&&t.indexOf(i)===-1){i-=1;continue}var s=m.countCols()-1;while(s>=0){if(n!==undefined&&n.indexOf(s)===-1){s-=1;continue}r.addValidatorToQueue(),m.validateCell(m.getDataAtCell(i,s),m.getCellMeta(i,s),function(e){if(typeof e!="boolean")throw new Error("Validation error: result is not boolean");e===!1&&(r.valid=!1),r.removeValidatorFormQueue()},"validateCells"),s-=1}i-=1}r.checkIfQueueIsEmpty()},this.getRowHeader=function(e){var t=P.settings.rowHeaders,n=e;return n!==void 0&&(n=m.runHooks("modifyRowHeader",n)),n===void 0?(t=[],(0,N.rangeEach)(m.countRows()-1,function(e){t.push(m.getRowHeader(e))})):Array.isArray(t)&&t[n]!==void 0?t=t[n]:(0,a.isFunction)(t)?t=t(n):t&&typeof t!="string"&&typeof t!="number"&&(t=n+1),t},this.hasRowHeaders=function(){return!!P.settings.rowHeaders},this.hasColHeaders=function(){if(P.settings.colHeaders!==void 0&&P.settings.colHeaders!==null)return!!P.settings.colHeaders;for(var e=0,t=m.countCols();e<t;e++)if(m.getColHeader(e))return!0;return!1},this.getColHeader=function(e){var t=P.settings.columns&&(0,a.isFunction)(P.settings.columns),n=m.runHooks("modifyColHeader",e),r=P.settings.colHeaders;if(n===void 0){var i=[],s=t?m.countSourceCols():m.countCols();for(var o=0;o<s;o++)i.push(m.getColHeader(o));r=i}else{var u=function(t){var n=[],r=m.countSourceCols(),i=0;for(;i<r;i++)(0,a.isFunction)(m.getSettings().columns)&&m.getSettings().columns(i)&&n.push(i);return n[t]},f=n,l=m.runHooks("modifyCol",f),c=u(l);P.settings.columns&&(0,a.isFunction)(P.settings.columns)&&P.settings.columns(c)&&P.settings.columns(c).title?r=P.settings.columns(c).title:P.settings.columns&&P.settings.columns[l]&&P.settings.columns[l].title?r=P.settings.columns[l].title:Array.isArray(P.settings.colHeaders)&&P.settings.colHeaders[l]!==void 0?r=P.settings.colHeaders[l]:(0,a.isFunction)(P.settings.colHeaders)?r=P.settings.colHeaders(l):P.settings.colHeaders&&typeof P.settings.colHeaders!="string"&&typeof P.settings.colHeaders!="number"&&(r=(0,O.spreadsheetColumnLabel)(f))}return r},this._getColWidthFromSettings=function(e){var t=m.getCellMeta(0,e),n=t.width;if(n===void 0||n===P.settings.width)n=t.colWidths;if(n!==void 0&&n!==null){switch(typeof n=="undefined"?"undefined":r(n)){case"object":n=n[e];break;case"function":n=n(e);break;default:}typeof n=="string"&&(n=parseInt(n,10))}return n},this.getColWidth=function(e){var t=m._getColWidthFromSettings(e);return t=m.runHooks("modifyColWidth",t,e),t===void 0&&(t=D.ViewportColumnsCalculator.DEFAULT_WIDTH),t},this._getRowHeightFromSettings=function(e){var t=P.settings.rowHeights;if(t!==void 0&&t!==null){switch(typeof t=="undefined"?"undefined":r(t)){case"object":t=t[e];break;case"function":t=t(e);break;default:}typeof t=="string"&&(t=parseInt(t,10))}return t},this.getRowHeight=function(e){var t=m._getRowHeightFromSettings(e);return t=m.runHooks("modifyRowHeight",t,e),t},this.countSourceRows=function(){var e=m.runHooks("modifySourceLength");return e||(m.getSourceData()?m.getSourceData().length:0)},this.countSourceCols=function(){var e=0,t=m.getSourceData()&&m.getSourceData()[0]?m.getSourceData()[0]:[];return(0,y.isObject)(t)?e=(0,y.deepObjectSize)(t):e=t.length||0,e},this.countRows=function(){return B.getLength()},this.countCols=function(){var e=this.getSettings().maxCols,t=!1,n=0;m.dataType==="array"&&(t=P.settings.data&&P.settings.data[0]&&P.settings.data[0].length),t&&(n=P.settings.data[0].length);if(P.settings.columns){var r=(0,a.isFunction)(P.settings.columns);if(r){if(m.dataType==="array"){var i=0;for(var s=0;s<n;s++)P.settings.columns(s)&&(i+=1);n=i}else if(m.dataType==="object"||m.dataType==="function")n=B.colToPropCache.length}else n=P.settings.columns.length}else if(m.dataType==="object"||m.dataType==="function")n=B.colToPropCache.length;return Math.min(e,n)},this.rowOffset=function(){return m.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return m.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return m.view.wt.drawn?m.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return m.view.wt.drawn?m.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return m.view.wt.drawn?m.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return m.view.wt.drawn?m.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,t=0;return(0,N.rangeEachReverse)(m.countRows()-1,function(n){if(m.isEmptyRow(n))t+=1;else if(e===!0)return!1}),t},this.countEmptyCols=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;if(m.countRows()<1)return 0;var t=0;return(0,N.rangeEachReverse)(m.countCols()-1,function(n){if(m.isEmptyCol(n))t+=1;else if(e===!0)return!1}),t},this.isEmptyRow=function(e){return P.settings.isEmptyRow.call(m,e)},this.isEmptyCol=function(e){return P.settings.isEmptyCol.call(m,e)},this.selectCell=function(e,t,n,r){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:!0;return(0,l.isUndefined)(e)||(0,l.isUndefined)(t)?!1:this.selectCells([[e,t,n,r]],i,s)},this.selectCells=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[[]],t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;t===!1&&(d=!0);var r=Q.selectCells(e);return r&&n&&m.listen(),d=!1,r},this.selectCellByProp=function(e,t,n,r){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:!0;return(0,f.warn)((0,w.toSingleLine)(s)),this.selectCells([[e,t,n,r]],i,o)},this.selectColumns=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e;return Q.selectColumns(e,t)},this.selectRows=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e;return Q.selectRows(e,t)},this.deselectCell=function(){Q.deselect()},this.selectAll=function(){d=!0,Q.selectAll(),d=!1},this.scrollViewportTo=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1,i=!n,s=!r,o=!1;return e!==void 0&&t!==void 0&&(o=m.view.scrollViewport(new D.CellCoords(e,t),i,r,n,s)),typeof e=="number"&&typeof t!="number"&&(o=m.view.scrollViewportVertically(e,i,n)),typeof t=="number"&&typeof e!="number"&&(o=m.view.scrollViewportHorizontally(t,r,s)),o},this.destroy=function(){m._clearTimeouts(),m._clearImmediates(),m.view&&m.view.destroy(),W&&W.destroy(),W=null,(0,U.stopObserving)(),(0,o.empty)(m.rootElement),L.destroy(),J&&J.destroy(),m.runHooks("afterDestroy"),H.default.getSingleton().destroy(m),(0,y.objectEach)(m,function(e,t,n){(0,a.isFunction)(e)?n[t]=ot(t):t!=="guid"&&(n[t]=null)}),m.isDestroyed=!0,B&&B.destroy(),B=null,P=null,X=null,Q=null,J=null,m=null,C=null},this.getActiveEditor=function(){return J.getActiveEditor()},this.getPlugin=function(e){return(0,E.getPlugin)(this,e)},this.getInstance=function(){return m},this.addHook=function(e,t){H.default.getSingleton().add(e,t,m)},this.hasHook=function(e){return H.default.getSingleton().has(e,m)},this.addHookOnce=function(e,t){H.default.getSingleton().once(e,t,m)},this.removeHook=function(e,t){H.default.getSingleton().remove(e,t,m)},this.runHooks=function(e,t,n,r,i,s,o){return H.default.getSingleton().run(m,e,t,n,r,i,s,o)},this.getTranslatedPhrase=function(e,t){return(0,I.getTranslatedPhrase)(P.settings.language,e,t)},this.timeouts=[],this._registerTimeout=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,n=e;typeof n=="function"&&(n=setTimeout(n,t)),this.timeouts.push(n)},this._clearTimeouts=function(){(0,b.arrayEach)(this.timeouts,function(e){clearTimeout(e)})},this.immediates=[],this._registerImmediate=function(e){this.immediates.push(setImmediate(e))},this._clearImmediates=function(){(0,b.arrayEach)(this.immediates,function(e){clearImmediate(e)})},this._refreshBorders=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;J.destroyEditor(e),m.view.render(),t&&Q.isSelected()&&J.prepareEditor()},H.default.getSingleton().run(m,"construct")}t.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=X(["Deprecation warning: This method is going to be removed in the next release.\n      If you want to select a cell using props, please use the `selectCell` method."],["Deprecation warning: This method is going to be removed in the next release.\n      If you want to select a cell using props, please use the \\`selectCell\\` method."]);t.default=J;var o=n(0),u=n(91),a=n(43),f=n(58),l=n(11),c=n(39),h=n(264),p=W(h),d=n(267),v=W(d),m=n(5),g=W(m),y=n(1),b=n(2),w=n(42),E=n(8),S=n(14),x=n(34),T=n(33),N=n(6),C=n(268),k=W(C),L=n(269),A=W(L),O=n(92),M=n(195),_=n(196),D=n(4),P=n(16),H=W(P),B=n(197),j=W(B),F=n(89),I=n(198),q=n(71),R=n(199),U=n(200),z=n(201),$=null},function(e,t,n){function i(e,t){function n(){}(0,r.inherit)(n,e);for(var i=0,s=t.length;i<s;i++)n.prototype[t[i]]=void 0;return n}t.__esModule=!0,t.columnFactory=i;var r=n(1)},function(e,t,n){function u(e){var t=e+1,n="",r=void 0;while(t>0)r=(t-1)%o,n=String.fromCharCode(65+r)+n,t=parseInt((t-r)/o,10);return n}function a(e){var t=0;if(e)for(var n=0,r=e.length-1;n<e.length;n+=1,r-=1)t+=Math.pow(o,r)*(s.indexOf(e[n])+1);return t-=1,t}function f(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4,n=[],r=void 0,i=void 0;for(r=0;r<e;r++){var s=[];for(i=0;i<t;i++)s.push(u(i)+(r+1));n.push(s)}return n}function l(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4,n=[],r=void 0,i=void 0;for(r=0;r<e;r++){var s={};for(i=0;i<t;i++)s["prop"+i]=u(i)+(r+1);n.push(s)}return n}function c(e,t){var n=[],r=void 0;for(var i=0;i<e;i++){r=[];for(var s=0;s<t;s++)r.push("");n.push(r)}return n}function h(e){var t=[],n=void 0,r=void 0,i=void 0,s=void 0,o=0;for(n=0,r=e.length;n<r;n++)for(i=0,s=e[n].length;i<s;i++)i===o&&(t.push([]),o+=1),t[i].push(e[n][i]);return t}function p(e,t){var n=typeof t=="undefined"?!0:t;return function(s,o){return function u(t){if(!t)return;if((0,i.hasOwnProperty)(t,e)&&t[e]!==void 0)return t[e];if((0,i.hasOwnProperty)(t,"type")&&t.type){if(typeof t.type!="string")throw new Error("Cell type must be a string ");var s=(0,r.getCellType)(t.type);if((0,i.hasOwnProperty)(s,e))return s[e];if(n)return}return u(Object.getPrototypeOf(t))}(typeof s=="number"?this.getCellMeta(s,o):s)}}t.__esModule=!0,t.spreadsheetColumnLabel=u,t.spreadsheetColumnIndex=a,t.createSpreadsheetData=f,t.createSpreadsheetObjectData=l,t.createEmptySpreadsheetData=c,t.translateRowsToColumns=h,t.cellMethodLookupFactory=p;var r=n(89),i=n(1),s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",o=s.length},function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(2),u=function(){function e(t){o(this,e),this.hot=t,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}return r(e,[{key:"addRow",value:function(t,n){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var r={row:t};this.rows.push(r),this.samples=n,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}},{key:"addColumnHeadersRow",value:function(t){var n=this.hot.getColHeader(0);if(n!==null&&n!==void 0){var r={row:-1};this.rows.push(r),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tHead.appendChild(this.createColumnHeadersRow()),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}}},{key:"addColumn",value:function(t,n){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var r={col:t};this.columns.push(r),this.samples=n,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&this.hot.getColHeader(t)!==null&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}},{key:"getHeights",value:function(t){this.injected||this.injectTable(),(0,s.arrayEach)(this.rows,function(e){t(e.row,(0,i.outerHeight)(e.table)-1)})}},{key:"getWidths",value:function(t){this.injected||this.injectTable(),(0,s.arrayEach)(this.columns,function(e){t(e.col,(0,i.outerWidth)(e.table))})}},{key:"setSettings",value:function(t){this.settings=t}},{key:"setSetting",value:function(t,n){this.settings||(this.settings={}),this.settings[t]=n}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(t){return this.settings?this.settings[t]:null}},{key:"createColGroupsCol",value:function(){var t=this,n=document,r=n.createDocumentFragment();return this.hot.hasRowHeaders()&&r.appendChild(this.createColElement(-1)),this.samples.forEach(function(e){(0,s.arrayEach)(e.strings,function(e){r.appendChild(t.createColElement(e.col))})}),r}},{key:"createRow",value:function(t){var n=this,r=document,i=r.createDocumentFragment(),o=r.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,o),i.appendChild(o)),this.samples.forEach(function(e){(0,s.arrayEach)(e.strings,function(e){var s=e.col,o=n.hot.getCellMeta(t,s);o.col=s,o.row=t;var u=n.hot.getCellRenderer(o),a=r.createElement("td");u(n.hot,a,t,s,n.hot.colToProp(s),e.value,o),i.appendChild(a)})}),i}},{key:"createColumnHeadersRow",value:function(){var t=this,n=document,r=n.createDocumentFragment();if(this.hot.hasRowHeaders()){var i=n.createElement("th");this.hot.view.appendColHeader(-1,i),r.appendChild(i)}return this.samples.forEach(function(e){(0,s.arrayEach)(e.strings,function(e){var i=e.col,s=n.createElement("th");t.hot.view.appendColHeader(i,s),r.appendChild(s)})}),r}},{key:"createCol",value:function(t){var n=this,r=document,i=r.createDocumentFragment();return this.samples.forEach(function(e){(0,s.arrayEach)(e.strings,function(e){var s=e.row,o=n.hot.getCellMeta(s,t);o.col=t,o.row=s;var u=n.hot.getCellRenderer(o),a=r.createElement("td"),f=r.createElement("tr");u(n.hot,a,s,t,n.hot.colToProp(t),e.value,o),f.appendChild(a),i.appendChild(f)})}),i}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(t){var n=document,r=n.createElement("col");return r.style.width=this.hot.view.wt.wtTable.getStretchedColumnWidth(t)+"px",r}},{key:"createTable",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",n=document,r=n.createDocumentFragment(),s=n.createElement("table"),o=n.createElement("thead"),u=n.createElement("tbody"),a=n.createElement("colgroup"),f=n.createElement("tr"),l=n.createElement("th");return this.isVertical()&&s.appendChild(a),this.isHorizontal()&&(f.appendChild(l),o.appendChild(f),s.style.tableLayout="auto",s.style.width="auto"),s.appendChild(o),this.isVertical()&&u.appendChild(f),s.appendChild(u),(0,i.addClass)(s,t),r.appendChild(s),{fragment:r,table:s,tHead:o,tBody:u,colGroup:a,tr:f,th:l}}},{key:"createContainer",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",n=document,r=n.createDocumentFragment(),s=n.createElement("div"),o="htGhostTable htAutoSize "+t.trim();return(0,i.addClass)(s,o),r.appendChild(s),{fragment:r,container:s}}},{key:"isVertical",value:function(){return!!this.rows.length&&!this.columns.length}},{key:"isHorizontal",value:function(){return!!this.columns.length&&!this.rows.length}}]),e}();t.default=u},function(e,t,n){function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.__esModule=!0;var r=n(2),i=n(1),s=n(6),u="arrayMapper",a={_arrayMap:[],getValueByIndex:function(t){var n=this._arrayMap.length,r=null;return t<n&&(r=this._arrayMap[t]),r},getIndexByValue:function(t){var n=void 0;return(n=this._arrayMap.indexOf(t))===-1?null:n},insertItems:function(t){var n=this,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,o=(0,r.arrayMax)(this._arrayMap)+1,u=[];return(0,s.rangeEach)(i-1,function(e){u.push(n._arrayMap.splice(t+e,0,o+e))}),u},removeItems:function(t){var n=this,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,s=[];if(Array.isArray(t)){var o=[].concat(this._arrayMap);t.sort(function(e,t){return t-e}),s=(0,r.arrayReduce)(t,function(e,t){return n._arrayMap.splice(t,1),e.concat(o.slice(t,t+1))},[])}else s=this._arrayMap.splice(t,i);return s},unshiftItems:function(t){function s(e){return(0,r.arrayReduce)(i,function(t,n){var r=t;return e>n&&(r+=1),r},0)}var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,i=this.removeItems(t,n);this._arrayMap=(0,r.arrayMap)(this._arrayMap,function(e){var t=e,n=s(t);return n&&(t-=n),t})},shiftItems:function(t){var n=this,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this._arrayMap=(0,r.arrayMap)(this._arrayMap,function(e){var n=e;return n>=t&&(n+=i),n}),(0,s.rangeEach)(i-1,function(e){n._arrayMap.splice(t+e,0,t+e)})},swapIndexes:function(t,n){var r;(r=this._arrayMap).splice.apply(r,[n,0].concat(o(this._arrayMap.splice(t,1))))},clearMap:function(){this._arrayMap.length=0}};(0,i.defineGetter)(a,"MIXIN_NAME",u,{writable:!1,enumerable:!1}),t.default=a},function(e,t,n){function i(){return{name:r}}t.__esModule=!0,t.default=i;var r=t.KEY="---------"},function(e,t,n){function A(e){return e&&e.__esModule?e:{"default":e}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(){var e={};return(0,m.objectEach)(_,function(t,n){e[n]=t()}),e}function P(e,t){M.indexOf(e)===-1&&(_[e]=t)}t.__esModule=!0,t.ITEMS=t.UNDO=t.SEPARATOR=t.ROW_BELOW=t.ROW_ABOVE=t.REMOVE_ROW=t.REMOVE_COLUMN=t.REDO=t.READ_ONLY=t.COLUMN_RIGHT=t.COLUMN_LEFT=t.CLEAR_COLUMN=t.ALIGNMENT=undefined;var r,i=n(305);Object.defineProperty(t,"ALIGNMENT",{enumerable:!0,get:function(){return i.KEY}});var s=n(306);Object.defineProperty(t,"CLEAR_COLUMN",{enumerable:!0,get:function(){return s.KEY}});var o=n(307);Object.defineProperty(t,"COLUMN_LEFT",{enumerable:!0,get:function(){return o.KEY}});var u=n(308);Object.defineProperty(t,"COLUMN_RIGHT",{enumerable:!0,get:function(){return u.KEY}});var a=n(309);Object.defineProperty(t,"READ_ONLY",{enumerable:!0,get:function(){return a.KEY}});var f=n(310);Object.defineProperty(t,"REDO",{enumerable:!0,get:function(){return f.KEY}});var l=n(311);Object.defineProperty(t,"REMOVE_COLUMN",{enumerable:!0,get:function(){return l.KEY}});var c=n(312);Object.defineProperty(t,"REMOVE_ROW",{enumerable:!0,get:function(){return c.KEY}});var h=n(313);Object.defineProperty(t,"ROW_ABOVE",{enumerable:!0,get:function(){return h.KEY}});var p=n(314);Object.defineProperty(t,"ROW_BELOW",{enumerable:!0,get:function(){return p.KEY}});var d=n(95);Object.defineProperty(t,"SEPARATOR",{enumerable:!0,get:function(){return d.KEY}});var v=n(315);Object.defineProperty(t,"UNDO",{enumerable:!0,get:function(){return v.KEY}}),t.predefinedItems=D,t.addItem=P;var m=n(1),g=A(i),y=A(s),b=A(o),w=A(u),E=A(a),S=A(f),x=A(l),T=A(c),N=A(h),C=A(p),k=A(d),L=A(v),M=t.ITEMS=[h.KEY,p.KEY,o.KEY,u.KEY,s.KEY,c.KEY,l.KEY,v.KEY,f.KEY,a.KEY,i.KEY,d.KEY],_=(r={},O(r,d.KEY,k.default),O(r,h.KEY,N.default),O(r,p.KEY,C.default),O(r,o.KEY,b.default),O(r,u.KEY,w.default),O(r,s.KEY,y.default),O(r,c.KEY,T.default),O(r,l.KEY,x.default),O(r,v.KEY,L.default),O(r,f.KEY,S.default),O(r,a.KEY,E.default),O(r,i.KEY,g.default),r)},function(e,t,n){function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(["The merged cell declared with {row: ",", col: ",", rowspan: \n    ",", colspan: ","} contains negative values, which is not supported. It \n    will not be added to the collection."],["The merged cell declared with {row: ",", col: ",", rowspan: \n    ",", colspan: ","} contains negative values, which is not supported. It \n    will not be added to the collection."]),s=l(["The merged cell declared at [",", ","] is positioned (or positioned partially) \n       outside of the table range. It was not added to the table, please fix your setup."],["The merged cell declared at [",", ","] is positioned (or positioned partially) \n       outside of the table range. It was not added to the table, please fix your setup."]),o=l(["The merged cell declared at [",", ",'] has both "rowspan" \n     and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has both "rowspan" \n     and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.']),u=l(["The merged cell declared at [",", ",'] has "rowspan" or "colspan" declared as \n      "0", which is not supported. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has "rowspan" or "colspan" declared as \n      "0", which is not supported. It cannot be added to the collection.']),a=n(4),f=n(42),h=function(){function e(t,n,r,i){c(this,e),this.row=t,this.col=n,this.rowspan=r,this.colspan=i,this.removed=!1}return r(e,[{key:"normalize",value:function(t){var n=t.countRows(),r=t.countCols();this.row<0?this.row=0:this.row>n-1&&(this.row=n-1),this.col<0?this.col=0:this.col>r-1&&(this.col=r-1),this.row+this.rowspan>n-1&&(this.rowspan=n-this.row),this.col+this.colspan>r-1&&(this.colspan=r-this.col)}},{key:"includes",value:function(t,n){return this.row<=t&&this.col<=n&&this.row+this.rowspan-1>=t&&this.col+this.colspan-1>=n}},{key:"includesHorizontally",value:function(t){return this.col<=t&&this.col+this.colspan-1>=t}},{key:"includesVertically",value:function(t){return this.row<=t&&this.row+this.rowspan-1>=t}},{key:"shift",value:function(t,n){var r=t[0]||t[1],i=n+Math.abs(t[0]||t[1])-1,s=t[0]?"colspan":"rowspan",o=t[0]?"col":"row",u=Math.min(n,i),a=Math.max(n,i),f=this[o],l=this[o]+this[s]-1;f>=n&&(this[o]+=r);if(r>0)n<=l&&n>f&&(this[s]+=r);else if(r<0){if(u<=f&&a>=l)return this.removed=!0,!1;if(f>=u&&f<=a){var c=a-f+1,h=Math.abs(r)-c;this[o]-=h+r,this[s]-=c}else if(f<=u&&l>=a)this[s]+=r;else if(f<=u&&l>=u&&l<a){var p=l-u+1;this[s]-=p}}return!0}},{key:"isFarther",value:function(t,n){return t?n==="down"?t.row+t.rowspan-1<this.row+this.rowspan-1:n==="up"?t.row>this.row:n==="right"?t.col+t.colspan-1<this.col+this.colspan-1:n==="left"?t.col>this.col:null:!0}},{key:"getLastRow",value:function(){return this.row+this.rowspan-1}},{key:"getLastColumn",value:function(){return this.col+this.colspan-1}},{key:"getRange",value:function(){return new a.CellRange(new a.CellCoords(this.row,this.col),new a.CellCoords(this.row,this.col),new a.CellCoords(this.getLastRow(),this.getLastColumn()))}}],[{key:"NEGATIVE_VALUES_WARNING",value:function(t){return(0,f.toSingleLine)(i,t.row,t.col,t.rowspan,t.colspan)}},{key:"IS_OUT_OF_BOUNDS_WARNING",value:function(t){return(0,f.toSingleLine)(s,t.row,t.col)}},{key:"IS_SINGLE_CELL",value:function(t){return(0,f.toSingleLine)(o,t.row,t.col)}},{key:"ZERO_SPAN_WARNING",value:function(t){return(0,f.toSingleLine)(u,t.row,t.col)}},{key:"containsNegativeValues",value:function(t){return t.row<0||t.col<0||t.rowspan<0||t.colspan<0}},{key:"isSingleCell",value:function(t){return t.colspan===1&&t.rowspan===1}},{key:"containsZeroSpan",value:function(t){return t.colspan===0||t.rowspan===0}},{key:"isOutOfBounds",value:function(t,n,r){return t.row<0||t.col<0||t.row>=n||t.row+t.rowspan-1>=n||t.col>=r||t.col+t.colspan-1>=r}}]),e}();t.default=h},function(e,t,n){var r=n(99),i=n(45),s="Map";e.exports=n(66)(s,function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},{get:function(t){var n=r.getEntry(i(this,s),t);return n&&n.v},set:function(t,n){return r.def(i(this,s),t===0?0:t,n)}},r,!0)},function(e,t,n){var r=n(20).f,i=n(76),s=n(62),o=n(30),u=n(64),a=n(65),f=n(108),l=n(110),c=n(111),h=n(22),p=n(32).fastKey,d=n(45),v=h?"_s":"size",m=function(e,t){var n=p(t),r;if(n!=="F")return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,n,f){var l=e(function(e,r){u(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=undefined,e._l=undefined,e[v]=0,r!=undefined&&a(r,n,e[f],e)});return s(l.prototype,{clear:function(){for(var n=d(this,t),r=n._i,i=n._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=undefined),delete r[i.i];n._f=n._l=undefined,n[v]=0},"delete":function(e){var n=d(this,t),r=m(n,e);if(r){var i=r.n,s=r.p;delete n._i[r.i],r.r=!0,s&&(s.n=i),i&&(i.p=s),n._f==r&&(n._f=i),n._l==r&&(n._l=s),n[v]--}return!!r},forEach:function(n){d(this,t);var r=o(n,arguments.length>1?arguments[1]:undefined,3),i;while(i=i?i.n:this._f){r(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function(n){return!!m(d(this,t),n)}}),h&&r(l.prototype,"size",{get:function(){return d(this,t)[v]}}),l},def:function(e,t,n){var r=m(e,t),i,s;return r?r.v=n:(e._l=r={i:s=p(t,!0),k:t,v:n,p:i=e._l,n:undefined,r:!1},e._f||(e._f=r),i&&(i.n=r),e[v]++,s!=="F"&&(e._i[s]=r)),e},getEntry:m,setStrong:function(e,t,n){f(e,t,function(e,n){this._t=d(e,t),this._k=n,this._l=undefined},function(){var e=this,t=e._k,n=e._l;while(n&&n.r)n=n.p;return!e._t||!(e._l=n=n?n.n:e._t._f)?(e._t=undefined,l(1)):t=="keys"?l(0,n.k):t=="values"?l(0,n.v):l(0,[n.k,n.v])},n?"entries":"values",!n,!0),c(t)}}},function(e,t,n){e.exports=!n(22)&&!n(23)(function(){return Object.defineProperty(n(74)("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,n){var r=n(27),i=n(24),s=n(102)(!1),o=n(78)("IE_PROTO");e.exports=function(e,t){var n=i(e),u=0,a=[],f;for(f in n)f!=o&&r(n,f)&&a.push(f);while(t.length>u)r(n,f=t[u++])&&(~s(a,f)||a.push(f));return a}},function(e,t,n){var r=n(24),i=n(25),s=n(61);e.exports=function(e){return function(t,n,o){var u=r(t),a=i(u.length),f=s(o,a),l;if(e&&n!=n)while(a>f){l=u[f++];if(l!=l)return!0}else for(;a>f;f++)if(e||f in u)if(u[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(15).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(18);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw o!==undefined&&r(o.call(e)),s}}},function(e,t,n){var r=n(52),i=n(12)("iterator"),s=Array.prototype;e.exports=function(e){return e!==undefined&&(r.Array===e||s[i]===e)}},function(e,t,n){var r=n(107),i=n(12)("iterator"),s=n(52);e.exports=n(37).getIteratorMethod=function(e){if(e!=undefined)return e[i]||e["@@iterator"]||s[r(e)]}},function(e,t,n){var r=n(44),i=n(12)("toStringTag"),s=r(function(){return arguments}())=="Arguments",o=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,u;return e===undefined?"Undefined":e===null?"Null":typeof (n=o(t=Object(e),i))=="string"?n:s?r(t):(u=r(t))=="Object"&&typeof t.callee=="function"?"Arguments":u}},function(e,t,n){var r=n(49),i=n(3),s=n(28),o=n(29),u=n(52),a=n(209),f=n(53),l=n(109),c=n(12)("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",d="keys",v="values",m=function(){return this};e.exports=function(e,t,n,g,y,b,w){a(n,t,g);var E=function(e){if(!h&&e in N)return N[e];switch(e){case d:return function(){return new n(this,e)};case v:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",x=y==v,T=!1,N=e.prototype,C=N[c]||N[p]||y&&N[y],k=C||E(y),L=y?x?E("entries"):k:undefined,A=t=="Array"?N.entries||C:C,O,M,_;A&&(_=l(A.call(new e)),_!==Object.prototype&&_.next&&(f(_,S,!0),!r&&typeof _[c]!="function"&&o(_,c,m))),x&&C&&C.name!==v&&(T=!0,k=function(){return C.call(this)}),(!r||w)&&(h||T||!N[c])&&o(N,c,k),u[t]=k,u[S]=m;if(y){O={values:x?k:E(v),keys:b?k:E(d),entries:L};if(w)for(M in O)M in N||s(N,M,O[M]);else i(i.P+i.F*(h||T),t,O)}return O}},function(e,t,n){var r=n(27),i=n(31),s=n(78)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,s)?e[s]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(15),i=n(20),s=n(22),o=n(12)("species");e.exports=function(e){var t=r[e];s&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(9),i=n(18),s=function(e,t){i(e);if(!r(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(30)(Function.call,n(67).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(n,i){return s(n,i),t?n.__proto__=i:r(n,i),n}}({},!1):undefined),check:s}},function(e,t,n){var r=n(99),i=n(45),s="Set";e.exports=n(66)(s,function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},{add:function(t){return r.def(i(this,s),t=t===0?0:t,t)}},r)},function(e,t,n){var r=n(68)(0),i=n(28),s=n(32),o=n(116),u=n(117),a=n(9),f=n(23),l=n(45),c="WeakMap",h=s.getWeak,p=Object.isExtensible,d=u.ufstore,v={},m,g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},y={get:function(t){if(a(t)){var n=h(t);return n===!0?d(l(this,c)).get(t):n?n[this._i]:undefined}},set:function(t,n){return u.def(l(this,c),t,n)}},b=e.exports=n(66)(c,g,y,u,!0,!0);f(function(){return(new b).set((Object.freeze||Object)(v),7).get(v)!=7})&&(m=u.getConstructor(g,c),o(m.prototype,y),s.NEED=!0,r(["delete","has","get","set"],function(e){var t=b.prototype,n=t[e];i(t,e,function(t,r){if(a(t)&&!p(t)){this._f||(this._f=new m);var i=this._f[e](t,r);return e=="set"?this:i}return n.call(this,t,r)})}))},function(e,t,n){var r=n(44);e.exports=Array.isArray||function(t){return r(t)=="Array"}},function(e,t,n){var r=n(35),i=n(69),s=n(54),o=n(31),u=n(77),a=Object.assign;e.exports=!a||n(23)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),a({},e)[n]!=7||Object.keys(a({},t)).join("")!=r})?function(t,n){var a=o(t),f=arguments.length,l=1,c=i.f,h=s.f;while(f>l){var p=u(arguments[l++]),d=c?r(p).concat(c(p)):r(p),v=d.length,m=0,g;while(v>m)h.call(p,g=d[m++])&&(a[g]=p[g])}return a}:a},function(e,t,n){var r=n(62),i=n(32).getWeak,s=n(18),o=n(9),u=n(64),a=n(65),f=n(68),l=n(27),c=n(45),h=f(5),p=f(6),d=0,v=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},g=function(e,t){return h(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},"delete":function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,s){var f=e(function(e,r){u(e,f,t,"_i"),e._t=t,e._i=d++,e._l=undefined,r!=undefined&&a(r,n,e[s],e)});return r(f.prototype,{"delete":function(e){if(!o(e))return!1;var n=i(e);return n===!0?v(c(this,t))["delete"](e):n&&l(n,this._i)&&delete n[this._i]},has:function(n){if(!o(n))return!1;var r=i(n);return r===!0?v(c(this,t)).has(n):r&&l(r,this._i)}}),f},def:function(e,t,n){var r=i(s(t),!0);return r===!0?v(e).set(t,n):r[e._i]=n,e},ufstore:v}},function(e,t,n){var r=n(117),i=n(45),s="WeakSet";n(66)(s,function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},{add:function(t){return r.def(i(this,s),t,!0)}},r,!1,!0)},function(e,t,n){var r=n(49),i=n(15),s=n(30),o=n(107),u=n(3),a=n(9),f=n(63),l=n(64),c=n(65),h=n(213),p=n(82).set,d=n(215)(),v=n(120),m=n(216),g=n(83),y=n(217),b="Promise",w=i.TypeError,E=i.process,S=E&&E.versions,x=S&&S.v8||"",T=i[b],N=o(E)=="process",C=function(){},k,L,A,O,M=L=v.f,_=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(12)("species")]=function(e){e(C,C)};return(N||typeof PromiseRejectionEvent=="function")&&e.then(C)instanceof t&&x.indexOf("6.6")!==0&&g.indexOf("Chrome/66")===-1}catch(r){}}(),D=function(e){var t;return a(e)&&typeof (t=e.then)=="function"?t:!1},P=function(e,t){if(e._n)return;e._n=!0;var n=e._c;d(function(){var r=e._v,i=e._s==1,s=0,o=function(t){var n=i?t.ok:t.fail,s=t.resolve,o=t.reject,u=t.domain,a,f,l;try{n?(i||(e._h==2&&j(e),e._h=1),n===!0?a=r:(u&&u.enter(),a=n(r),u&&(u.exit(),l=!0)),a===t.promise?o(w("Promise-chain cycle")):(f=D(a))?f.call(a,s,o):s(a)):o(r)}catch(c){u&&!l&&u.exit(),o(c)}};while(n.length>s)o(n[s++]);e._c=[],e._n=!1,t&&!e._h&&H(e)})},H=function(e){p.call(i,function(){var t=e._v,n=B(e),r,s,o;n&&(r=m(function(){N?E.emit("unhandledRejection",t,e):(s=i.onunhandledrejection)?s({promise:e,reason:t}):(o=i.console)&&o.error&&o.error("Unhandled promise rejection",t)}),e._h=N||B(e)?2:1),e._a=undefined;if(n&&r.e)throw r.v})},B=function(e){return e._h!==1&&(e._a||e._c).length===0},j=function(e){p.call(i,function(){var t;N?E.emit("rejectionHandled",e):(t=i.onrejectionhandled)&&t({promise:e,reason:e._v})})},F=function(e){var t=this;if(t._d)return;t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0)},I=function(e){var t=this,n;if(t._d)return;t._d=!0,t=t._w||t;try{if(t===e)throw w("Promise can't be resolved itself");(n=D(e))?d(function(){var r={_w:t,_d:!1};try{n.call(e,s(I,r,1),s(F,r,1))}catch(i){F.call(r,i)}}):(t._v=e,t._s=1,P(t,!1))}catch(r){F.call({_w:t,_d:!1},r)}};_||(T=function(t){l(this,T,b,"_h"),f(t),k.call(this);try{t(s(I,this,1),s(F,this,1))}catch(n){F.call(this,n)}},k=function(t){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1},k.prototype=n(62)(T.prototype,{then:function(t,n){var r=M(h(this,T));return r.ok=typeof t=="function"?t:!0,r.fail=typeof n=="function"&&n,r.domain=N?E.domain:undefined,this._c.push(r),this._a&&this._a.push(r),this._s&&P(this,!1),r.promise},"catch":function(e){return this.then(undefined,e)}}),A=function(){var e=new k;this.promise=e,this.resolve=s(I,e,1),this.reject=s(F,e,1)},v.f=M=function(e){return e===T||e===O?new A(e):L(e)}),u(u.G+u.W+u.F*!_,{Promise:T}),n(53)(T,b),n(111)(b),O=n(37)[b],u(u.S+u.F*!_,b,{reject:function(t){var n=M(this),r=n.reject;return r(t),n.promise}}),u(u.S+u.F*(r||!_),b,{resolve:function(t){return y(r&&this===O?T:this,t)}}),u(u.S+u.F*(!_||!n(81)(function(e){T.all(e)["catch"](C)})),b,{all:function(t){var n=this,r=M(n),i=r.resolve,s=r.reject,o=m(function(){var e=[],r=0,o=1;c(t,!1,function(t){var u=r++,a=!1;e.push(undefined),o++,n.resolve(t).then(function(t){if(a)return;a=!0,e[u]=t,--o||i(e)},s)}),--o||i(e)});return o.e&&s(o.v),r.promise},race:function(t){var n=this,r=M(n),i=r.reject,s=m(function(){c(t,!1,function(e){n.resolve(e).then(r.resolve,i)})});return s.e&&i(s.v),r.promise}})},function(e,t,n){function i(e){var t,n;this.promise=new e(function(e,r){if(t!==undefined||n!==undefined)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}var r=n(63);e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(15),i=n(27),s=n(22),o=n(3),u=n(28),a=n(32).KEY,f=n(23),l=n(79),c=n(53),h=n(50),p=n(12),d=n(122),v=n(218),m=n(219),g=n(115),y=n(18),b=n(9),w=n(24),E=n(75),S=n(51),x=n(76),T=n(123),N=n(67),C=n(20),k=n(35),L=N.f,A=C.f,O=T.f,M=r.Symbol,_=r.JSON,D=_&&_.stringify,P="prototype",H=p("_hidden"),B=p("toPrimitive"),j={}.propertyIsEnumerable,F=l("symbol-registry"),I=l("symbols"),q=l("op-symbols"),R=Object[P],U=typeof M=="function",z=r.QObject,W=!z||!z[P]||!z[P].findChild,X=s&&f(function(){return x(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a!=7})?function(e,t,n){var r=L(R,t);r&&delete R[t],A(e,t,n),r&&e!==R&&A(R,t,r)}:A,V=function(e){var t=I[e]=x(M[P]);return t._k=e,t},$=U&&typeof M.iterator=="symbol"?function(e){return typeof e=="symbol"}:function(e){return e instanceof M},J=function(t,n,r){return t===R&&J(q,n,r),y(t),n=E(n,!0),y(r),i(I,n)?(r.enumerable?(i(t,H)&&t[H][n]&&(t[H][n]=!1),r=x(r,{enumerable:S(0,!1)})):(i(t,H)||A(t,H,S(1,{})),t[H][n]=!0),X(t,n,r)):A(t,n,r)},K=function(t,n){y(t);var r=m(n=w(n)),i=0,s=r.length,o;while(s>i)J(t,o=r[i++],n[o]);return t},Q=function(t,n){return n===undefined?x(t):K(x(t),n)},G=function st(e){var t=j.call(this,e=E(e,!0));return this===R&&i(I,e)&&!i(q,e)?!1:t||!i(this,e)||!i(I,e)||i(this,H)&&this[H][e]?t:!0},Y=function(t,n){t=w(t),n=E(n,!0);if(t===R&&i(I,n)&&!i(q,n))return;var r=L(t,n);return r&&i(I,n)&&(!i(t,H)||!t[H][n])&&(r.enumerable=!0),r},Z=function(t){var n=O(w(t)),r=[],s=0,o;while(n.length>s)!i(I,o=n[s++])&&o!=H&&o!=a&&r.push(o);return r},et=function(t){var n=t===R,r=O(n?q:w(t)),s=[],o=0,u;while(r.length>o)i(I,u=r[o++])&&(n?i(R,u):!0)&&s.push(I[u]);return s};U||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:undefined),n=function(e){this===R&&n.call(q,e),i(this,H)&&i(this[H],t)&&(this[H][t]=!1),X(this,t,S(1,e))};return s&&W&&X(R,t,{configurable:!0,set:n}),V(t)},u(M[P],"toString",function ot(){return this._k}),N.f=Y,C.f=J,n(84).f=T.f=Z,n(54).f=G,n(69).f=et,s&&!n(49)&&u(R,"propertyIsEnumerable",G,!0),d.f=function(e){return V(p(e))}),o(o.G+o.W+o.F*!U,{Symbol:M});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;tt.length>nt;)p(tt[nt++]);for(var rt=k(p.store),it=0;rt.length>it;)v(rt[it++]);o(o.S+o.F*!U,"Symbol",{"for":function(e){return i(F,e+="")?F[e]:F[e]=M(e)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var n in F)if(F[n]===t)return n},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!U,"Object",{create:Q,defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Z,getOwnPropertySymbols:et}),_&&o(o.S+o.F*(!U||f(function(){var e=M();return D([e])!="[null]"||D({a:e})!="{}"||D(Object(e))!="{}"})),"JSON",{stringify:function(t){var n=[t],r=1,i,s;while(arguments.length>r)n.push(arguments[r++]);s=i=n[1];if(!b(i)&&t===undefined||$(t))return;return g(i)||(i=function(e,t){typeof s=="function"&&(t=s.call(this,e,t));if(!$(t))return t}),n[1]=i,D.apply(_,n)}}),M[P][B]||n(29)(M[P],B,M[P].valueOf),c(M,"Symbol"),c(Math,"Math",!0),c(r.JSON,"JSON",!0)},function(e,t,n){t.f=n(12)},function(e,t,n){var r=n(24),i=n(84).f,s={}.toString,o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return i(e)}catch(t){return o.slice()}};e.exports.f=function(t){return o&&s.call(t)=="[object Window]"?u(t):i(r(t))}},function(e,t,n){var r=n(9),i=n(32).onFreeze;n(26)("freeze",function(e){return function(n){return e&&r(n)?e(i(n)):n}})},function(e,t,n){var r=n(9),i=n(32).onFreeze;n(26)("seal",function(e){return function(n){return e&&r(n)?e(i(n)):n}})},function(e,t,n){var r=n(9),i=n(32).onFreeze;n(26)("preventExtensions",function(e){return function(n){return e&&r(n)?e(i(n)):n}})},function(e,t,n){var r=n(9);n(26)("isFrozen",function(e){return function(n){return r(n)?e?e(n):!1:!0}})},function(e,t,n){var r=n(9);n(26)("isSealed",function(e){return function(n){return r(n)?e?e(n):!1:!0}})},function(e,t,n){var r=n(9);n(26)("isExtensible",function(e){return function(n){return r(n)?e?e(n):!0:!1}})},function(e,t,n){var r=n(24),i=n(67).f;n(26)("getOwnPropertyDescriptor",function(){return function(t,n){return i(r(t),n)}})},function(e,t,n){var r=n(31),i=n(109);n(26)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(e,t,n){var r=n(31),i=n(35);n(26)("keys",function(){return function(t){return i(r(t))}})},function(e,t,n){n(26)("getOwnPropertyNames",function(){return n(123).f})},function(e,t,n){var r=n(3);r(r.S+r.F,"Object",{assign:n(116)})},function(e,t,n){var r=n(3);r(r.S,"Object",{is:n(220)})},function(e,t,n){var r=n(3);r(r.S,"Object",{setPrototypeOf:n(112).set})},function(e,t,n){var r=n(20).f,i=Function.prototype,s=/^\s*function ([^ (]*)/,o="name";o in i||n(22)&&r(i,o,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},function(e,t,n){var r=n(3),i=n(24),s=n(25);r(r.S,"String",{raw:function(t){var n=i(t.raw),r=s(n.length),o=arguments.length,u=[],a=0;while(r>a)u.push(String(n[a++])),a<o&&u.push(String(arguments[a]));return u.join("")}})},function(e,t,n){var r=n(3),i=n(61),s=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&o.length!=1),"String",{fromCodePoint:function(t){var n=[],r=arguments.length,o=0,u;while(r>o){u=+arguments[o++];if(i(u,1114111)!==u)throw RangeError(u+" is not a valid code point");n.push(u<65536?s(u):s(((u-=65536)>>10)+55296,u%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(3),i=n(221)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(e,t,n){var r=n(3);r(r.P,"String",{repeat:n(142)})},function(e,t,n){var r=n(60),i=n(36);e.exports=function(t){var n=String(i(this)),s="",o=r(t);if(o<0||o==Infinity)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))o&1&&(s+=n);return s}},function(e,t,n){var r=n(3),i=n(25),s=n(85),o="startsWith",u=""[o];r(r.P+r.F*n(86)(o),"String",{startsWith:function(t){var n=s(this,t,o),r=i(Math.min(arguments.length>1?arguments[1]:undefined,n.length)),a=String(t);return u?u.call(n,a,r):n.slice(r,r+a.length)===a}})},function(e,t,n){var r=n(9),i=n(44),s=n(12)("match");e.exports=function(e){var t;return r(e)&&((t=e[s])!==undefined?!!t:i(e)=="RegExp")}},function(e,t,n){var r=n(3),i=n(25),s=n(85),o="endsWith",u=""[o];r(r.P+r.F*n(86)(o),"String",{endsWith:function(t){var n=s(this,t,o),r=arguments.length>1?arguments[1]:undefined,a=i(n.length),f=r===undefined?a:Math.min(i(r),a),l=String(t);return u?u.call(n,l,f):n.slice(f-l.length,f)===l}})},function(e,t,n){var r=n(3),i=n(85),s="includes";r(r.P+r.F*n(86)(s),"String",{includes:function(t){return!!~i(this,t,s).indexOf(t,arguments.length>1?arguments[1]:undefined)}})},function(e,t,n){n(22)&&/./g.flags!="g"&&n(20).f(RegExp.prototype,"flags",{configurable:!0,get:n(222)})},function(e,t,n){n(70)("match",1,function(e,t,n){return[function(r){"use strict";var i=e(this),s=r==undefined?undefined:r[t];return s!==undefined?s.call(r,i):(new RegExp(r))[t](String(i))},n]})},function(e,t,n){n(70)("replace",2,function(e,t,n){return[function(i,s){"use strict";var o=e(this),u=i==undefined?undefined:i[t];return u!==undefined?u.call(i,o,s):n.call(String(o),i,s)},n]})},function(e,t,n){n(70)("split",2,function(e,t,r){"use strict";var i=n(144),s=r,o=[].push,u="split",a="length",f="lastIndex";if("abbc"[u](/(b)*/)[1]=="c"||"test"[u](/(?:)/,-1)[a]!=4||"ab"[u](/(?:ab)*/)[a]!=2||"."[u](/(.?)(.?)/)[a]!=4||"."[u](/()()/)[a]>1||""[u](/.?/)[a]){var l=/()??/.exec("")[1]===undefined;r=function(e,t){var n=String(this);if(e===undefined&&t===0)return[];if(!i(e))return s.call(n,e,t);var r=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,h=t===undefined?4294967295:t>>>0,p=new RegExp(e.source,u+"g"),d,v,m,g,y;l||(d=new RegExp("^"+p.source+"$(?!\\s)",u));while(v=p.exec(n)){m=v.index+v[0][a];if(m>c){r.push(n.slice(c,v.index)),!l&&v[a]>1&&v[0].replace(d,function(){for(y=1;y<arguments[a]-2;y++)arguments[y]===undefined&&(v[y]=undefined)}),v[a]>1&&v.index<n[a]&&o.apply(r,v.slice(1)),g=v[0][a],c=m;if(r[a]>=h)break}p[f]===v.index&&p[f]++}return c===n[a]?(g||!p.test(""))&&r.push(""):r.push(n.slice(c)),r[a]>h?r.slice(0,h):r}}else"0"[u](undefined,0)[a]&&(r=function(e,t){return e===undefined&&t===0?[]:s.call(this,e,t)});return[function(i,s){var o=e(this),u=i==undefined?undefined:i[t];return u!==undefined?u.call(i,o,s):r.call(String(o),i,s)},r]})},function(e,t,n){n(70)("search",1,function(e,t,n){return[function(r){"use strict";var i=e(this),s=r==undefined?undefined:r[t];return s!==undefined?s.call(r,i):(new RegExp(r))[t](String(i))},n]})},function(e,t,n){var r=n(30),i=n(3),s=n(31),o=n(104),u=n(105),a=n(25),f=n(87),l=n(106);i(i.S+i.F*!n(81)(function(e){Array.from(e)}),"Array",{from:function(t){var n=s(t),i=typeof this=="function"?this:Array,c=arguments.length,h=c>1?arguments[1]:undefined,p=h!==undefined,d=0,v=l(n),m,g,y,b;p&&(h=r(h,c>2?arguments[2]:undefined,2));if(v==undefined||i==Array&&!!u(v)){m=a(n.length);for(g=new i(m);m>d;d++)f(g,d,p?h(n[d],d):n[d])}else for(b=v.call(n),g=new i;!(y=b.next()).done;d++)f(g,d,p?o(b,h,[y.value,d],!0):y.value);return g.length=d,g}})},function(e,t,n){var r=n(3),i=n(87);r(r.S+r.F*n(23)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){var t=0,n=arguments.length,r=new(typeof this=="function"?this:Array)(n);while(n>t)i(r,t,arguments[t++]);return r.length=n,r}})},function(e,t,n){var r=n(3);r(r.P,"Array",{copyWithin:n(223)}),n(46)("copyWithin")},function(e,t,n){var r=n(3),i=n(68)(5),s="find",o=!0;s in[]&&Array(1)[s](function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}}),n(46)(s)},function(e,t,n){var r=n(3),i=n(68)(6),s="findIndex",o=!0;s in[]&&Array(1)[s](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}}),n(46)(s)},function(e,t,n){var r=n(3);r(r.P,"Array",{fill:n(224)}),n(46)("fill")},function(e,t,n){var r=n(3),i=n(15).isFinite;r(r.S,"Number",{isFinite:function(t){return typeof t=="number"&&i(t)}})},function(e,t,n){var r=n(3);r(r.S,"Number",{isInteger:n(160)})},function(e,t,n){var r=n(9),i=Math.floor;e.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(e,t,n){var r=n(3),i=n(160),s=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&s(t)<=9007199254740991}})},function(e,t,n){var r=n(3);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(e,t,n){var r=n(3);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(3);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(3);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(3),i=n(102)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}}),n(46)("includes")},function(e,t,n){var r=n(3),i=n(168)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(e,t,n){var r=n(35),i=n(24),s=n(54).f;e.exports=function(e){return function(t){var n=i(t),o=r(n),u=o.length,a=0,f=[],l;while(u>a)s.call(n,l=o[a++])&&f.push(e?[l,n[l]]:n[l]);return f}}},function(e,t,n){var r=n(3),i=n(168)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(e,t,n){var r=n(3),i=n(225),s=n(24),o=n(67),u=n(87);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var n=s(t),r=o.f,a=i(n),f={},l=0,c,h;while(a.length>l)h=r(n,c=a[l++]),h!==undefined&&u(f,c,h);return f}})},function(e,t,n){var r=n(3),i=n(172),s=n(83);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(s),"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined,!0)}})},function(e,t,n){var r=n(25),i=n(142),s=n(36);e.exports=function(e,t,n,o){var u=String(s(e)),a=u.length,f=n===undefined?" ":String(n),l=r(t);if(l<=a||f=="")return u;var c=l-a,h=i.call(f,Math.ceil(c/f.length));return h.length>c&&(h=h.slice(0,c)),o?h+u:u+h}},function(e,t,n){var r=n(3),i=n(172),s=n(83);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(s),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined,!1)}})},function(e,t,n){var r=n(3),i=n(82);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){var r=n(88),i=n(35),s=n(28),o=n(15),u=n(29),a=n(52),f=n(12),l=f("iterator"),c=f("toStringTag"),h=a.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1};for(var d=i(p),v=0;v<d.length;v++){var m=d[v],g=p[m],y=o[m],b=y&&y.prototype,w;if(b){b[l]||u(b,l,h),b[c]||u(b,c,m),a[m]=h;if(g)for(w in r)b[w]||s(b,w,r[w],!0)}}},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=new WeakMap,o=function(){function e(t,n,r,o,u,a,f){var l=arguments.length>7&&arguments[7]!==undefined?arguments[7]:function(e){return e};i(this,e),s.set(this,{viewportWidth:t,scrollOffset:n,totalColumns:r,columnWidthFn:o,overrideFn:u,onlyFullyVisible:a,stretchingColumnWidthFn:l}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=f,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()}return r(e,null,[{key:"DEFAULT_WIDTH",get:function(){return 50}}]),r(e,[{key:"calculate",value:function(){var t=0,n=!0,r=[],i=void 0,o=s.get(this),u=o.onlyFullyVisible,a=o.overrideFn,f=o.scrollOffset,l=o.totalColumns,c=o.viewportWidth;for(var h=0;h<l;h++){i=this._getColumnWidth(h),t<=f&&!u&&(this.startColumn=h);var p=f>0?c+1:c;if(t>=f&&t+i<=f+p){if(this.startColumn===null||this.startColumn===void 0)this.startColumn=h;this.endColumn=h}r.push(t),t+=i,u||(this.endColumn=h);if(t>=f+c){n=!1;break}}if(this.endColumn===l-1&&n){this.startColumn=this.endColumn;while(this.startColumn>0){var d=r[this.endColumn]+i-r[this.startColumn-1];if(d<=c||!u)this.startColumn-=1;if(d>c)break}}this.startColumn!==null&&a&&a(this),this.startPosition=r[this.startColumn],this.startPosition===void 0&&(this.startPosition=null),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}},{key:"refreshStretching",value:function(t){if(this.stretch==="none")return;var n=t;this.totalTargetWidth=n;var r=s.get(this),i=r.totalColumns,o=0;for(var u=0;u<i;u++){var a=this._getColumnWidth(u),f=r.stretchingColumnWidthFn(void 0,u);typeof f=="number"?n-=f:o+=a}var l=n-o;if(this.stretch==="all"&&l>0)this.stretchAllRatio=n/o,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if(this.stretch==="last"&&n!==Infinity){var c=this._getColumnWidth(i-1),h=l+c;this.stretchLastWidth=h>=0?h:c}}},{key:"getStretchedColumnWidth",value:function(t,n){var r=null;return this.stretch==="all"&&this.stretchAllRatio!==0?r=this._getStretchedAllColumnWidth(t,n):this.stretch==="last"&&this.stretchLastWidth!==0&&(r=this._getStretchedLastColumnWidth(t)),r}},{key:"_getStretchedAllColumnWidth",value:function(t,n){var r=0,i=s.get(this),o=i.totalColumns;if(!this.stretchAllColumnsWidth[t]){var u=Math.round(n*this.stretchAllRatio),a=i.stretchingColumnWidthFn(u,t);a===void 0?this.stretchAllColumnsWidth[t]=u:this.stretchAllColumnsWidth[t]=isNaN(a)?this._getColumnWidth(t):a}if(this.stretchAllColumnsWidth.length===o&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var f=0;f<this.stretchAllColumnsWidth.length;f++)r+=this.stretchAllColumnsWidth[f];r!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-r)}return this.stretchAllColumnsWidth[t]}},{key:"_getStretchedLastColumnWidth",value:function(t){var n=s.get(this),r=n.totalColumns;return t===r-1?this.stretchLastWidth:null}},{key:"_getColumnWidth",value:function(n){var r=s.get(this).columnWidthFn(n);return isNaN(r)&&(r=e.DEFAULT_WIDTH),r}}]),e}();t.default=o},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=new WeakMap,o=function(){function e(t,n,r,o,u,a,f){i(this,e),s.set(this,{viewportHeight:t,scrollOffset:n,totalRows:r,rowHeightFn:o,overrideFn:u,onlyFullyVisible:a,horizontalScrollbarHeight:f}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()}return r(e,null,[{key:"DEFAULT_HEIGHT",get:function(){return 23}}]),r(e,[{key:"calculate",value:function(){var n=0,r=!0,i=[],o=s.get(this),u=o.onlyFullyVisible,a=o.overrideFn,f=o.rowHeightFn,l=o.scrollOffset,c=o.totalRows,h=o.viewportHeight,p=o.horizontalScrollbarHeight||0,d=void 0;for(var v=0;v<c;v++){d=f(v),isNaN(d)&&(d=e.DEFAULT_HEIGHT),n<=l&&!u&&(this.startRow=v),n>=l&&n+d<=l+h-p&&(this.startRow===null&&(this.startRow=v),this.endRow=v),i.push(n),n+=d,u||(this.endRow=v);if(n>=l+h-p){r=!1;break}}if(this.endRow===c-1&&r){this.startRow=this.endRow;while(this.startRow>0){var m=i[this.endRow]+d-i[this.startRow-1];if(m<=h-p||!u)this.startRow-=1;if(m>=h-p)break}}this.startRow!==null&&a&&a(this),this.startPosition=i[this.startRow],this.startPosition===void 0&&(this.startPosition=null),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}]),e}();t.default=o},function(e,t,n){function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(56),s=o(i),a=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t;u(this,e),this.highlight=t,this.from=n,this.to=r}return r(e,[{key:"setHighlight",value:function(t){return this.highlight=t,this}},{key:"setFrom",value:function(t){return this.from=t,this}},{key:"setTo",value:function(t){return this.to=t,this}},{key:"isValid",value:function(t){return this.from.isValid(t)&&this.to.isValid(t)}},{key:"isSingle",value:function(){return this.from.row===this.to.row&&this.from.col===this.to.col}},{key:"getHeight",value:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}},{key:"getWidth",value:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}},{key:"includes",value:function(t){var n=t.row,r=t.col,i=this.getTopLeftCorner(),s=this.getBottomRightCorner();return i.row<=n&&s.row>=n&&i.col<=r&&s.col>=r}},{key:"includesRange",value:function(t){return this.includes(t.getTopLeftCorner())&&this.includes(t.getBottomRightCorner())}},{key:"isEqual",value:function(t){return Math.min(this.from.row,this.to.row)===Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(t.from.col,t.to.col)}},{key:"overlaps",value:function(t){return t.isSouthEastOf(this.getTopLeftCorner())&&t.isNorthWestOf(this.getBottomRightCorner())}},{key:"isSouthEastOf",value:function(t){return this.getTopLeftCorner().isSouthEastOf(t)||this.getBottomRightCorner().isSouthEastOf(t)}},{key:"isNorthWestOf",value:function(t){return this.getTopLeftCorner().isNorthWestOf(t)||this.getBottomRightCorner().isNorthWestOf(t)}},{key:"isOverlappingHorizontally",value:function(t){return this.getTopRightCorner().col>=t.getTopLeftCorner().col&&this.getTopRightCorner().col<=t.getTopRightCorner().col||this.getTopLeftCorner().col<=t.getTopRightCorner().col&&this.getTopLeftCorner().col>=t.getTopLeftCorner().col}},{key:"isOverlappingVertically",value:function(t){return this.getBottomRightCorner().row>=t.getTopRightCorner().row&&this.getBottomRightCorner().row<=t.getBottomRightCorner().row||this.getTopRightCorner().row<=t.getBottomRightCorner().row&&this.getTopRightCorner().row>=t.getTopRightCorner().row}},{key:"expand",value:function(t){var n=this.getTopLeftCorner(),r=this.getBottomRightCorner();return t.row<n.row||t.col<n.col||t.row>r.row||t.col>r.col?(this.from=new s.default(Math.min(n.row,t.row),Math.min(n.col,t.col)),this.to=new s.default(Math.max(r.row,t.row),Math.max(r.col,t.col)),!0):!1}},{key:"expandByRange",value:function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var n=this.getTopLeftCorner(),r=this.getBottomRightCorner(),i=this.getDirection(),o=t.getTopLeftCorner(),u=t.getBottomRightCorner(),a=Math.min(n.row,o.row),f=Math.min(n.col,o.col),l=Math.max(r.row,u.row),c=Math.max(r.col,u.col),h=new s.default(a,f),p=new s.default(l,c);return this.from=h,this.to=p,this.setDirection(i),this.highlight.row===this.getBottomRightCorner().row&&this.getVerticalDirection()==="N-S"&&this.flipDirectionVertically(),this.highlight.col===this.getTopRightCorner().col&&this.getHorizontalDirection()==="W-E"&&this.flipDirectionHorizontally(),!0}},{key:"getDirection",value:function(){if(this.from.isNorthWestOf(this.to))return"NW-SE";if(this.from.isNorthEastOf(this.to))return"NE-SW";if(this.from.isSouthEastOf(this.to))return"SE-NW";if(this.from.isSouthWestOf(this.to))return"SW-NE"}},{key:"setDirection",value:function(t){switch(t){case"NW-SE":var n=[this.getTopLeftCorner(),this.getBottomRightCorner()];this.from=n[0],this.to=n[1];break;case"NE-SW":var r=[this.getTopRightCorner(),this.getBottomLeftCorner()];this.from=r[0],this.to=r[1];break;case"SE-NW":var i=[this.getBottomRightCorner(),this.getTopLeftCorner()];this.from=i[0],this.to=i[1];break;case"SW-NE":var s=[this.getBottomLeftCorner(),this.getTopRightCorner()];this.from=s[0],this.to=s[1];break;default:}}},{key:"getVerticalDirection",value:function(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}},{key:"getHorizontalDirection",value:function(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}},{key:"flipDirectionVertically",value:function(){var t=this.getDirection();switch(t){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break;default:}}},{key:"flipDirectionHorizontally",value:function(){var t=this.getDirection();switch(t){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break;default:}}},{key:"getTopLeftCorner",value:function(){return new s.default(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getBottomRightCorner",value:function(){return new s.default(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getTopRightCorner",value:function(){return new s.default(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getBottomLeftCorner",value:function(){return new s.default(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"isCorner",value:function(t,n){return n&&n.includes(t)&&(this.getTopLeftCorner().isEqual(new s.default(n.from.row,n.from.col))||this.getTopRightCorner().isEqual(new s.default(n.from.row,n.to.col))||this.getBottomLeftCorner().isEqual(new s.default(n.to.row,n.from.col))||this.getBottomRightCorner().isEqual(new s.default(n.to.row,n.to.col)))?!0:t.isEqual(this.getTopLeftCorner())||t.isEqual(this.getTopRightCorner())||t.isEqual(this.getBottomLeftCorner())||t.isEqual(this.getBottomRightCorner())}},{key:"getOppositeCorner",value:function(t,n){if(!(t instanceof s.default))return!1;if(n&&n.includes(t)){if(this.getTopLeftCorner().isEqual(new s.default(n.from.row,n.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new s.default(n.from.row,n.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new s.default(n.to.row,n.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new s.default(n.to.row,n.to.col)))return this.getTopLeftCorner()}if(t.isEqual(this.getBottomRightCorner()))return this.getTopLeftCorner();if(t.isEqual(this.getTopLeftCorner()))return this.getBottomRightCorner();if(t.isEqual(this.getTopRightCorner()))return this.getBottomLeftCorner();if(t.isEqual(this.getBottomLeftCorner()))return this.getTopRightCorner()}},{key:"getBordersSharedWith",value:function(t){if(!this.includesRange(t))return[];var n={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},r={top:Math.min(t.from.row,t.to.row),bottom:Math.max(t.from.row,t.to.row),left:Math.min(t.from.col,t.to.col),right:Math.max(t.from.col,t.to.col)},i=[];return n.top===r.top&&i.push("top"),n.right===r.right&&i.push("right"),n.bottom===r.bottom&&i.push("bottom"),n.left===r.left&&i.push("left"),i}},{key:"getInner",value:function(){var t=this.getTopLeftCorner(),n=this.getBottomRightCorner(),r=[];for(var i=t.row;i<=n.row;i++)for(var o=t.col;o<=n.col;o++)(this.from.row!==i||this.from.col!==o)&&(this.to.row!==i||this.to.col!==o)&&r.push(new s.default(i,o));return r}},{key:"getAll",value:function(){var t=this.getTopLeftCorner(),n=this.getBottomRightCorner(),r=[];for(var i=t.row;i<=n.row;i++)for(var o=t.col;o<=n.col;o++)t.row===i&&t.col===o?r.push(t):n.row===i&&n.col===o?r.push(n):r.push(new s.default(i,o));return r}},{key:"forAll",value:function(t){var n=this.getTopLeftCorner(),r=this.getBottomRightCorner();for(var i=n.row;i<=r.row;i++)for(var s=n.col;s<=r.col;s++){var o=t(i,s);if(o===!1)return}}},{key:"toObject",value:function(){return{from:this.from.toObject(),to:this.to.toObject()}}}]),e}();t.default=a},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){i(this,e),this.offset=t,this.total=n,this.countTH=r}return r(e,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleRowHeadedColumnToSourceColumn",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceColumnToVisibleRowHeadedColumn",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),e}();t.default=s},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){i(this,e),this.offset=t,this.total=n,this.countTH=r}return r(e,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleColHeadedRowToSourceRow",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceRowToVisibleColHeadedRow",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),e}();t.default=s},function(e,t,n){function b(e){return e&&e.__esModule?e:{"default":e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(1),o=n(33),u=n(182),a=b(u),f=n(183),l=b(f),c=n(184),h=b(c),p=n(185),d=b(p),v=n(186),m=b(v),g=n(188),y=b(g),E=function(){function e(t){w(this,e);var n=[];this.guid="wt_"+(0,o.randomString)(),t.cloneSource?(this.cloneSource=t.cloneSource,this.cloneOverlay=t.cloneOverlay,this.wtSettings=t.cloneSource.wtSettings,this.wtTable=new m.default(this,t.table,t.wtRootElement),this.wtScroll=new h.default(this),this.wtViewport=t.cloneSource.wtViewport,this.wtEvent=new a.default(this),this.selections=this.cloneSource.selections):(this.wtSettings=new d.default(this,t),this.wtTable=new m.default(this,t.table),this.wtScroll=new h.default(this),this.wtViewport=new y.default(this),this.wtEvent=new a.default(this),this.selections=this.getSetting("selections"),this.wtOverlays=new l.default(this),this.exportSettingsAsClassNames());if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var r=0,s=this.wtTable.THEAD.childNodes[0].childNodes.length;r<s;r++)n.push(this.wtTable.THEAD.childNodes[0].childNodes[r].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(e,t){(0,i.fastInnerText)(t,n[e])}])}this.drawn=!1,this.drawInterrupted=!1}return r(e,[{key:"draw",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return this.drawInterrupted=!1,!t&&!(0,i.isVisible)(this.wtTable.TABLE)?this.drawInterrupted=!0:this.wtTable.draw(t),this}},{key:"getCell",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;if(!n)return this.wtTable.getCell(t);var r=this.wtSettings.getSetting("totalRows"),i=this.wtSettings.getSetting("fixedRowsTop"),s=this.wtSettings.getSetting("fixedRowsBottom"),o=this.wtSettings.getSetting("fixedColumnsLeft");if(t.row<i&&t.col<o)return this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(t);if(t.row<i)return this.wtOverlays.topOverlay.clone.wtTable.getCell(t);if(t.col<o&&t.row>=r-s){if(this.wtOverlays.bottomLeftCornerOverlay&&this.wtOverlays.bottomLeftCornerOverlay.clone)return this.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell(t)}else{if(t.col<o)return this.wtOverlays.leftOverlay.clone.wtTable.getCell(t);if(t.row<r&&t.row>r-s&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(t)}return this.wtTable.getCell(t)}},{key:"update",value:function(t,n){return this.wtSettings.update(t,n)}},{key:"scrollViewport",value:function(t,n,r,i,s){return this.wtScroll.scrollViewport(t,n,r,i,s)}},{key:"scrollViewportHorizontally",value:function(t,n,r){return this.wtScroll.scrollViewportHorizontally(t,n,r)}},{key:"scrollViewportVertically",value:function(t,n,r){return this.wtScroll.scrollViewportVertically(t,n,r)}},{key:"getViewport",value:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}},{key:"getOverlayName",value:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"}},{key:"isOverlayName",value:function(t){return this.cloneOverlay?this.cloneOverlay.type===t:!1}},{key:"exportSettingsAsClassNames",value:function(){var t=this,n={rowHeaders:["array"],columnHeaders:["array"]},r=[],u=[];(0,s.objectEach)(n,function(e,n){e.indexOf("array")>-1&&t.getSetting(n).length&&u.push("ht"+(0,o.toUpperCaseFirst)(n)),r.push("ht"+(0,o.toUpperCaseFirst)(n))}),(0,i.removeClass)(this.wtTable.wtRootElement.parentNode,r),(0,i.addClass)(this.wtTable.wtRootElement.parentNode,u)}},{key:"getSetting",value:function(t,n,r,i,s){return this.wtSettings.getSetting(t,n,r,i,s)}},{key:"hasSetting",value:function(t){return this.wtSettings.has(t)}},{key:"destroy",value:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}}]),e}();t.default=E},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function f(e){var t=this,n=new u.default(e),o=void 0;this.instance=e;var a=[null,null];this.dblClickTimeout=[null,null];var f=function(n){var s=document.activeElement,o=(0,i.partial)(r.getParent,n.realTarget),u=n.realTarget;if(u===s||o(0)===s||o(1)===s)return;var f=t.parentCell(u);(0,r.hasClass)(u,"corner")?t.instance.getSetting("onCellCornerMouseDown",n,u):f.TD&&t.instance.hasSetting("onCellMouseDown")&&t.instance.getSetting("onCellMouseDown",n,f.coords,f.TD,t.instance),n.button!==2&&f.TD&&(a[0]=f.TD,clearTimeout(t.dblClickTimeout[0]),t.dblClickTimeout[0]=setTimeout(function(){a[0]=null},1e3))},l=function(n){if(t.instance.hasSetting("onCellContextMenu")){var r=t.parentCell(n.realTarget);r.TD&&t.instance.getSetting("onCellContextMenu",n,r.coords,r.TD,t.instance)}},c=function(){t.instance.touchMoving=!0},h=function(r){n.addEventListener(this,"touchmove",c),t.checkIfTouchMove=setTimeout(function(){t.instance.touchMoving===!0&&(t.instance.touchMoving=void 0,n.removeEventListener("touchmove",c,!1)),f(r)},30)},p=function(n){var i=void 0,s=void 0,o=void 0;t.instance.hasSetting("onCellMouseOver")&&(i=t.instance.wtTable.TABLE,s=(0,r.closestDown)(n.realTarget,["TD","TH"],i),o=t.instance.cloneSource||t.instance,s&&s!==o.lastMouseOver&&(0,r.isChildOf)(s,i)&&(o.lastMouseOver=s,t.instance.getSetting("onCellMouseOver",n,t.instance.wtTable.getCoords(s),s,t.instance)))},d=function(n){var i=void 0,s=void 0,o=void 0;t.instance.hasSetting("onCellMouseOut")&&(i=t.instance.wtTable.TABLE,s=(0,r.closestDown)(n.realTarget,["TD","TH"],i),o=(0,r.closestDown)(n.relatedTarget,["TD","TH"],i),s&&s!==o&&(0,r.isChildOf)(s,i)&&t.instance.getSetting("onCellMouseOut",n,t.instance.wtTable.getCoords(s),s,t.instance))},v=function(n){if(n.button!==2){var i=t.parentCell(n.realTarget);i.TD===a[0]&&i.TD===a[1]?((0,r.hasClass)(n.realTarget,"corner")?t.instance.getSetting("onCellCornerDblClick",n,i.coords,i.TD,t.instance):t.instance.getSetting("onCellDblClick",n,i.coords,i.TD,t.instance),a[0]=null,a[1]=null):i.TD===a[0]?(t.instance.getSetting("onCellMouseUp",n,i.coords,i.TD,t.instance),a[1]=i.TD,clearTimeout(t.dblClickTimeout[1]),t.dblClickTimeout[1]=setTimeout(function(){a[1]=null},500)):i.TD&&t.instance.hasSetting("onCellMouseUp")&&t.instance.getSetting("onCellMouseUp",n,i.coords,i.TD,t.instance)}},m=function(n){var r=t.parentCell(n),i=r.coords;if(o&&i){var s=[i.row,o.from.row],u=s[0],a=s[1],f=[i.col,o.from.col],l=f[0],c=f[1];return u===a&&l===c}return!1},g=function(t){var n=["A","BUTTON","INPUT"],r=t.target;if(m(r)===!1||n.includes(r.tagName)===!1)t.preventDefault(),v(t)};n.addEventListener(this.instance.wtTable.holder,"mousedown",f),n.addEventListener(this.instance.wtTable.holder,"contextmenu",l),n.addEventListener(this.instance.wtTable.TABLE,"mouseover",p),n.addEventListener(this.instance.wtTable.TABLE,"mouseout",d),n.addEventListener(this.instance.wtTable.holder,"mouseup",v);if(this.instance.wtTable.holder.parentNode.parentNode&&(0,s.isMobileBrowser)()&&!t.instance.wtTable.isWorkingOnClone()){var y="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");n.addEventListener(this.instance.wtTable.holder,"touchstart",function(n){o=e.selections.getCell().cellRange,t.instance.touchApplied=!0,(0,r.isChildOf)(n.target,y)&&h.call(n.target,n)}),n.addEventListener(this.instance.wtTable.holder,"touchend",function(e){t.instance.touchApplied=!1,(0,r.isChildOf)(e.target,y)&&g.call(e.target,e)}),t.instance.momentumScrolling||(t.instance.momentumScrolling={}),n.addEventListener(this.instance.wtTable.holder,"scroll",function(){clearTimeout(t.instance.momentumScrolling._timeout),t.instance.momentumScrolling.ongoing||t.instance.getSetting("onBeforeTouchScroll"),t.instance.momentumScrolling.ongoing=!0,t.instance.momentumScrolling._timeout=setTimeout(function(){t.instance.touchApplied||(t.instance.momentumScrolling.ongoing=!1,t.instance.getSetting("onAfterMomentumScroll"))},200)})}n.addEventListener(window,"resize",function(){t.instance.getSetting("stretchH")!=="none"&&t.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),n.destroy()}}t.__esModule=!0;var r=n(0),i=n(43),s=n(39),o=n(5),u=a(o);f.prototype.parentCell=function(e){var t={},n=this.instance.wtTable.TABLE,i=(0,r.closestDown)(e,["TD","TH"],n);return i?(t.coords=this.instance.wtTable.getCoords(i),t.TD=i):(0,r.hasClass)(e,"wtBorder")&&(0,r.hasClass)(e,"current")?(t.coords=this.instance.selections.getCell().cellRange.highlight,t.TD=this.instance.wtTable.getCell(t.coords)):(0,r.hasClass)(e,"wtBorder")&&(0,r.hasClass)(e,"area")&&this.instance.selections.createOrGetArea().cellRange&&(t.coords=this.instance.selections.createOrGetArea().cellRange.to,t.TD=this.instance.wtTable.getCell(t.coords)),t},t.default=f},function(e,t,n){function h(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(2),o=n(21),u=n(39),a=n(5),f=h(a),l=n(41),c=h(l),d=function(){function e(t){p(this,e);var n=parseInt(getComputedStyle(document.body).lineHeight,10),r=parseInt(getComputedStyle(document.body).fontSize,10)*1.2;this.wot=t,this.instance=this.wot,this.eventManager=new f.default(this.wot),this.wot.update("scrollbarWidth",(0,i.getScrollbarWidth)()),this.wot.update("scrollbarHeight",(0,i.getScrollbarWidth)()),this.scrollableElement=(0,i.getScrollableElement)(this.wot.wtTable.TABLE),this.prepareOverlays(),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.overlayScrollPositions={master:{top:0,left:0},top:{top:null,left:0},bottom:{top:null,left:0},left:{top:0,left:null}},this.pendingScrollCallbacks={master:{top:0,left:0},top:{left:0},bottom:{left:0},left:{top:0}},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.delegatedScrollCallback=!1,this.registeredListeners=[],this.browserLineHeight=n||r,this.registerListeners()}return r(e,[{key:"prepareOverlays",value:function(){var t=!1;return this.topOverlay?t=this.topOverlay.updateStateOfRendering()||t:this.topOverlay=c.default.createOverlay(c.default.CLONE_TOP,this.wot),c.default.hasOverlay(c.default.CLONE_BOTTOM)||(this.bottomOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),c.default.hasOverlay(c.default.CLONE_BOTTOM_LEFT_CORNER)||(this.bottomLeftCornerOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),this.bottomOverlay?t=this.bottomOverlay.updateStateOfRendering()||t:this.bottomOverlay=c.default.createOverlay(c.default.CLONE_BOTTOM,this.wot),this.leftOverlay?t=this.leftOverlay.updateStateOfRendering()||t:this.leftOverlay=c.default.createOverlay(c.default.CLONE_LEFT,this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay?t=this.topLeftCornerOverlay.updateStateOfRendering()||t:this.topLeftCornerOverlay=c.default.createOverlay(c.default.CLONE_TOP_LEFT_CORNER,this.wot)),this.bottomOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.bottomLeftCornerOverlay?t=this.bottomLeftCornerOverlay.updateStateOfRendering()||t:this.bottomLeftCornerOverlay=c.default.createOverlay(c.default.CLONE_BOTTOM_LEFT_CORNER,this.wot)),this.wot.getSetting("debug")&&!this.debug&&(this.debug=c.default.createOverlay(c.default.CLONE_DEBUG,this.wot)),t}},{key:"refreshAll",value:function(){if(!this.wot.drawn)return;if(!this.wot.wtTable.holder.parentNode){this.destroy();return}this.wot.draw(!0),this.verticalScrolling&&this.leftOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}},{key:"registerListeners",value:function(){var t=this,n=this.topOverlay.mainTableScrollableElement,r=this.leftOverlay.mainTableScrollableElement,i=[];i.push([document.documentElement,"keydown",function(e){return t.onKeyDown(e)}]),i.push([document.documentElement,"keyup",function(){return t.onKeyUp()}]),i.push([document,"visibilitychange",function(){return t.onKeyUp()}]),i.push([n,"scroll",function(e){return t.onTableScroll(e)}]),n!==r&&i.push([r,"scroll",function(e){return t.onTableScroll(e)}]);var s=window.devicePixelRatio&&window.devicePixelRatio>1;s||!(0,u.isChrome)()?i.push([this.instance.wtTable.wtRootElement.parentNode,"wheel",function(e){return t.onCloneWheel(e)}]):(this.topOverlay.needFullRender&&i.push([this.topOverlay.clone.wtTable.holder,"wheel",function(e){return t.onCloneWheel(e)}]),this.bottomOverlay.needFullRender&&i.push([this.bottomOverlay.clone.wtTable.holder,"wheel",function(e){return t.onCloneWheel(e)}]),this.leftOverlay.needFullRender&&i.push([this.leftOverlay.clone.wtTable.holder,"wheel",function(e){return t.onCloneWheel(e)}]),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.needFullRender&&i.push([this.topLeftCornerOverlay.clone.wtTable.holder,"wheel",function(e){return t.onCloneWheel(e)}]),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.needFullRender&&i.push([this.bottomLeftCornerOverlay.clone.wtTable.holder,"wheel",function(e){return t.onCloneWheel(e)}])),this.topOverlay.trimmingContainer!==window&&this.leftOverlay.trimmingContainer!==window&&i.push([window,"wheel",function(e){var n=void 0,r=e.wheelDeltaY||e.deltaY,i=e.wheelDeltaX||e.deltaX;t.topOverlay.clone.wtTable.holder.contains(e.realTarget)?n="top":t.bottomOverlay.clone&&t.bottomOverlay.clone.wtTable.holder.contains(e.realTarget)?n="bottom":t.leftOverlay.clone.wtTable.holder.contains(e.realTarget)?n="left":t.topLeftCornerOverlay&&t.topLeftCornerOverlay.clone&&t.topLeftCornerOverlay.clone.wtTable.holder.contains(e.realTarget)?n="topLeft":t.bottomLeftCornerOverlay&&t.bottomLeftCornerOverlay.clone&&t.bottomLeftCornerOverlay.clone.wtTable.holder.contains(e.realTarget)&&(n="bottomLeft"),(n==="top"&&r!==0||n==="left"&&i!==0||n==="bottom"&&r!==0||(n==="topLeft"||n==="bottomLeft")&&(r!==0||i!==0))&&e.preventDefault()}]);while(i.length){var o=i.pop();this.eventManager.addEventListener(o[0],o[1],o[2]),this.registeredListeners.push(o)}}},{key:"deregisterListeners",value:function(){while(this.registeredListeners.length){var t=this.registeredListeners.pop();this.eventManager.removeEventListener(t[0],t[1],t[2])}}},{key:"onTableScroll",value:function(t){var n=this.leftOverlay.mainTableScrollableElement,r=this.topOverlay.mainTableScrollableElement,i=t.target;if(this.keyPressed)if(r!==window&&i!==window&&!t.target.contains(r)||n!==window&&i!==window&&!t.target.contains(n))return;this.syncScrollPositions(t)}},{key:"onCloneWheel",value:function(t){this.scrollableElement!==window&&t.preventDefault();var n=this.leftOverlay.mainTableScrollableElement,r=this.topOverlay.mainTableScrollableElement,i=t.target,s=r!==window&&i!==window&&!t.target.contains(r),o=n!==window&&i!==window&&!t.target.contains(n);if(this.keyPressed&&(s||o))return;this.translateMouseWheelToScroll(t)}},{key:"onKeyDown",value:function(t){this.keyPressed=(0,o.isKey)(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}},{key:"onKeyUp",value:function(){this.keyPressed=!1}},{key:"translateMouseWheelToScroll",value:function(t){var n=isNaN(t.deltaY)?-1*t.wheelDeltaY:t.deltaY,r=isNaN(t.deltaX)?-1*t.wheelDeltaX:t.deltaX;return t.deltaMode===1&&(r+=r*this.browserLineHeight,n+=n*this.browserLineHeight),this.scrollVertically(n),this.scrollHorizontally(r),!1}},{key:"scrollVertically",value:function(t){if(t===0)return 0;this.scrollableElement.scrollTop+=t}},{key:"scrollHorizontally",value:function(t){if(t===0)return 0;this.scrollableElement.scrollLeft+=t}},{key:"syncScrollPositions",value:function(){if(this.destroyed)return;var t=this.topOverlay.clone.wtTable.holder,n=this.leftOverlay.clone.wtTable.holder,r=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop],i=r[0],s=r[1];this.horizontalScrolling=t.scrollLeft!==i,this.verticalScrolling=n.scrollTop!==s;if(this.horizontalScrolling){t.scrollLeft=i;var o=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;o&&(o.scrollLeft=i)}this.verticalScrolling&&(n.scrollTop=s),this.refreshAll()}},{key:"syncScrollWithMaster",value:function(){var t=this.topOverlay.mainTableScrollableElement,n=t.scrollLeft,r=t.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=n),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=n),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=r)}},{key:"updateMainScrollableElements",value:function(){this.deregisterListeners(),this.leftOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement(),this.scrollableElement=(0,i.getScrollableElement)(this.wot.wtTable.TABLE),this.registerListeners()}},{key:"destroy",value:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.destroy(),this.debug&&this.debug.destroy(),this.destroyed=!0}},{key:"refresh",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;if(this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted){var n=this.wot.wtTable.wtRootElement.parentNode||this.wot.wtTable.wtRootElement,r=n.clientWidth,i=n.clientHeight;if(r!==this.spreaderLastSize.width||i!==this.spreaderLastSize.height)this.spreaderLastSize.width=r,this.spreaderLastSize.height=i,this.adjustElementsSize()}this.bottomOverlay.clone&&this.bottomOverlay.refresh(t),this.leftOverlay.refresh(t),this.topOverlay.refresh(t),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(t),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.refresh(t),this.debug&&this.debug.refresh(t)}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,n=this.wot.getSetting("totalColumns"),r=this.wot.getSetting("totalRows"),i=this.wot.wtViewport.getRowHeaderWidth(),s=this.wot.wtViewport.getColumnHeaderHeight(),o=this.wot.wtTable.hider.style;o.width=i+this.leftOverlay.sumCellSizes(0,n)+"px",o.height=s+this.topOverlay.sumCellSizes(0,r)+1+"px",this.topOverlay.adjustElementsSize(t),this.leftOverlay.adjustElementsSize(t),this.bottomOverlay.clone&&this.bottomOverlay.adjustElementsSize(t)}},{key:"applyToDOM",value:function(){(!this.topOverlay.areElementSizesAdjusted||!this.leftOverlay.areElementSizesAdjusted)&&this.adjustElementsSize(),this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.leftOverlay.applyToDOM()}},{key:"getParentOverlay",value:function(t){if(!t)return null;var n=[this.topOverlay,this.leftOverlay,this.bottomOverlay,this.topLeftCornerOverlay,this.bottomLeftCornerOverlay],r=null;return(0,s.arrayEach)(n,function(e){if(!e)return;e.clone&&e.clone.wtTable.TABLE.contains(t)&&(r=e.clone)}),r}}]),e}();t.default=d},function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(6),u=function(){function e(t){o(this,e),this.wot=t,this.instance=t}return r(e,[{key:"scrollViewport",value:function(t,n,r,i,s){var o=this.scrollViewportHorizontally(t.col,r,s),u=this.scrollViewportVertically(t.row,n,i);return o||u}},{key:"scrollViewportHorizontally",value:function(t,n,r){if(!this.wot.drawn)return!1;var i=this._getVariables(),s=i.fixedColumnsLeft,o=i.leftOverlay,u=i.totalColumns,a=!1;if(t>=0&&t<=Math.max(u-1,0))if(t>=s&&(t<this.getFirstVisibleColumn()||r))a=o.scrollTo(t);else if(t>this.getLastVisibleColumn()||n)a=o.scrollTo(t,!0);return a}},{key:"scrollViewportVertically",value:function(t,n,r){if(!this.wot.drawn)return!1;var i=this._getVariables(),s=i.fixedRowsBottom,o=i.fixedRowsTop,u=i.topOverlay,a=i.totalRows,f=!1;if(t>=0&&t<=Math.max(a-1,0))if(t>=o&&(t<this.getFirstVisibleRow()||n))f=u.scrollTo(t);else if(t>this.getLastVisibleRow()&&t<a-s||r)f=u.scrollTo(t,!0);return f}},{key:"getFirstVisibleRow",value:function(){var t=this._getVariables(),n=t.topOverlay,r=t.wtTable,o=t.wtViewport,u=t.totalRows,a=t.fixedRowsTop,f=r.getFirstVisibleRow();if(n.mainTableScrollableElement===window){var l=(0,i.offset)(r.wtRootElement),c=(0,i.innerHeight)(r.hider),h=(0,i.innerHeight)(window),p=(0,i.getScrollTop)(window);if(l.top+c-h<=p){var d=o.getColumnHeaderHeight();d+=n.sumCellSizes(0,a),(0,s.rangeEachReverse)(u,1,function(e){d+=n.sumCellSizes(e-1,e);if(l.top+c-d<=p)return f=e,!1})}}return f}},{key:"getLastVisibleRow",value:function(){var t=this._getVariables(),n=t.topOverlay,r=t.wtTable,o=t.wtViewport,u=t.totalRows,a=r.getLastVisibleRow();if(n.mainTableScrollableElement===window){var f=(0,i.offset)(r.wtRootElement),l=(0,i.innerHeight)(window),c=(0,i.getScrollTop)(window);if(f.top>c){var h=o.getColumnHeaderHeight();(0,s.rangeEach)(1,u,function(e){h+=n.sumCellSizes(e-1,e);if(f.top+h-c>=l)return a=e-2,!1})}}return a}},{key:"getFirstVisibleColumn",value:function(){var t=this._getVariables(),n=t.leftOverlay,r=t.wtTable,o=t.wtViewport,u=t.totalColumns,a=r.getFirstVisibleColumn();if(n.mainTableScrollableElement===window){var f=(0,i.offset)(r.wtRootElement),l=(0,i.innerWidth)(r.hider),c=(0,i.innerWidth)(window),h=(0,i.getScrollLeft)(window);if(f.left+l-c<=h){var p=o.getRowHeaderWidth();(0,s.rangeEachReverse)(u,1,function(e){p+=n.sumCellSizes(e-1,e);if(f.left+l-p<=h)return a=e,!1})}}return a}},{key:"getLastVisibleColumn",value:function(){var t=this._getVariables(),n=t.leftOverlay,r=t.wtTable,o=t.wtViewport,u=t.totalColumns,a=r.getLastVisibleColumn();if(n.mainTableScrollableElement===window){var f=(0,i.offset)(r.wtRootElement),l=(0,i.innerWidth)(window),c=(0,i.getScrollLeft)(window);if(f.left>c){var h=o.getRowHeaderWidth();(0,s.rangeEach)(1,u,function(e){h+=n.sumCellSizes(e-1,e);if(f.left+h-c>=l)return a=e-2,!1})}}return a}},{key:"_getVariables",value:function(){var t=this.wot,n=t.wtOverlays.topOverlay,r=t.wtOverlays.leftOverlay,i=t.wtTable,s=t.wtViewport,o=t.getSetting("totalRows"),u=t.getSetting("totalColumns"),a=t.getSetting("fixedRowsTop"),f=t.getSetting("fixedRowsBottom"),l=t.getSetting("fixedColumnsLeft");return{topOverlay:n,leftOverlay:r,wtTable:i,wtViewport:s,totalRows:o,totalColumns:u,fixedRowsTop:a,fixedRowsBottom:f,fixedColumnsLeft:l}}}]),e}();t.default=u},function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(1),u=function(){function e(t,n){var r=this;o(this,e),this.wot=t,this.instance=t,this.defaults={table:void 0,debug:!1,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},data:void 0,freezeOverlays:!1,fixedColumnsLeft:0,fixedRowsTop:0,fixedRowsBottom:0,minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(t,n,s){var o=r.getSetting("data",t,n);(0,i.fastInnerText)(s,o===void 0||o===null?"":o)},columnWidth:function(){},rowHeight:function(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(t){return t},onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null},this.settings={},(0,s.objectEach)(this.defaults,function(e,t){if(n[t]!==void 0)r.settings[t]=n[t];else{if(e===void 0)throw new Error('A required setting "'+t+'" was not provided');r.settings[t]=e}})}return r(e,[{key:"update",value:function(t,n){var r=this;return n===void 0?(0,s.objectEach)(t,function(e,t){r.settings[t]=e}):this.settings[t]=n,this.wot}},{key:"getSetting",value:function(t,n,r,i,s){return typeof this.settings[t]=="function"?this.settings[t](n,r,i,s):n!==void 0&&Array.isArray(this.settings[t])?this.settings[t][n]:this.settings[t]}},{key:"has",value:function(t){return!!this.settings[t]}}]),e}();t.default=u},function(e,t,n){function y(e){return e&&e.__esModule?e:{"default":e}}function b(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=n(43),a=n(56),f=y(a),l=n(179),c=y(l),h=n(180),p=y(h),d=n(187),v=y(d),m=n(41),g=y(m),E=function(){function e(t,n){var r=this;w(this,e),this.wot=t,this.instance=this.wot,this.TABLE=n,this.TBODY=null,this.THEAD=null,this.COLGROUP=null,this.tableOffset=0,this.holderOffset=0,(0,o.removeTextNodes)(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var i=this.wot.wtSettings.settings.rowHeaderWidth;this.wot.wtSettings.settings.rowHeaderWidth=function(){return r._modifyRowHeaderWidth(i)}}return s(e,[{key:"fixTableDomTree",value:function(){this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=document.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=document.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=document.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.wot.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length&&this.THEAD.appendChild(document.createElement("TR"))}},{key:"createSpreader",value:function(t){var n=t.parentNode,r=void 0;if(!n||n.nodeType!==1||!(0,o.hasClass)(n,"wtHolder"))r=document.createElement("div"),r.className="wtSpreader",n&&n.insertBefore(r,t),r.appendChild(t);return r.style.position="relative",r}},{key:"createHider",value:function(t){var n=t.parentNode,r=void 0;if(!n||n.nodeType!==1||!(0,o.hasClass)(n,"wtHolder"))r=document.createElement("div"),r.className="wtHider",n&&n.insertBefore(r,t),r.appendChild(t);return r}},{key:"createHolder",value:function(t){var n=t.parentNode,r=void 0;if(!n||n.nodeType!==1||!(0,o.hasClass)(n,"wtHolder"))r=document.createElement("div"),r.style.position="relative",r.className="wtHolder",n&&n.insertBefore(r,t),this.isWorkingOnClone()||(r.parentNode.className+="ht_master handsontable"),r.appendChild(t);return r}},{key:"alignOverlaysWithTrimmingContainer",value:function(){var t=(0,o.getTrimmingContainer)(this.wtRootElement);if(!this.isWorkingOnClone()){this.holder.parentNode.style.position="relative";if(t===window){var n=this.wot.getSetting("preventOverflow");n||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible")}else this.holder.style.width=(0,o.getStyle)(t,"width"),this.holder.style.height=(0,o.getStyle)(t,"height"),this.holder.style.overflow=""}}},{key:"isWorkingOnClone",value:function(){return!!this.wot.cloneSource}},{key:"draw",value:function(t){var n=this.wot,r=n.wtOverlays,i=n.wtViewport,s=this.instance.getSetting("totalRows"),u=this.wot.getSetting("rowHeaders").length,a=this.wot.getSetting("columnHeaders").length,f=!1,l=t;if(!this.isWorkingOnClone()){this.holderOffset=(0,o.offset)(this.holder),l=i.createRenderCalculators(l);if(u&&!this.wot.getSetting("fixedColumnsLeft")){var h=r.leftOverlay.getScrollPosition(),d=this.correctHeaderWidth;this.correctHeaderWidth=h>0,d!==this.correctHeaderWidth&&(l=!1)}}this.isWorkingOnClone()||(f=r.prepareOverlays());if(l)this.isWorkingOnClone()||i.createVisibleCalculators(),r&&r.refresh(!0);else{this.isWorkingOnClone()?this.tableOffset=this.wot.cloneSource.wtTable.tableOffset:this.tableOffset=(0,o.offset)(this.TABLE);var v=void 0;g.default.isOverlayTypeOf(this.wot.cloneOverlay,g.default.CLONE_DEBUG)||g.default.isOverlayTypeOf(this.wot.cloneOverlay,g.default.CLONE_TOP)||g.default.isOverlayTypeOf(this.wot.cloneOverlay,g.default.CLONE_TOP_LEFT_CORNER)?v=0:g.default.isOverlayTypeOf(this.instance.cloneOverlay,g.default.CLONE_BOTTOM)||g.default.isOverlayTypeOf(this.instance.cloneOverlay,g.default.CLONE_BOTTOM_LEFT_CORNER)?v=Math.max(s-this.wot.getSetting("fixedRowsBottom"),0):v=i.rowsRenderCalculator.startRow;var m=void 0;g.default.isOverlayTypeOf(this.wot.cloneOverlay,g.default.CLONE_DEBUG)||g.default.isOverlayTypeOf(this.wot.cloneOverlay,g.default.CLONE_LEFT)||g.default.isOverlayTypeOf(this.wot.cloneOverlay,g.default.CLONE_TOP_LEFT_CORNER)||g.default.isOverlayTypeOf(this.wot.cloneOverlay,g.default.CLONE_BOTTOM_LEFT_CORNER)?m=0:m=i.columnsRenderCalculator.startColumn,this.rowFilter=new p.default(v,s,a),this.columnFilter=new c.default(m,this.wot.getSetting("totalColumns"),u),this.alignOverlaysWithTrimmingContainer(),this._doDraw()}return this.refreshSelections(l),this.isWorkingOnClone()||(r.topOverlay.resetFixedPosition(),r.bottomOverlay.clone&&r.bottomOverlay.resetFixedPosition(),r.leftOverlay.resetFixedPosition(),r.topLeftCornerOverlay&&r.topLeftCornerOverlay.resetFixedPosition(),r.bottomLeftCornerOverlay&&r.bottomLeftCornerOverlay.clone&&r.bottomLeftCornerOverlay.resetFixedPosition()),f&&r.syncScrollWithMaster(),this.wot.drawn=!0,this}},{key:"_doDraw",value:function(){var t=new v.default(this);t.render()}},{key:"removeClassFromCells",value:function(t){var n=this.TABLE.querySelectorAll("."+t);for(var r=0,i=n.length;r<i;r++)(0,o.removeClass)(n[r],t)}},{key:"refreshSelections",value:function(t){if(!this.wot.selections)return;var n=Array.from(this.wot.selections),r=n.length;if(t){var i=[];for(var s=0;s<r;s++){var o=n[s].settings,u=o.highlightHeaderClassName,a=o.highlightRowClassName,f=o.highlightColumnClassName,l=n[s].classNames,c=l.length;for(var h=0;h<c;h++)i.includes(l[h])||i.push(l[h]);u&&!i.includes(u)&&i.push(u),a&&!i.includes(a)&&i.push(a),f&&!i.includes(f)&&i.push(f)}var p=this.wot.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(p))for(var d=0;d<p.length;d++)i.push(p[d]);var v=i.length;for(var m=0;m<v;m++)this.removeClassFromCells(i[m])}for(var g=0;g<r;g++)n[g].draw(this.wot,t)}},{key:"getCell",value:function(t){var n=t.row,r=t.col,s=this.wot.getSetting("onModifyGetCellCoords",n,r);if(s&&Array.isArray(s)){var o=i(s,2);n=o[0],r=o[1]}if(this.isRowBeforeRenderedRows(n))return-1;if(this.isRowAfterRenderedRows(n))return-2;var u=this.TBODY.childNodes[this.rowFilter.sourceToRendered(n)];if(u)return u.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(r)]}},{key:"getColumnHeader",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,r=this.THEAD.childNodes[n];if(r)return r.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]}},{key:"getRowHeader",value:function(t){if(this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0)===0)return null;var n=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];if(n)return n.childNodes[0]}},{key:"getCoords",value:function(t){var n=t;n.nodeName!=="TD"&&n.nodeName!=="TH"&&(n=(0,o.closest)(n,["TD","TH"]));if(n===null)return null;var r=n.parentNode,i=r.parentNode,s=(0,o.index)(r),u=n.cellIndex;return(0,o.overlayContainsElement)(g.default.CLONE_TOP_LEFT_CORNER,n)||(0,o.overlayContainsElement)(g.default.CLONE_TOP,n)?i.nodeName==="THEAD"&&(s-=i.childNodes.length):i===this.THEAD?s=this.rowFilter.visibleColHeadedRowToSourceRow(s):s=this.rowFilter.renderedToSource(s),(0,o.overlayContainsElement)(g.default.CLONE_TOP_LEFT_CORNER,n)||(0,o.overlayContainsElement)(g.default.CLONE_LEFT,n)?u=this.columnFilter.offsettedTH(u):u=this.columnFilter.visibleRowHeadedColumnToSourceColumn(u),new f.default(s,u)}},{key:"getTrForRow",value:function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]}},{key:"getFirstRenderedRow",value:function(){return this.wot.wtViewport.rowsRenderCalculator.startRow}},{key:"getFirstVisibleRow",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.startRow}},{key:"getFirstRenderedColumn",value:function(){return this.wot.wtViewport.columnsRenderCalculator.startColumn}},{key:"getFirstVisibleColumn",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.startColumn}},{key:"getLastRenderedRow",value:function(){return this.wot.wtViewport.rowsRenderCalculator.endRow}},{key:"getLastVisibleRow",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.endRow}},{key:"getLastRenderedColumn",value:function(){return this.wot.wtViewport.columnsRenderCalculator.endColumn}},{key:"getLastVisibleColumn",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.endColumn}},{key:"isRowBeforeRenderedRows",value:function(t){return this.rowFilter&&this.rowFilter.sourceToRendered(t)<0&&t>=0}},{key:"isRowAfterViewport",value:function(t){return this.rowFilter&&this.rowFilter.sourceToRendered(t)>this.getLastVisibleRow()}},{key:"isRowAfterRenderedRows",value:function(t){return this.rowFilter&&this.rowFilter.sourceToRendered(t)>this.getLastRenderedRow()}},{key:"isColumnBeforeViewport",value:function(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)<0&&t>=0}},{key:"isColumnAfterViewport",value:function(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)>this.getLastVisibleColumn()}},{key:"isLastRowFullyVisible",value:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()}},{key:"isLastColumnFullyVisible",value:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}},{key:"getRenderedColumnsCount",value:function(){var t=this.wot.wtViewport.columnsRenderCalculator.count,n=this.wot.getSetting("totalColumns");if(this.wot.isOverlayName(g.default.CLONE_DEBUG))t=n;else if(this.wot.isOverlayName(g.default.CLONE_LEFT)||this.wot.isOverlayName(g.default.CLONE_TOP_LEFT_CORNER)||this.wot.isOverlayName(g.default.CLONE_BOTTOM_LEFT_CORNER))return Math.min(this.wot.getSetting("fixedColumnsLeft"),n);return t}},{key:"getRenderedRowsCount",value:function(){var t=this.wot.wtViewport.rowsRenderCalculator.count,n=this.wot.getSetting("totalRows");if(this.wot.isOverlayName(g.default.CLONE_DEBUG))t=n;else if(this.wot.isOverlayName(g.default.CLONE_TOP)||this.wot.isOverlayName(g.default.CLONE_TOP_LEFT_CORNER))t=Math.min(this.wot.getSetting("fixedRowsTop"),n);else if(this.wot.isOverlayName(g.default.CLONE_BOTTOM)||this.wot.isOverlayName(g.default.CLONE_BOTTOM_LEFT_CORNER))t=Math.min(this.wot.getSetting("fixedRowsBottom"),n);return t}},{key:"getVisibleRowsCount",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.count}},{key:"allRowsInViewport",value:function(){return this.wot.getSetting("totalRows")===this.getVisibleRowsCount()}},{key:"getRowHeight",value:function(t){var n=this.wot.wtSettings.settings.rowHeight(t),r=this.wot.wtViewport.oversizedRows[t];return r!==void 0&&(n=n===void 0?r:Math.max(n,r)),n}},{key:"getColumnHeaderHeight",value:function(t){var n=this.wot.wtSettings.settings.defaultRowHeight,r=this.wot.wtViewport.oversizedColumnHeaders[t];return r!==void 0&&(n=n?Math.max(n,r):r),n}},{key:"getVisibleColumnsCount",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.count}},{key:"allColumnsInViewport",value:function(){return this.wot.getSetting("totalColumns")===this.getVisibleColumnsCount()}},{key:"getColumnWidth",value:function(t){var n=this.wot.wtSettings.settings.columnWidth;return typeof n=="function"?n=n(t):(typeof n=="undefined"?"undefined":r(n))==="object"&&(n=n[t]),n||this.wot.wtSettings.settings.defaultColumnWidth}},{key:"getStretchedColumnWidth",value:function(t){var n=this.getColumnWidth(t),r=n===null||n===void 0?this.instance.wtSettings.settings.defaultColumnWidth:n,i=this.wot.wtViewport.columnsRenderCalculator;if(i){var s=i.getStretchedColumnWidth(t,r);s&&(r=s)}return r}},{key:"_modifyRowHeaderWidth",value:function(t){var n=(0,u.isFunction)(t)?t():null;return Array.isArray(n)?(n=[].concat(b(n)),n[n.length-1]=this._correctRowHeaderWidth(n[n.length-1])):n=this._correctRowHeaderWidth(n),n}},{key:"_correctRowHeaderWidth",value:function(t){var n=t;return typeof t!="number"&&(n=this.wot.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(n+=1),n}}]),e}();t.default=E},function(e,t,n){function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){var n=document.createElement("TH");return t.insertBefore(n,e),t.removeChild(e),n}function m(e,t){var n=document.createElement("TD");return t.insertBefore(n,e),t.removeChild(e),n}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting the number \n          of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.'],['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting the number \n          of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.']),s=n(0),o=n(58),u=n(42),a=n(41),f=l(a),p=!1,d=function(){function e(t){h(this,e),this.wtTable=t,this.wot=t.instance,this.instance=t.instance,this.rowFilter=t.rowFilter,this.columnFilter=t.columnFilter,this.TABLE=t.TABLE,this.THEAD=t.THEAD,this.TBODY=t.TBODY,this.COLGROUP=t.COLGROUP,this.rowHeaders=[],this.rowHeaderCount=0,this.columnHeaders=[],this.columnHeaderCount=0,this.fixedRowsTop=0,this.fixedRowsBottom=0}return r(e,[{key:"render",value:function(){if(!this.wtTable.isWorkingOnClone()){var t={};this.wot.getSetting("beforeDraw",!0,t);if(t.skipRender===!0)return}this.rowHeaders=this.wot.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.wot.getSetting("fixedRowsTop"),this.fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),this.columnHeaders=this.wot.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var n=this.wtTable.getRenderedColumnsCount(),r=this.wtTable.getRenderedRowsCount(),i=this.wot.getSetting("totalColumns"),o=this.wot.getSetting("totalRows"),u=void 0,a=!1;if(f.default.isOverlayTypeOf(this.wot.cloneOverlay,f.default.CLONE_BOTTOM)||f.default.isOverlayTypeOf(this.wot.cloneOverlay,f.default.CLONE_BOTTOM_LEFT_CORNER))this.columnHeaders=[],this.columnHeaderCount=0;i>=0&&(this.adjustAvailableNodes(),a=!0,this.renderColumnHeaders(),this.renderRows(o,r,n),this.wtTable.isWorkingOnClone()||(u=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null),this.adjustColumnWidths(n),this.markOversizedColumnHeaders(),this.adjustColumnHeaderHeights()),a||this.adjustAvailableNodes(),this.removeRedundantRows(r),(!this.wtTable.isWorkingOnClone()||this.wot.isOverlayName(f.default.CLONE_BOTTOM))&&this.markOversizedRows();if(!this.wtTable.isWorkingOnClone()){this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1),this.wot.wtOverlays.applyToDOM();var l=(0,s.outerWidth)(this.wtTable.hider),c=(0,s.outerWidth)(this.wtTable.TABLE);l!==0&&c!==l&&this.adjustColumnWidths(n);if(u!==this.wot.wtViewport.getWorkspaceWidth()){this.wot.wtViewport.containerWidth=null;var h=this.wtTable.getFirstRenderedColumn(),p=this.wtTable.getLastRenderedColumn(),d=this.wot.getSetting("defaultColumnWidth"),v=this.wot.getSetting("rowHeaderWidth");v=this.instance.getSetting("onModifyRowHeaderWidth",v);if(v!==null&&v!==void 0)for(var m=0;m<this.rowHeaderCount;m++){var g=Array.isArray(v)?v[m]:v;g=g===null||g===void 0?d:g,this.COLGROUP.childNodes[m].style.width=g+"px"}for(var y=h;y<p;y++){var b=this.wtTable.getStretchedColumnWidth(y),w=this.columnFilter.sourceToRendered(y);this.COLGROUP.childNodes[w+this.rowHeaderCount].style.width=b+"px"}}this.wot.getSetting("onDraw",!0)}else this.wot.isOverlayName(f.default.CLONE_BOTTOM)&&this.wot.cloneSource.wtOverlays.adjustElementsSize()}},{key:"removeRedundantRows",value:function(t){while(this.wtTable.tbodyChildrenLength>t)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength-=1}},{key:"renderRows",value:function(t,n,r){var s=void 0,a=0,l=this.rowFilter.renderedToSource(a),c=this.wtTable.isWorkingOnClone();while(l<t&&l>=0){!p&&a>1e3&&(p=!0,(0,o.warn)((0,u.toSingleLine)(i)));if(n!==void 0&&a===n)break;s=this.getOrCreateTrForRow(a,s),this.renderRowHeaders(l,s),this.adjustColumns(s,r+this.rowHeaderCount),this.renderCells(l,s,r),(!c||this.wot.isOverlayName(f.default.CLONE_BOTTOM))&&this.resetOversizedRow(l);if(s.firstChild){var h=this.wot.wtTable.getRowHeight(l);h?(h-=1,s.firstChild.style.height=h+"px"):s.firstChild.style.height=""}a+=1,l=this.rowFilter.renderedToSource(a)}}},{key:"resetOversizedRow",value:function(t){if(this.wot.getSetting("externalRowCalculator"))return;this.wot.wtViewport.oversizedRows&&this.wot.wtViewport.oversizedRows[t]&&(this.wot.wtViewport.oversizedRows[t]=void 0)}},{key:"markOversizedRows",value:function(){if(this.wot.getSetting("externalRowCalculator"))return;var t=this.instance.wtTable.TBODY.childNodes.length,n=t*this.instance.wtSettings.settings.defaultRowHeight,r=(0,s.innerHeight)(this.instance.wtTable.TBODY)-1,i=void 0,o=void 0,u=void 0,a=void 0,f=void 0;if(n===r&&!this.instance.getSetting("fixedRowsBottom"))return;while(t){t-=1,u=this.instance.wtTable.rowFilter.renderedToSource(t),i=this.instance.wtTable.getRowHeight(u),a=this.instance.wtTable.getTrForRow(u),f=a.querySelector("th"),f?o=(0,s.innerHeight)(f):o=(0,s.innerHeight)(a)-1;if(!i&&this.instance.wtSettings.settings.defaultRowHeight<o||i<o)o+=1,this.instance.wtViewport.oversizedRows[u]=o}}},{key:"markOversizedColumnHeaders",value:function(){var t=this.wot.getOverlayName();if(!this.columnHeaderCount||this.wot.wtViewport.hasOversizedColumnHeadersMarked[t]||this.wtTable.isWorkingOnClone())return;var n=this.wtTable.getRenderedColumnsCount();for(var r=0;r<this.columnHeaderCount;r++)for(var i=-1*this.rowHeaderCount;i<n;i++)this.markIfOversizedColumnHeader(i);this.wot.wtViewport.hasOversizedColumnHeadersMarked[t]=!0}},{key:"adjustColumnHeaderHeights",value:function(){var t=this.wot.getSetting("columnHeaders"),n=this.wot.wtTable.THEAD.childNodes,r=this.wot.wtViewport.oversizedColumnHeaders;for(var i=0,s=t.length;i<s;i++)if(r[i]){if(!n[i]||n[i].childNodes.length===0)return;n[i].childNodes[0].style.height=r[i]+"px"}}},{key:"markIfOversizedColumnHeader",value:function(t){var n=this.wot.wtTable.columnFilter.renderedToSource(t),r=this.columnHeaderCount,i=this.wot.wtSettings.settings.defaultRowHeight,o=void 0,u=void 0,a=void 0,f=this.wot.getSetting("columnHeaderHeight")||[];while(r){r-=1,o=this.wot.wtTable.getColumnHeaderHeight(r),u=this.wot.wtTable.getColumnHeader(n,r);if(!u)continue;a=(0,s.innerHeight)(u);if(!o&&i<a||o<a)this.wot.wtViewport.oversizedColumnHeaders[r]=a;Array.isArray(f)?f[r]!==null&&f[r]!==void 0&&(this.wot.wtViewport.oversizedColumnHeaders[r]=f[r]):isNaN(f)||(this.wot.wtViewport.oversizedColumnHeaders[r]=f),this.wot.wtViewport.oversizedColumnHeaders[r]<(f[r]||f)&&(this.wot.wtViewport.oversizedColumnHeaders[r]=f[r]||f)}}},{key:"renderCells",value:function(t,n,r){var i=void 0,o=void 0;for(var u=0;u<r;u++)o=this.columnFilter.renderedToSource(u),u===0?i=n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(o)]:i=i.nextSibling,i.nodeName==="TH"&&(i=m(i,n)),(0,s.hasClass)(i,"hide")||(i.className=""),i.removeAttribute("style"),this.wot.wtSettings.settings.cellRenderer(t,o,i);return i}},{key:"adjustColumnWidths",value:function(t){var n=0,r=this.wot.cloneSource?this.wot.cloneSource:this.wot,i=r.wtTable.holder,o=this.wot.getSetting("defaultColumnWidth"),u=this.wot.getSetting("rowHeaderWidth");i.offsetHeight<i.scrollHeight&&(n=(0,s.getScrollbarWidth)()),this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth()-n),u=this.instance.getSetting("onModifyRowHeaderWidth",u);if(u!==null&&u!==void 0)for(var a=0;a<this.rowHeaderCount;a++){var f=Array.isArray(u)?u[a]:u;f=f===null||f===void 0?o:f,this.COLGROUP.childNodes[a].style.width=f+"px"}for(var l=0;l<t;l++){var c=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(l));this.COLGROUP.childNodes[l+this.rowHeaderCount].style.width=c+"px"}}},{key:"appendToTbody",value:function(t){this.TBODY.appendChild(t),this.wtTable.tbodyChildrenLength+=1}},{key:"getOrCreateTrForRow",value:function(t,n){var r=void 0;return t>=this.wtTable.tbodyChildrenLength?(r=this.createRow(),this.appendToTbody(r)):t===0?r=this.TBODY.firstChild:r=n.nextSibling,r.className&&r.removeAttribute("class"),r}},{key:"createRow",value:function(){var t=document.createElement("TR");for(var n=0;n<this.rowHeaderCount;n++)t.appendChild(document.createElement("TH"));return t}},{key:"renderRowHeader",value:function(t,n,r){r.className="",r.removeAttribute("style"),this.rowHeaders[n](t,r,n)}},{key:"renderRowHeaders",value:function(t,n){for(var r=n.firstChild,i=0;i<this.rowHeaderCount;i++)r?r.nodeName==="TD"&&(r=v(r,n)):(r=document.createElement("TH"),n.appendChild(r)),this.renderRowHeader(t,i,r),r=r.nextSibling}},{key:"adjustAvailableNodes",value:function(){this.adjustColGroups(),this.adjustThead()}},{key:"renderColumnHeaders",value:function(){if(!this.columnHeaderCount)return;var t=this.wtTable.getRenderedColumnsCount();for(var n=0;n<this.columnHeaderCount;n++){var r=this.getTrForColumnHeaders(n);for(var i=-1*this.rowHeaderCount;i<t;i++){var s=this.columnFilter.renderedToSource(i);this.renderColumnHeader(n,s,r.childNodes[i+this.rowHeaderCount])}}}},{key:"adjustColGroups",value:function(){var t=this.wtTable.getRenderedColumnsCount();while(this.wtTable.colgroupChildrenLength<t+this.rowHeaderCount)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength+=1;while(this.wtTable.colgroupChildrenLength>t+this.rowHeaderCount)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength-=1;this.rowHeaderCount&&(0,s.addClass)(this.COLGROUP.childNodes[0],"rowHeader")}},{key:"adjustThead",value:function(){var t=this.wtTable.getRenderedColumnsCount(),n=this.THEAD.firstChild;if(this.columnHeaders.length){for(var r=0,i=this.columnHeaders.length;r<i;r++){n=this.THEAD.childNodes[r],n||(n=document.createElement("TR"),this.THEAD.appendChild(n)),this.theadChildrenLength=n.childNodes.length;while(this.theadChildrenLength<t+this.rowHeaderCount)n.appendChild(document.createElement("TH")),this.theadChildrenLength+=1;while(this.theadChildrenLength>t+this.rowHeaderCount)n.removeChild(n.lastChild),this.theadChildrenLength-=1}var o=this.THEAD.childNodes.length;if(o>this.columnHeaders.length)for(var u=this.columnHeaders.length;u<o;u++)this.THEAD.removeChild(this.THEAD.lastChild)}else n&&(0,s.empty)(n)}},{key:"getTrForColumnHeaders",value:function(t){return this.THEAD.childNodes[t]}},{key:"renderColumnHeader",value:function(t,n,r){return r.className="",r.removeAttribute("style"),this.columnHeaders[t](n,r,t)}},{key:"adjustColumns",value:function(t,n){var r=t.childNodes.length;while(r<n){var i=document.createElement("TD");t.appendChild(i),r+=1}while(r>n)t.removeChild(t.lastChild),r-=1}},{key:"removeRedundantColumns",value:function(t){while(this.wtTable.tbodyChildrenLength>t)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength-=1}}]),e}();t.default=d},function(e,t,n){function h(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(1),o=n(5),u=h(o),a=n(176),f=h(a),l=n(177),c=h(l),d=function(){function e(t){var n=this;p(this,e),this.wot=t,this.instance=this.wot,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=new u.default(this.wot),this.eventManager.addEventListener(window,"resize",function(){n.clientHeight=n.getWorkspaceHeight()})}return r(e,[{key:"getWorkspaceHeight",value:function(){var t=this.instance.wtOverlays.topOverlay.trimmingContainer,n=void 0,r=0;return t===window?r=document.documentElement.clientHeight:(n=(0,i.outerHeight)(t),r=n>0&&t.clientHeight>0?t.clientHeight:Infinity),r}},{key:"getWorkspaceWidth",value:function(){var t=void 0,n=this.wot.getSetting("totalColumns"),r=this.instance.wtOverlays.leftOverlay.trimmingContainer,s=void 0,o=this.wot.getSetting("stretchH"),u=document.documentElement.offsetWidth,a=this.wot.getSetting("preventOverflow");if(a)return(0,i.outerWidth)(this.instance.wtTable.wtRootElement);this.wot.getSetting("freezeOverlays")?t=Math.min(u-this.getWorkspaceOffset().left,u):t=Math.min(this.getContainerFillWidth(),u-this.getWorkspaceOffset().left,u);if(r===window&&n>0&&this.sumColumnWidths(0,n-1)>t)return document.documentElement.clientWidth;if(r!==window){s=(0,i.getStyle)(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow");if(s==="scroll"||s==="hidden"||s==="auto")return Math.max(t,r.clientWidth)}return o==="none"||!o?Math.max(t,(0,i.outerWidth)(this.instance.wtTable.TABLE)):t}},{key:"hasVerticalScroll",value:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()}},{key:"hasHorizontalScroll",value:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()}},{key:"sumColumnWidths",value:function(t,n){var r=this.wot.wtTable,i=0,s=t;while(s<n)i+=r.getColumnWidth(s),s+=1;return i}},{key:"getContainerFillWidth",value:function(){if(this.containerWidth)return this.containerWidth;var t=this.instance.wtTable.holder,n=document.createElement("div");n.style.width="100%",n.style.height="1px",t.appendChild(n);var r=n.offsetWidth;return this.containerWidth=r,t.removeChild(n),r}},{key:"getWorkspaceOffset",value:function(){return(0,i.offset)(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualHeight",value:function(){return(0,i.outerHeight)(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualWidth",value:function(){return(0,i.outerWidth)(this.wot.wtTable.TABLE)||(0,i.outerWidth)(this.wot.wtTable.TBODY)||(0,i.outerWidth)(this.wot.wtTable.THEAD)}},{key:"getColumnHeaderHeight",value:function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=(0,i.outerHeight)(this.wot.wtTable.THEAD)),this.columnHeaderHeight}},{key:"getViewportHeight",value:function(){var t=this.getWorkspaceHeight();if(t===Infinity)return t;var n=this.getColumnHeaderHeight();return n>0&&(t-=n),t}},{key:"getRowHeaderWidth",value:function(){var t=this.instance.getSetting("rowHeaderWidth"),n=this.instance.getSetting("rowHeaders");if(t){this.rowHeaderWidth=0;for(var r=0,s=n.length;r<s;r++)this.rowHeaderWidth+=t[r]||t}if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth))if(n.length){var o=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var u=0,a=n.length;u<a;u++)o?(this.rowHeaderWidth+=(0,i.outerWidth)(o),o=o.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.instance.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}},{key:"getViewportWidth",value:function(){var t=this.getWorkspaceWidth();if(t===Infinity)return t;var n=this.getRowHeaderWidth();return n>0?t-n:t}},{key:"createRowsCalculator",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,r=void 0,s=void 0,o=void 0;this.rowHeaderWidth=NaN,this.wot.wtSettings.settings.renderAllRows&&!n?r=Infinity:r=this.getViewportHeight();var u=this.wot.wtOverlays.topOverlay.getScrollPosition()-this.wot.wtOverlays.topOverlay.getTableParentOffset();u<0&&(u=0);var a=this.wot.getSetting("fixedRowsTop"),f=this.wot.getSetting("fixedRowsBottom"),l=this.wot.getSetting("totalRows");return a&&(o=this.wot.wtOverlays.topOverlay.sumCellSizes(0,a),u+=o,r-=o),f&&this.wot.wtOverlays.bottomOverlay.clone&&(o=this.wot.wtOverlays.bottomOverlay.sumCellSizes(l-f,l),r-=o),this.wot.wtTable.holder.clientHeight===this.wot.wtTable.holder.offsetHeight?s=0:s=(0,i.getScrollbarWidth)(),new c.default(r,u,this.wot.getSetting("totalRows"),function(e){return t.wot.wtTable.getRowHeight(e)},n?null:this.wot.wtSettings.settings.viewportRowCalculatorOverride,n,s)}},{key:"createColumnsCalculator",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,r=this.getViewportWidth(),s=this.wot.wtOverlays.leftOverlay.getScrollPosition()-this.wot.wtOverlays.leftOverlay.getTableParentOffset();this.columnHeaderHeight=NaN,s<0&&(s=0);var o=this.wot.getSetting("fixedColumnsLeft");if(o){var u=this.wot.wtOverlays.leftOverlay.sumCellSizes(0,o);s+=u,r-=u}return this.wot.wtTable.holder.clientWidth!==this.wot.wtTable.holder.offsetWidth&&(r-=(0,i.getScrollbarWidth)()),new f.default(r,s,this.wot.getSetting("totalColumns"),function(e){return t.wot.wtTable.getColumnWidth(e)},n?null:this.wot.wtSettings.settings.viewportColumnCalculatorOverride,n,this.wot.getSetting("stretchH"),function(e,n){return t.wot.getSetting("onBeforeStretchingColumnWidth",e,n)})}},{key:"createRenderCalculators",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,n=t;if(n){var r=this.createRowsCalculator(!0),i=this.createColumnsCalculator(!0);if(!this.areAllProposedVisibleRowsAlreadyRendered(r)||!this.areAllProposedVisibleColumnsAlreadyRendered(i))n=!1}return n||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,n}},{key:"createVisibleCalculators",value:function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)}},{key:"areAllProposedVisibleRowsAlreadyRendered",value:function(t){if(this.rowsVisibleCalculator)return t.startRow<this.rowsRenderCalculator.startRow||t.startRow===this.rowsRenderCalculator.startRow&&t.startRow>0?!1:t.endRow>this.rowsRenderCalculator.endRow||t.endRow===this.rowsRenderCalculator.endRow&&t.endRow<this.wot.getSetting("totalRows")-1?!1:!0;return!1}},{key:"areAllProposedVisibleColumnsAlreadyRendered",value:function(t){if(this.columnsVisibleCalculator)return t.startColumn<this.columnsRenderCalculator.startColumn||t.startColumn===this.columnsRenderCalculator.startColumn&&t.startColumn>0?!1:t.endColumn>this.columnsRenderCalculator.endColumn||t.endColumn===this.columnsRenderCalculator.endColumn&&t.endColumn<this.wot.getSetting("totalColumns")-1?!1:!0;return!1}},{key:"resetHasOversizedColumnHeadersMarked",value:function(){(0,s.objectEach)(this.hasOversizedColumnHeadersMarked,function(e,t,n){n[t]=void 0})}}]),e}();t.default=d},function(e,t,n){function p(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),o=n(13),u=n(1),a=n(39),f=n(5),l=p(f),c=n(56),h=p(c),v=function(){function e(t,n){d(this,e);if(!n)return;this.eventManager=new l.default(t),this.instance=t,this.wot=t,this.settings=n,this.mouseDown=!1,this.main=null,this.top=null,this.left=null,this.bottom=null,this.right=null,this.topStyle=null,this.leftStyle=null,this.bottomStyle=null,this.rightStyle=null,this.cornerDefaultStyle={width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"},this.corner=null,this.cornerStyle=null,this.createBorders(n),this.registerListeners()}return i(e,[{key:"registerListeners",value:function(){var t=this;this.eventManager.addEventListener(document.body,"mousedown",function(){return t.onMouseDown()}),this.eventManager.addEventListener(document.body,"mouseup",function(){return t.onMouseUp()});var n=function(n,r){t.eventManager.addEventListener(t.main.childNodes[n],"mouseenter",function(e){return t.onMouseEnter(e,t.main.childNodes[n])})};for(var r=0,i=this.main.childNodes.length;r<i;r++)n(r,i)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseEnter",value:function(t,n){function s(e){if(e.clientY<Math.floor(i.top))return!0;if(e.clientY>Math.ceil(i.top+i.height))return!0;if(e.clientX<Math.floor(i.left))return!0;if(e.clientX>Math.ceil(i.left+i.width))return!0}function u(e){s(e)&&(r.eventManager.removeEventListener(document.body,"mousemove",u),n.style.display="block")}if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;t.preventDefault(),(0,o.stopImmediatePropagation)(t);var r=this,i=n.getBoundingClientRect();n.style.display="none",this.eventManager.addEventListener(document.body,"mousemove",u)}},{key:"createBorders",value:function(t){this.main=document.createElement("div");var n=["top","left","bottom","right","corner"],r=this.main.style;r.position="absolute",r.top=0,r.left=0;for(var i=0;i<5;i++){var s=n[i],o=document.createElement("div");o.className="wtBorder "+(this.settings.className||""),this.settings[s]&&this.settings[s].hide&&(o.className+=" hidden"),r=o.style,r.backgroundColor=this.settings[s]&&this.settings[s].color?this.settings[s].color:t.border.color,r.height=this.settings[s]&&this.settings[s].width?this.settings[s].width+"px":t.border.width+"px",r.width=this.settings[s]&&this.settings[s].width?this.settings[s].width+"px":t.border.width+"px",this.main.appendChild(o)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),(0,a.isMobileBrowser)()&&this.createMultipleSelectorHandles(),this.disappear();var u=this.wot.wtTable.bordersHolder;u||(u=document.createElement("div"),u.className="htBorders",this.wot.wtTable.bordersHolder=u,this.wot.wtTable.spreader.appendChild(u)),u.appendChild(this.main)}},{key:"createMultipleSelectorHandles",value:function(){var t=this;this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")};var n=10,r=40;this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var i={position:"absolute",height:r+"px",width:r+"px","border-radius":parseInt(r/1.5,10)+"px"};(0,u.objectEach)(i,function(e,n){t.selectionHandles.styles.bottomRightHitArea[n]=e,t.selectionHandles.styles.topLeftHitArea[n]=e});var s={position:"absolute",height:n+"px",width:n+"px","border-radius":parseInt(n/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};(0,u.objectEach)(s,function(e,n){t.selectionHandles.styles.bottomRight[n]=e,t.selectionHandles.styles.topLeft[n]=e}),this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)}},{key:"isPartRange",value:function(t,n){var r=this.wot.selections.createOrGetArea();if(r.cellRange)if(t!==r.cellRange.to.row||n!==r.cellRange.to.col)return!0;return!1}},{key:"updateMultipleSelectionHandlesPosition",value:function(t,n,r,i,s,o){var u=parseInt(this.selectionHandles.styles.topLeft.width,10),a=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(r-u,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(i-u,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(r-a/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(i-a/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(r+o,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(i+s,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(r+o-a/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(i+s-a/4,10)+"px",this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",this.isPartRange(t,n)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),t===this.wot.wtSettings.getSetting("fixedRowsTop")||n===this.wot.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")}},{key:"appear",value:function(t){if(this.disabled)return;var n=void 0,i=void 0,o=void 0,u=void 0,f=this.wot.wtTable.getRenderedRowsCount();for(var l=0;l<f;l+=1){var c=this.wot.wtTable.rowFilter.renderedToSource(l);if(c>=t[0]&&c<=t[2]){n=c;break}}for(var p=f-1;p>=0;p-=1){var d=this.wot.wtTable.rowFilter.renderedToSource(p);if(d>=t[0]&&d<=t[2]){i=d;break}}var v=this.wot.wtTable.getRenderedColumnsCount();for(var m=0;m<v;m+=1){var g=this.wot.wtTable.columnFilter.renderedToSource(m);if(g>=t[1]&&g<=t[3]){o=g;break}}for(var y=v-1;y>=0;y-=1){var b=this.wot.wtTable.columnFilter.renderedToSource(y);if(b>=t[1]&&b<=t[3]){u=b;break}}if(n===void 0||o===void 0){this.disappear();return}var w=this.wot.wtTable.getCell(new h.default(n,o)),E=n!==i||o!==u,S=E?this.wot.wtTable.getCell(new h.default(i,u)):w,x=(0,s.offset)(w),T=E?(0,s.offset)(S):x,N=(0,s.offset)(this.wot.wtTable.TABLE),C=x.top,k=x.left,L=k-N.left-1,A=T.left+(0,s.outerWidth)(S)-k;if(this.isEntireColumnSelected(n,i)){var O=this.getDimensionsFromHeader("columns",o,u,N),M=null;if(O){var _=r(O,3);M=_[0],L=_[1],A=_[2]}M&&(w=M)}var D=C-N.top-1,P=T.top+(0,s.outerHeight)(S)-C;if(this.isEntireRowSelected(o,u)){var H=this.getDimensionsFromHeader("rows",n,i,N),B=null;if(H){var j=r(H,3);B=j[0],D=j[1],P=j[2]}B&&(w=B)}var F=(0,s.getComputedStyle)(w);parseInt(F.borderTopWidth,10)>0&&(D+=1,P=P>0?P-1:0),parseInt(F.borderLeftWidth,10)>0&&(L+=1,A=A>0?A-1:0),this.topStyle.top=D+"px",this.topStyle.left=L+"px",this.topStyle.width=A+"px",this.topStyle.display="block",this.leftStyle.top=D+"px",this.leftStyle.left=L+"px",this.leftStyle.height=P+"px",this.leftStyle.display="block";var I=Math.floor(this.settings.border.width/2);this.bottomStyle.top=D+P-I+"px",this.bottomStyle.left=L+"px",this.bottomStyle.width=A+"px",this.bottomStyle.display="block",this.rightStyle.top=D+"px",this.rightStyle.left=L+A-I+"px",this.rightStyle.height=P+1+"px",this.rightStyle.display="block";var q=this.settings.border.cornerVisible;q=typeof q=="function"?q(this.settings.layerLevel):q;var R=this.wot.getSetting("onModifyGetCellCoords",i,u),U=i,z=u;if(R&&Array.isArray(R)){var W=r(R,4);U=W[2],z=W[3]}if((0,a.isMobileBrowser)()||!q||this.isPartRange(U,z))this.cornerStyle.display="none";else{this.cornerStyle.top=D+P-4+"px",this.cornerStyle.left=L+A-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";var X=(0,s.getTrimmingContainer)(this.wot.wtTable.TABLE),V=X===window;V&&(X=document.documentElement);if(u===this.wot.getSetting("totalColumns")-1){var $=V?S.getBoundingClientRect().left:S.offsetLeft,J=$+(0,s.outerWidth)(S)+parseInt(this.cornerDefaultStyle.width,10)/2,K=J>=(0,s.innerWidth)(X);K&&(this.cornerStyle.left=Math.floor(L+A-3-parseInt(this.cornerDefaultStyle.width,10)/2)+"px",this.cornerStyle.borderRightWidth=0)}if(i===this.wot.getSetting("totalRows")-1){var Q=V?S.getBoundingClientRect().top:S.offsetTop,G=Q+(0,s.outerHeight)(S)+parseInt(this.cornerDefaultStyle.height,10)/2,Y=G>=(0,s.innerHeight)(X);Y&&(this.cornerStyle.top=Math.floor(D+P-3-parseInt(this.cornerDefaultStyle.height,10)/2)+"px",this.cornerStyle.borderBottomWidth=0)}this.cornerStyle.display="block"}(0,a.isMobileBrowser)()&&this.updateMultipleSelectionHandlesPosition(i,u,D,L,A,P)}},{key:"isEntireColumnSelected",value:function(t,n){return t===this.wot.wtTable.getFirstRenderedRow()&&n===this.wot.wtTable.getLastRenderedRow()}},{key:"isEntireRowSelected",value:function(t,n){return t===this.wot.wtTable.getFirstRenderedColumn()&&n===this.wot.wtTable.getLastRenderedColumn()}},{key:"getDimensionsFromHeader",value:function(t,n,r,i){var o=this,u=this.wot.wtTable.wtRootElement.parentNode,a=null,f=null,l=null,c=null,h=null,p=null,d=null,v=null;switch(t){case"rows":a=function(){var t;return(t=o.wot.wtTable).getRowHeader.apply(t,arguments)},f=function(){return s.outerHeight.apply(undefined,arguments)},l="ht__selection--rows",p="top";break;case"columns":a=function(){var t;return(t=o.wot.wtTable).getColumnHeader.apply(t,arguments)},f=function(){return s.outerWidth.apply(undefined,arguments)},l="ht__selection--columns",p="left";break;default:}if(u.className.includes(l)){var m=this.wot.getSetting("columnHeaders").length;d=a(n,m-1),v=a(r,m-1);if(!d||!v)return!1;var g=(0,s.offset)(d),y=(0,s.offset)(v);return d&&v&&(c=g[p]-i[p]-1,h=y[p]+f(v)-g[p]),[d,c,h]}return!1}},{key:"changeBorderStyle",value:function(t,n){var r=this[t].style,i=n[t];if(!i||i.hide)(0,s.addClass)(this[t],"hidden");else{(0,s.hasClass)(this[t],"hidden")&&(0,s.removeClass)(this[t],"hidden"),r.backgroundColor=i.color;if(t==="top"||t==="bottom")r.height=i.width+"px";if(t==="right"||t==="left")r.width=i.width+"px"}}},{key:"changeBorderToDefaultStyle",value:function(t){var n={width:1,color:"#000"},r=this[t].style;r.backgroundColor=n.color,r.width=n.width+"px",r.height=n.width+"px"}},{key:"toggleHiddenClass",value:function(t,n){this.changeBorderToDefaultStyle(t),n?(0,s.addClass)(this[t],"hidden"):(0,s.removeClass)(this[t],"hidden")}},{key:"disappear",value:function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",(0,a.isMobileBrowser)()&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")}}]),e}();t.default=v},function(e,t,n){function l(e){return e&&e.__esModule?e:{"default":e}}function p(e){h=!1;var t=this.getActiveEditor();if((0,r.isPrintableChar)(e.keyCode)||e.keyCode===r.KEY_CODES.BACKSPACE||e.keyCode===r.KEY_CODES.DELETE||e.keyCode===r.KEY_CODES.INSERT){var n=0;if(e.keyCode===r.KEY_CODES.C&&(e.ctrlKey||e.metaKey))return;t.isOpened()||(n+=10),t.htEditor&&t.instance._registerTimeout(function(){t.queryChoices(t.TEXTAREA.value),h=!0},n)}}t.__esModule=!0;var r=n(21),i=n(11),s=n(33),o=n(2),u=n(0),a=n(191),f=l(a),c=f.default.prototype.extend();c.prototype.init=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.default.prototype.init.apply(this,t),this.query=null,this.strippedChoices=[],this.rawChoices=[]},c.prototype.getValue=function(){var e=this,t=this.rawChoices.find(function(t){var n=e.stripValueIfNeeded(t);return n===e.TEXTAREA.value});return(0,i.isDefined)(t)?t:this.TEXTAREA.value},c.prototype.createElements=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.default.prototype.createElements.apply(this,t),(0,u.addClass)(this.htContainer,"autocompleteEditor"),(0,u.addClass)(this.htContainer,window.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll")};var h=!1;c.prototype.prepare=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.default.prototype.prepare.apply(this,t)},c.prototype.open=function(){this.instance.addHook("beforeKeyDown",p),this.TEXTAREA_PARENT.style.overflow="auto";for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.default.prototype.open.apply(this,t),this.TEXTAREA_PARENT.style.overflow="";var r=this.htEditor.getInstance(),s=this,o=this.cellProperties.trimDropdown===void 0?!0:this.cellProperties.trimDropdown;this.showEditableElement(),this.focus(),r.updateSettings({colWidths:o?[(0,u.outerWidth)(this.TEXTAREA)-2]:void 0,width:o?(0,u.outerWidth)(this.TEXTAREA)+(0,u.getScrollbarWidth)()+2:void 0,afterRenderer:function(t,n,r,o,u){var a=s.cellProperties,f=a.filteringCaseSensitive,l=a.allowHtml,c=(0,i.stringify)(u),h=void 0,p=void 0;c&&!l&&(h=f===!0?c.indexOf(this.query):c.toLowerCase().indexOf(s.query.toLowerCase()),h!==-1&&(p=c.substr(h,s.query.length),c=c.replace(p,"<strong>"+p+"</strong>"))),t.innerHTML=c},autoColumnSize:!0,modifyColWidth:function(t,n){var r=this.getPlugin("autoColumnSize").widths,i=t;return r[n]&&(i=r[n]),o?i:i+15}}),this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"]=(0,u.getScrollbarWidth)()+2+"px",h&&(h=!1),s.instance._registerTimeout(function(){s.queryChoices(s.TEXTAREA.value)})},c.prototype.queryChoices=function(e){var t=this;this.query=e;var n=this.cellProperties.source;typeof n=="function"?n.call(this.cellProperties,e,function(e){t.rawChoices=e,t.updateChoicesList(t.stripValuesIfNeeded(e))}):Array.isArray(n)?(this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))):this.updateChoicesList([])},c.prototype.updateChoicesList=function(e){var t=(0,u.getCaretPosition)(this.TEXTAREA),n=(0,u.getSelectionEndPosition)(this.TEXTAREA),r=this.cellProperties.sortByRelevance,i=this.cellProperties.filter,s=null,a=null,f=e;r&&(s=c.sortByRelevance(this.stripValueIfNeeded(this.getValue()),f,this.cellProperties.filteringCaseSensitive));var l=Array.isArray(s)?s.length:0;if(i===!1)l&&(a=s[0]);else{var h=[];for(var p=0,d=f.length;p<d;p++){if(r&&l<=p)break;l?h.push(f[s[p]]):h.push(f[p])}a=0,f=h}this.strippedChoices=f,this.htEditor.loadData((0,o.pivot)([f])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(a),this.instance.listen(!1),(0,u.setCaretPosition)(this.TEXTAREA,t,t===n?void 0:n)},c.prototype.flipDropdownIfNeeded=function(){var e=(0,u.offset)(this.TEXTAREA),t=(0,u.outerHeight)(this.TEXTAREA),n=this.getDropdownHeight(),r=(0,u.getTrimmingContainer)(this.instance.view.wt.wtTable.TABLE),i=r.scrollTop,s=(0,u.outerHeight)(this.instance.view.wt.wtTable.THEAD),o={row:0,col:0};r!==window&&(o=(0,u.offset)(r));var a=e.top-o.top-s+i,f=r.scrollHeight-a-s-t,l=n>f&&a>f;return l?this.flipDropdown(n):this.unflipDropdown(),this.limitDropdownIfNeeded(l?a:f,n),l},c.prototype.limitDropdownIfNeeded=function(e,t){if(t>e){var n=0,r=0,i=0,s=null;do i=this.htEditor.getRowHeight(r)||this.htEditor.view.wt.wtSettings.settings.defaultRowHeight,n+=i,r+=1;while(n<e);s=n-i,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=parseInt(this.htEditor.rootElement.style.top,10)+t-s+"px"),this.setDropdownHeight(n-i)}},c.prototype.flipDropdown=function(e){var t=this.htEditor.rootElement.style;t.position="absolute",t.top=-e+"px",this.htEditor.flipped=!0},c.prototype.unflipDropdown=function(){var e=this.htEditor.rootElement.style;e.position==="absolute"&&(e.position="",e.top=""),this.htEditor.flipped=void 0},c.prototype.updateDropdownHeight=function(){var e=this.htEditor.getColWidth(0)+(0,u.getScrollbarWidth)()+2,t=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:t?void 0:e}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()},c.prototype.setDropdownHeight=function(e){this.htEditor.updateSettings({height:e})},c.prototype.finishEditing=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];f.default.prototype.finishEditing.apply(this,[e].concat(n))},c.prototype.highlightBestMatchingChoice=function(e){typeof e=="number"?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()},c.sortByRelevance=function(e,t,n){var r=[],o=void 0,u=e.length,a=void 0,f=void 0,l=[],c=void 0,h=t.length;if(u===0){for(c=0;c<h;c++)l.push(c);return l}for(c=0;c<h;c++)o=(0,s.stripTags)((0,i.stringify)(t[c])),n?a=o.indexOf(e):a=o.toLowerCase().indexOf(e.toLowerCase()),a!==-1&&(f=o.length-a-u,r.push({baseIndex:c,index:a,charsLeft:f,value:o}));r.sort(function(e,t){if(t.index===-1)return-1;if(e.index===-1)return 1;if(e.index<t.index)return-1;if(t.index<e.index)return 1;if(e.index===t.index){if(e.charsLeft<t.charsLeft)return-1;if(e.charsLeft>t.charsLeft)return 1}return 0});for(c=0,h=r.length;c<h;c++)l.push(r[c].baseIndex);return l},c.prototype.getDropdownHeight=function(){var e=this.htEditor.getInstance().getRowHeight(0)||23,t=this.cellProperties.visibleRows;return this.strippedChoices.length>=t?t*e:this.strippedChoices.length*e+8},c.prototype.stripValueIfNeeded=function(e){return this.stripValuesIfNeeded([e])[0]},c.prototype.stripValuesIfNeeded=function(e){var t=this.cellProperties.allowHtml,n=(0,o.arrayMap)(e,function(e){return(0,i.stringify)(e)}),r=(0,o.arrayMap)(n,function(e){return t?e:(0,s.stripTags)(e)});return r},c.prototype.allowKeyEventPropagation=function(e){var t=this.htEditor.getSelectedRangeLast(),n={row:t?t.from.row:-1},i=!1;return e===r.KEY_CODES.ARROW_DOWN&&n.row>0&&n.row<this.htEditor.countRows()-1&&(i=!0),e===r.KEY_CODES.ARROW_UP&&n.row>-1&&(i=!0),i},c.prototype.close=function(){this.instance.removeHook("beforeKeyDown",p);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.default.prototype.close.apply(this,t)},c.prototype.discardEditor=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f.default.prototype.discardEditor.apply(this,t),this.instance.view.render()},t.default=c},function(e,t,n){function f(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(21),i=n(1),s=n(0),o=n(13),u=n(59),a=f(u),l=a.default.prototype.extend();l.prototype.createElements=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.prototype.createElements.apply(this,t);var r=document.createElement("DIV");r.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(r),this.htContainer=r,this.assignHooks()},l.prototype.prepare=function(e,t,n,r,s,o){for(var u=arguments.length,f=Array(u>6?u-6:0),l=6;l<u;l++)f[l-6]=arguments[l];a.default.prototype.prepare.apply(this,[e,t,n,r,s,o].concat(f));var c=this,h={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,afterOnCellMouseDown:function(t,n){var r=this.getSourceData(n.row,n.col);r!==void 0&&c.setValue(r),c.instance.destroyEditor()}};this.cellProperties.handsontable&&(0,i.extend)(h,o.handsontable),this.htOptions=h};var c=function(t){if((0,o.isImmediatePropagationStopped)(t))return;var n=this.getActiveEditor(),i=n.htEditor.getInstance(),s=void 0,u=void 0;if(t.keyCode===r.KEY_CODES.ARROW_DOWN){if(!i.getSelectedLast()&&!i.flipped)s=0;else if(i.getSelectedLast())if(i.flipped)s=i.getSelectedLast()[0]+1;else if(!i.flipped){var a=i.countRows()-1;u=i.getSelectedLast()[0],s=Math.min(a,u+1)}}else t.keyCode===r.KEY_CODES.ARROW_UP&&(!i.getSelectedLast()&&i.flipped?s=i.countRows()-1:i.getSelectedLast()&&(i.flipped?(u=i.getSelectedLast()[0],s=Math.max(0,u-1)):(u=i.getSelectedLast()[0],s=u-1)));s!==void 0&&(s<0||i.flipped&&s>i.countRows()-1?i.deselectCell():i.selectCell(s,0),i.getData().length&&(t.preventDefault(),(0,o.stopImmediatePropagation)(t),n.instance.listen(),n.TEXTAREA.focus()))};l.prototype.open=function(){this.instance.addHook("beforeKeyDown",c);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.prototype.open.apply(this,t),this.htEditor&&this.htEditor.destroy(),this.htContainer.style.display==="none"&&(this.htContainer.style.display=""),this.htEditor=new this.instance.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),(0,s.setCaretPosition)(this.TEXTAREA,0,this.TEXTAREA.value.length)},l.prototype.close=function(){this.htEditor.rootElement.style.display="none",this.instance.removeHook("beforeKeyDown",c);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.prototype.close.apply(this,t)},l.prototype.focus=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.prototype.focus.apply(this,t)},l.prototype.beginEditing=function(){var e=this.instance.getSettings().onBeginEditing;if(e&&e()===!1)return;for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];a.default.prototype.beginEditing.apply(this,n)},l.prototype.finishEditing=function(){this.htEditor&&this.htEditor.isListening()&&this.instance.listen();if(this.htEditor&&this.htEditor.getSelectedLast()){var e=this.htEditor.getInstance().getValue();e!==void 0&&this.setValue(e)}for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return a.default.prototype.finishEditing.apply(this,n)},l.prototype.assignHooks=function(){var e=this;this.instance.addHook("afterDestroy",function(){e.htEditor&&e.htEditor.destroy()})},t.default=l},function(e,t,n){function r(e){var t=new Date(e);return isNaN((new Date(e+"T00:00")).getDate())?t:new Date(t.getTime()+t.getTimezoneOffset()*6e4)}t.__esModule=!0,t.getNormalizedDate=r},function(e,t,n){(function(e){"use strict";function n(e){return e.split('"').length-1}var r={parse:function(t){var r,i,s,o=[],u=0,a,f,l,c;s=t.split("\n"),s.length>1&&s[s.length-1]===""&&s.pop();for(r=0,i=s.length;r<i;r+=1){s[r]=s[r].split("	");for(a=0,f=s[r].length;a<f;a+=1)o[u]||(o[u]=[]),l&&a===0?(c=o[u].length-1,o[u][c]=o[u][c]+"\n"+s[r][0],l&&n(s[r][0])&1&&(l=!1,o[u][c]=o[u][c].substring(0,o[u][c].length-1).replace(/""/g,'"'))):a===f-1&&s[r][a].indexOf('"')===0&&n(s[r][a])&1?(o[u].push(s[r][a].substring(1).replace(/""/g,'"')),l=!0):(o[u].push(s[r][a].replace(/""/g,'"')),l=!1);l||(u+=1)}return o},stringify:function(t){var n,r,i,s,o="",u;for(n=0,r=t.length;n<r;n+=1){s=t[n].length;for(i=0;i<s;i+=1)i>0&&(o+="	"),u=t[n][i],typeof u=="string"?u.indexOf("\n")>-1?o+='"'+u.replace(/"/g,'""')+'"':o+=u:u===null||u===void 0?o+="":o+=u;n!==r-1&&(o+="\n")}return o}};t.parse=r.parse,t.stringify=r.stringify})(window)},function(e,t,n){function s(e){var t=e.isShiftKey,n=e.isLeftClick,r=e.isRightClick,s=e.coords,o=e.selection,u=e.controller,a=o.isSelected()?o.getSelectedRange().current():null,f=o.isSelectedByCorner(),l=o.isSelectedByRowHeader();if(t&&a)s.row>=0&&s.col>=0&&!u.cells?o.setRangeEnd(s):(f||l)&&s.row>=0&&s.col>=0&&!u.cells?o.setRangeEnd(new i.CellCoords(s.row,s.col)):f&&s.row<0&&!u.column?o.setRangeEnd(new i.CellCoords(a.to.row,s.col)):l&&s.col<0&&!u.row?o.setRangeEnd(new i.CellCoords(s.row,a.to.col)):(!f&&!l&&s.col<0||f&&s.col<0)&&!u.row?o.selectRows(a.from.row,s.row):(!f&&!l&&s.row<0||l&&s.row<0)&&!u.column&&o.selectColumns(a.from.col,s.col);else{var c=new i.CellCoords(s.row,s.col);c.row<0&&(c.row=0),c.col<0&&(c.col=0);var h=!o.inInSelection(c),p=n||r&&h;s.row<0&&s.col>=0&&!u.column?p&&o.selectColumns(s.col):s.col<0&&s.row>=0&&!u.row?p&&o.selectRows(s.row):s.col>=0&&s.row>=0&&!u.cells?p&&o.setRangeStart(s):s.col<0&&s.row<0&&o.setRangeStart(s)}}function o(e){var t=e.isLeftClick,n=e.coords,r=e.selection,s=e.controller;if(!t)return;var o=r.isSelectedByRowHeader(),u=r.isSelectedByColumnHeader(),a=r.tableProps.countCols(),f=r.tableProps.countRows();u&&!s.column?r.setRangeEnd(new i.CellCoords(f-1,n.col)):o&&!s.row?r.setRangeEnd(new i.CellCoords(n.row,a-1)):s.cell||r.setRangeEnd(n)}function a(e,t){var n=t.coords,i=t.selection,s=t.controller;u.get(e.type)({coords:n,selection:i,controller:s,isShiftKey:e.shiftKey,isLeftClick:(0,r.isLeftClick)(e)||e.type==="touchstart",isRightClick:(0,r.isRightClick)(e)})}t.__esModule=!0,t.mouseDown=s,t.mouseOver=o,t.handleMouseEvent=a;var r=n(13),i=n(4),u=new Map([["mousedown",s],["mouseover",o],["touchstart",s]])},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){l.set(e,t)}function p(e){var t=e instanceof s.default?e:d(e),n=void 0;return c.has(t)?n=c.get(t):(n=new f(t),c.set(t,n)),n}function d(e){if(!l.has(e))throw Error("Record translator was not registered for this object identity");return l.get(e)}t.__esModule=!0,t.RecordTranslator=undefined;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.registerIdentity=h,t.getTranslator=p,t.getIdentity=d;var i=n(90),s=u(i),o=n(1),f=t.RecordTranslator=function(){function e(t){a(this,e),this.hot=t}return r(e,[{key:"toVisualRow",value:function(t){return this.hot.runHooks("unmodifyRow",t)}},{key:"toVisualColumn",value:function(t){return this.hot.runHooks("unmodifyCol",t)}},{key:"toVisual",value:function(t,n){var r=void 0;return(0,o.isObject)(t)?r={row:this.toVisualRow(t.row),column:this.toVisualColumn(t.column)}:r=[this.toVisualRow(t),this.toVisualColumn(n)],r}},{key:"toPhysicalRow",value:function(t){return this.hot.runHooks("modifyRow",t)}},{key:"toPhysicalColumn",value:function(t){return this.hot.runHooks("modifyCol",t)}},{key:"toPhysical",value:function(t,n){var r=void 0;return(0,o.isObject)(t)?r={row:this.toPhysicalRow(t.row),column:this.toPhysicalColumn(t.column)}:r=[this.toPhysicalRow(t),this.toPhysicalColumn(n)],r}}]),e}(),l=new WeakMap,c=new WeakMap},function(e,t,n){function s(e){r.set(e,!0)}function o(e){return e===i}function u(e){return r.has(e)}t.__esModule=!0,t.registerAsRootInstance=s,t.hasValidParameter=o,t.isRootInstance=u;var r=t.holder=new WeakMap,i=t.rootInstanceSymbol=Symbol("rootInstance")},function(e,t,n){function o(){}t.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(11),s=n(1);o.prototype={licenseKey:"trial",data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:void 0,colHeaders:null,colWidths:void 0,rowHeights:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:Infinity,maxCols:Infinity,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,selectionMode:"multiple",fillHandle:{autoInsertRow:!1},fixedRowsTop:0,fixedRowsBottom:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!0,autoWrapCol:!0,persistentState:void 0,currentRowClassName:void 0,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",activeHeaderClassName:"ht__active_highlight",className:void 0,tableClassName:void 0,stretchH:"none",isEmptyRow:function(t){var n=void 0,o=void 0,u=void 0,a=void 0;for(n=0,o=this.countCols();n<o;n++){u=this.getDataAtCell(t,n);if(u!==""&&u!==null&&(0,i.isDefined)(u))return(typeof u=="undefined"?"undefined":r(u))==="object"?(a=this.getCellMeta(t,n),(0,s.isObjectEqual)(this.getSchema()[a.prop],u)):!1}return!0},isEmptyCol:function(t){var n=void 0,r=void 0,s=void 0;for(n=0,r=this.countRows();n<r;n++){s=this.getDataAtCell(n,t);if(s!==""&&s!==null&&(0,i.isDefined)(s))return!1}return!0},observeDOMVisibility:!0,allowInvalid:!0,allowEmpty:!0,invalidCellClassName:"htInvalid",placeholder:void 0,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,skipColumnOnPaste:!1,search:!1,type:"text",copyable:!0,editor:void 0,visibleRows:10,trimDropdown:!0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,copyPaste:!0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,viewportRowRenderingOffset:"auto",viewportColumnRenderingOffset:"auto",validator:void 0,disableVisualSelection:!1,sortIndicator:void 0,manualColumnFreeze:void 0,trimWhitespace:!0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,label:void 0,numericFormat:void 0,language:"en-US",selectOptions:void 0,autoColumnSize:void 0,autoRowSize:void 0,dateFormat:"DD/MM/YYYY",correctFormat:!1,defaultDate:void 0,strict:void 0,allowHtml:!1,renderAllRows:void 0,preventOverflow:!1,bindRowsWithHeaders:void 0,collapsibleColumns:void 0,columnSummary:void 0,dropdownMenu:void 0,filters:void 0,formulas:void 0,ganttChart:void 0,headerTooltips:void 0,hiddenColumns:void 0,hiddenRows:void 0,nestedHeaders:void 0,trimRows:void 0,rowHeaderWidth:void 0,columnHeaderHeight:void 0,observeChanges:void 0,sortFunction:void 0,sortByRelevance:!0,filter:!0,filteringCaseSensitive:!1,dragToScroll:!0,nestedRows:void 0},t.default=o},function(e,t,n){function u(e,t,n){var r=(0,i.getLanguageDictionary)(e);if(r===null)return null;var s=r[t];if((0,o.isUndefined)(s))return null;var u=a(s,n);return Array.isArray(u)?u[0]:u}function a(e,t){var n=e;return(0,r.arrayEach)((0,s.getPhraseFormatters)(),function(r){n=r(e,t)}),n}t.__esModule=!0,t.getTranslatedPhrase=u;var r=n(2),i=n(71),s=n(271),o=n(11)},function(e,t,n){function f(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e,t){return(0,s.objectEach)(t,function(t,n){(0,i.isUndefined)(e[n])&&(e[n]=t)}),e}function c(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:e,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:t,i=n,s=r;if(e>t){var o=[s,i];i=o[0],s=o[1]}return i+"-"+s}function h(e){var t=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/,n=t.exec(e);return n?n[1].toLowerCase()+"-"+n[2].toUpperCase():e}function p(e,t){var n=h(t);(0,a.hasLanguageDictionary)(n)?e.language=n:(e.language=a.DEFAULT_LANGUAGE_CODE,d(t))}function d(e){(0,i.isDefined)(e)&&(0,o.error)((0,u.toSingleLine)(r,e))}t.__esModule=!0;var r=f(['Language with code "','" was not found. You should register particular language \n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'],['Language with code "','" was not found. You should register particular language \n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.']);t.extendNotExistingKeys=l,t.createCellHeadersRange=c,t.normalizeLanguageCode=h,t.applyLanguageSetting=p,t.warnUserAboutLanguageRegistration=d;var i=n(11),s=n(1),o=n(58),u=n(42),a=n(71)},function(e,t,n){function o(e){return e&&e.__esModule?e:{"default":e}}function l(){f===0&&(u.addEventListener(document,"keydown",function(e){a.has(e.keyCode)||a.add(e.keyCode)}),u.addEventListener(document,"keyup",function(e){a.has(e.keyCode)&&a.delete(e.keyCode)}),u.addEventListener(document,"visibilitychange",function(){document.hidden&&a.clear()})),f+=1}function c(){f>0&&(f-=1),f===0&&h()}function h(){u.clearEvents(),a.clear(),f=0}function p(e){return Array.from(a.values()).some(function(t){return(0,s.isKey)(t,e)})}function d(){var e=Array.from(a.values());return e.some(function(e){return(0,s.isCtrlMetaKey)(e)})&&e.every(function(e){return!(0,s.isPrintableChar)(e)})}function v(){return f}t.__esModule=!0,t.stopObserving=t.startObserving=t.isPressedCtrlKey=t.isPressed=t._resetState=t._getRefCount=undefined;var r=n(5),i=o(r),s=n(21),u=new i.default,a=new Set,f=0;t._getRefCount=v,t._resetState=h,t.isPressed=p,t.isPressedCtrlKey=d,t.startObserving=l,t.stopObserving=c},function(e,t,n){function f(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.normalizeSelectionFactory=t.detectSelectionType=t.Selection=t.Highlight=t.handleMouseEvent=undefined;var r=n(202),i=f(r),s=n(280),o=f(s),u=n(194),a=n(72);t.handleMouseEvent=u.handleMouseEvent,t.Highlight=i.default,t.Selection=o.default,t.detectSelectionType=a.detectSelectionType,t.normalizeSelectionFactory=a.normalizeSelectionFactory},function(e,t,n){function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.CUSTOM_SELECTION=t.HEADER_TYPE=t.FILL_TYPE=t.CELL_TYPE=t.AREA_TYPE=t.ACTIVE_HEADER_TYPE=undefined;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(273),s=n(2),a=t.ACTIVE_HEADER_TYPE="active-header",f=t.AREA_TYPE="area",l=t.CELL_TYPE="cell",c=t.FILL_TYPE="fill",h=t.HEADER_TYPE="header",p=t.CUSTOM_SELECTION="custom-selection",d=function(){function e(t){u(this,e),this.options=t,this.layerLevel=0,this.cell=(0,i.createHighlight)(l,t),this.fill=(0,i.createHighlight)(c,t),this.areas=new Map,this.headers=new Map,this.activeHeaders=new Map,this.customSelections=[]}return r(e,[{key:"isEnabledFor",value:function(t){var n=t==="current"?l:t,r=this.options.disableHighlight;return typeof r=="string"&&(r=[r]),r===!1||Array.isArray(r)&&!r.includes(n)}},{key:"useLayerLevel",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return this.layerLevel=t,this}},{key:"getCell",value:function(){return this.cell}},{key:"getFill",value:function(){return this.fill}},{key:"createOrGetArea",value:function(){var t=this.layerLevel,n=void 0;return this.areas.has(t)?n=this.areas.get(t):(n=(0,i.createHighlight)(f,Object.assign({layerLevel:t},this.options)),this.areas.set(t,n)),n}},{key:"getAreas",value:function(){return[].concat(o(this.areas.values()))}},{key:"createOrGetHeader",value:function(){var t=this.layerLevel,n=void 0;return this.headers.has(t)?n=this.headers.get(t):(n=(0,i.createHighlight)(h,Object.assign({},this.options)),this.headers.set(t,n)),n}},{key:"getHeaders",value:function(){return[].concat(o(this.headers.values()))}},{key:"createOrGetActiveHeader",value:function(){var t=this.layerLevel,n=void 0;return this.activeHeaders.has(t)?n=this.activeHeaders.get(t):(n=(0,i.createHighlight)(a,Object.assign({},this.options)),this.activeHeaders.set(t,n)),n}},{key:"getActiveHeaders",value:function(){return[].concat(o(this.activeHeaders.values()))}},{key:"getCustomSelections",value:function(){return[].concat(o(this.customSelections.values()))}},{key:"addCustomSelection",value:function(t){this.customSelections.push((0,i.createHighlight)(p,Object.assign({},t)))}},{key:"clear",value:function(){this.cell.clear(),this.fill.clear(),(0,s.arrayEach)(this.areas.values(),function(e){return void e.clear()}),(0,s.arrayEach)(this.headers.values(),function(e){return void e.clear()}),(0,s.arrayEach)(this.activeHeaders.values(),function(e){return void e.clear()})}},{key:Symbol.iterator,value:function(){return[this.cell,this.fill].concat(o(this.areas.values()),o(this.headers.values()),o(this.activeHeaders.values()),o(this.customSelections))[Symbol.iterator]()}}]),e}();t.default=d},function(e,t,n){function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),s=n(6),o=n(11),f=function(){function e(t){a(this,e),this.samples=null,this.dataFactory=t,this.customSampleCount=null,this.allowDuplicates=!1}return r(e,null,[{key:"SAMPLE_COUNT",get:function(){return 3}}]),r(e,[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:e.SAMPLE_COUNT}},{key:"setSampleCount",value:function(t){this.customSampleCount=t}},{key:"setAllowDuplicates",value:function(t){this.allowDuplicates=t}},{key:"generateRowSamples",value:function(t,n){return this.generateSamples("row",n,t)}},{key:"generateColumnSamples",value:function(t,n){return this.generateSamples("col",n,t)}},{key:"generateSamples",value:function(t,n,r){var i=this,o=new Map,u=typeof r=="number"?{from:r,to:r}:r,a=u.from,f=u.to;return(0,s.rangeEach)(a,f,function(e){var r=i.generateSample(t,n,e);o.set(e,r)}),o}},{key:"generateSample",value:function(t,n,r){var a=this;if(t!=="row"&&t!=="col")throw new Error("Unsupported sample type");var f=new Map,l=t==="row"?"col":"row",c=[];return(0,s.rangeEach)(n.from,n.to,function(e){var n=t==="row"?a.dataFactory(r,e):a.dataFactory(e,r),s=n.value,h=n.bundleCountSeed,p=h>0,d=void 0;(0,i.isObject)(s)?d=Object.keys(s).length:Array.isArray(s)?d=s.length:d=(0,o.stringify)(s).length,p&&(d+=h),f.has(d)||f.set(d,{needed:a.getSampleCount(),strings:[]});var v=f.get(d);if(v.needed){var m=c.indexOf(s)>-1;if(!m||a.allowDuplicates||p)v.strings.push(u({value:s},l,e)),c.push(s),v.needed-=1}}),f}}]),e}();t.default=f},function(e,t,n){function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6),o=0,u=1,a=2,f="px",l=function(){function e(t){s(this,e),this.hot=t,this._element=null,this.state=o}return r(e,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=a}},{key:"build",value:function(){this._element=document.createElement("div"),this.state=u}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=o}},{key:"isAppended",value:function(){return this.state===a}},{key:"isBuilt",value:function(){return this.state>=u}},{key:"setPosition",value:function(t,n){(0,i.isNumeric)(t)&&(this._element.style.top=t+f),(0,i.isNumeric)(n)&&(this._element.style.left=n+f)}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(t,n){(0,i.isNumeric)(t)&&(this._element.style.width=t+f),(0,i.isNumeric)(n)&&(this._element.style.height=n+f)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,n){(0,i.isNumeric)(t)&&(this._element.style.marginTop=t+f),(0,i.isNumeric)(n)&&(this._element.style.marginLeft=n+f)}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),e}();t.default=l},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=0,o=1,u=2,a="px",f=function(){function e(t){i(this,e),this.hot=t,this._element=null,this.state=s}return r(e,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=u}},{key:"build",value:function(){this._element=document.createElement("div"),this.state=o}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=s}},{key:"isAppended",value:function(){return this.state===u}},{key:"isBuilt",value:function(){return this.state>=o}},{key:"setPosition",value:function(t,n){t!==void 0&&(this._element.style.top=t+a),n!==void 0&&(this._element.style.left=n+a)}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(t,n){t&&(this._element.style.width=t+a),n&&(this._element.style.height=n+a)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,n){t&&(this._element.style.marginTop=t+a),n&&(this._element.style.marginLeft=n+a)}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),e}();t.default=f},function(e,t,n){function r(e,t,n,r){t?t.row===n&&t.col===r?(e.setAttribute("rowspan",t.rowspan.toString()),e.setAttribute("colspan",t.colspan.toString())):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="none"):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="")}t.__esModule=!0,t.applySpanProperties=r},function(e,t,n){function tt(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function nt(e){return e&&e.__esModule?e:{"default":e}}function rt(e,t){var n=new a.default(e,t||{},Q.rootInstanceSymbol);return n.init(),n}t.__esModule=!0,n(98),n(113),n(114),n(118),n(119),n(121),n(124),n(125),n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(135),n(136),n(137),n(138),n(139),n(140),n(141),n(143),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(88),n(158),n(159),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(169),n(170),n(171),n(173),n(174),n(175),n(226),n(227),n(228);var r=n(17),i=n(14),s=n(34),o=n(89),u=n(90),a=nt(u),f=n(283),l=nt(f),c=n(5),h=nt(c),p=n(16),d=nt(p),v=n(93),m=nt(v),g=n(2),y=tt(g),b=n(39),w=tt(b),E=n(92),S=tt(E),x=n(192),T=tt(x),N=n(40),C=tt(N),k=n(43),L=tt(k),A=n(11),O=tt(A),M=n(6),_=tt(M),D=n(1),P=tt(D),H=n(91),B=tt(H),j=n(33),F=tt(j),I=n(21),q=tt(I),R=n(0),U=tt(R),z=n(13),W=tt(z),X=n(284),V=tt(X),$=n(8),J=n(197),K=nt(J),Q=n(196),G=n(198),Y=n(7),Z=tt(Y),et=n(71);(0,l.default)(rt),rt.Core=a.default,rt.DefaultSettings=K.default,rt.EventManager=h.default,rt._getListenersCounter=c.getListenersCounter,rt.buildDate="11/09/2018 09:55:19",rt.packageName="handsontable",rt.version="5.0.2";var it="";it&&(rt.baseVersion=it),rt.hooks=d.default.getSingleton(),rt.__GhostTable=m.default;var st=[y,w,S,T,C,L,O,_,P,B,F,q],ot=[U,W];rt.helper={},rt.dom={},y.arrayEach(st,function(e){y.arrayEach(Object.getOwnPropertyNames(e),function(t){t.charAt(0)!=="_"&&(rt.helper[t]=e[t])})}),y.arrayEach(ot,function(e){y.arrayEach(Object.getOwnPropertyNames(e),function(t){t.charAt(0)!=="_"&&(rt.dom[t]=e[t])})}),rt.cellTypes={},y.arrayEach((0,o.getRegisteredCellTypeNames)(),function(e){rt.cellTypes[e]=(0,o.getCellType)(e)}),rt.cellTypes.registerCellType=o.registerCellType,rt.cellTypes.getCellType=o.getCellType,rt.editors={},y.arrayEach((0,r.getRegisteredEditorNames)(),function(e){rt.editors[F.toUpperCaseFirst(e)+"Editor"]=(0,r.getEditor)(e)}),rt.editors.registerEditor=r.registerEditor,rt.editors.getEditor=r.getEditor,rt.renderers={},y.arrayEach((0,i.getRegisteredRendererNames)(),function(e){var t=(0,i.getRenderer)(e);e==="base"&&(rt.renderers.cellDecorator=t),rt.renderers[F.toUpperCaseFirst(e)+"Renderer"]=t}),rt.renderers.registerRenderer=i.registerRenderer,rt.renderers.getRenderer=i.getRenderer,rt.validators={},y.arrayEach((0,s.getRegisteredValidatorNames)(),function(e){rt.validators[F.toUpperCaseFirst(e)+"Validator"]=(0,s.getValidator)(e)}),rt.validators.registerValidator=s.registerValidator,rt.validators.getValidator=s.getValidator,rt.plugins={},y.arrayEach(Object.getOwnPropertyNames(V),function(e){var t=V[e];e==="Base"?rt.plugins[e+"Plugin"]=t:rt.plugins[e]=t}),rt.plugins.registerPlugin=$.registerPlugin,rt.languages={},rt.languages.dictionaryKeys=Z,rt.languages.getLanguageDictionary=et.getLanguageDictionary,rt.languages.getLanguagesDictionaries=et.getLanguagesDictionaries,rt.languages.registerLanguageDictionary=et.registerLanguageDictionary,rt.languages.getTranslatedPhrase=function(){return G.getTranslatedPhrase.apply(undefined,arguments)},t.default=rt},function(e,t,n){var r=n(20),i=n(18),s=n(35);e.exports=n(22)?Object.defineProperties:function(t,n){i(t);var o=s(n),u=o.length,a=0,f;while(u>a)r.f(t,f=o[a++],n[f]);return t}},function(e,t,n){var r=n(76),i=n(51),s=n(53),o={};n(29)(o,n(12)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),s(e,t+" Iterator")}},function(e,t,n){var r=n(9),i=n(112).set;e.exports=function(e,t,n){var s=t.constructor,o;return s!==n&&typeof s=="function"&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){var r=n(212);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(9),i=n(115),s=n(12)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,typeof t=="function"&&(t===Array||i(t.prototype))&&(t=undefined),r(t)&&(t=t[s],t===null&&(t=undefined))),t===undefined?Array:t}},function(e,t,n){var r=n(18),i=n(63),s=n(12)("species");e.exports=function(e,t){var n=r(e).constructor,o;return n===undefined||(o=r(n)[s])==undefined?t:i(o)}},function(e,t){e.exports=function(e,t,n){var r=n===undefined;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(15),i=n(82).set,s=r.MutationObserver||r.WebKitMutationObserver,o=r.process,u=r.Promise,a=n(44)(o)=="process";e.exports=function(){var e,t,n,f=function(){var r,i;a&&(r=o.domain)&&r.exit();while(e){i=e.fn,e=e.next;try{i()}catch(s){throw e?n():t=undefined,s}}t=undefined,r&&r.enter()};if(a)n=function(){o.nextTick(f)};else if(s&&(!r.navigator||!r.navigator.standalone)){var l=!0,c=document.createTextNode("");(new s(f)).observe(c,{characterData:!0}),n=function(){c.data=l=!l}}else if(u&&u.resolve){var h=u.resolve(undefined);n=function(){h.then(f)}}else n=function(){i.call(r,f)};return function(r){var i={fn:r,next:undefined};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(18),i=n(9),s=n(120);e.exports=function(e,t){r(e);if(i(t)&&t.constructor===e)return t;var n=s.f(e),o=n.resolve;return o(t),n.promise}},function(e,t,n){var r=n(15),i=n(37),s=n(49),o=n(122),u=n(20).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=s?{}:r.Symbol||{});e.charAt(0)!="_"&&!(e in t)&&u(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(35),i=n(69),s=n(54);e.exports=function(e){var t=r(e),n=i.f;if(n){var o=n(e),u=s.f,a=0,f;while(o.length>a)u.call(e,f=o[a++])&&t.push(f)}return t}},function(e,t){e.exports=Object.is||function(t,n){return t===n?t!==0||1/t===1/n:t!=t&&n!=n}},function(e,t,n){var r=n(60),i=n(36);e.exports=function(e){return function(t,n){var s=String(i(t)),o=r(n),u=s.length,a,f;return o<0||o>=u?e?"":undefined:(a=s.charCodeAt(o),a<55296||a>56319||o+1===u||(f=s.charCodeAt(o+1))<56320||f>57343?e?s.charAt(o):a:e?s.slice(o,o+2):(a-55296<<10)+(f-56320)+65536)}}},function(e,t,n){var r=n(18);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(31),i=n(61),s=n(25);e.exports=[].copyWithin||function(t,n){var o=r(this),u=s(o.length),a=i(t,u),f=i(n,u),l=arguments.length>2?arguments[2]:undefined,c=Math.min((l===undefined?u:i(l,u))-f,u-a),h=1;f<a&&a<f+c&&(h=-1,f+=c-1,a+=c-1);while(c-->0)f in o?o[a]=o[f]:delete o[a],a+=h,f+=h;return o}},function(e,t,n){var r=n(31),i=n(61),s=n(25);e.exports=function(t){var n=r(this),o=s(n.length),u=arguments.length,a=i(u>1?arguments[1]:undefined,o),f=u>2?arguments[2]:undefined,l=f===undefined?o:i(f,o);while(l>a)n[a++]=t;return n}},function(e,t,n){var r=n(84),i=n(69),s=n(18),o=n(15).Reflect;e.exports=o&&o.ownKeys||function(t){var n=r.f(s(t)),o=i.f;return o?n.concat(o(t)):n}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=n(0),i=n(41),s=o(i),l=function(e){function t(e){u(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clone=n.makeClone(s.default.CLONE_DEBUG),n.clone.wtTable.holder.style.opacity=.4,n.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",(0,r.addClass)(n.clone.wtTable.holder.parentNode,"wtDebugVisible"),n}return f(t,e),t}(s.default);s.default.registerOverlay(s.default.CLONE_DEBUG,l),t.default=l},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(41),o=u(s),c=function(e){function t(e){a(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clone=n.makeClone(o.default.CLONE_LEFT),n}return l(t,e),r(t,[{key:"shouldBeRendered",value:function(){return!!this.wot.getSetting("fixedColumnsLeft")||!!this.wot.getSetting("rowHeaders").length}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return;var t=this.clone.wtTable.holder.parentNode,n=0,r=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||!!r&&r==="horizontal")n=this.getScrollPosition(),(0,i.resetCssTransform)(t);else{var s=this.wot.wtTable.hider.getBoundingClientRect(),o=Math.ceil(s.left),u=Math.ceil(s.right),a=void 0,f=void 0;f=this.wot.wtTable.hider.style.top,f=f===""?0:f,o<0&&u-t.offsetWidth>0?a=-o:a=0,n=a,a+="px",(0,i.setOverlayPosition)(t,a,f)}this.adjustHeaderBordersPosition(n),this.adjustElementsSize()}},{key:"setScrollPosition",value:function(t){var n=!1;return this.mainTableScrollableElement===window&&window.scrollX!==t?(window.scrollTo(t,(0,i.getWindowScrollTop)()),n=!0):this.mainTableScrollableElement.scrollLeft!==t&&(this.mainTableScrollableElement.scrollLeft=t,n=!0),n}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(t,n){var r=this.wot.wtSettings.defaultColumnWidth,i=t,s=0;while(i<n)s+=this.wot.wtTable.getStretchedColumnWidth(i)||r,i+=1;return s}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;this.updateTrimmingContainer();if(this.needFullRender||t)this.adjustRootElementSize(),this.adjustRootChildrenSize(),t||(this.areElementSizesAdjusted=!0)}},{key:"adjustRootElementSize",value:function(){var t=this.wot.wtTable.holder,n=t.clientHeight===t.offsetHeight?0:(0,i.getScrollbarWidth)(),r=this.clone.wtTable.holder.parentNode,s=r.style,o=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||o==="vertical"){var u=this.wot.wtViewport.getWorkspaceHeight()-n;u=Math.min(u,(0,i.innerHeight)(this.wot.wtTable.wtRootElement)),s.height=u+"px"}else s.height="";this.clone.wtTable.holder.style.height=s.height;var a=(0,i.outerWidth)(this.clone.wtTable.TABLE);s.width=(a===0?a:a+4)+"px"}},{key:"adjustRootChildrenSize",value:function(){var t=(0,i.getScrollbarWidth)();this.clone.wtTable.hider.style.height=this.hider.style.height,this.clone.wtTable.holder.style.height=this.clone.wtTable.holder.parentNode.style.height,t===0&&(t=30),this.clone.wtTable.holder.style.width=parseInt(this.clone.wtTable.holder.parentNode.style.width,10)+t+"px"}},{key:"applyToDOM",value:function(){var t=this.wot.getSetting("totalColumns");this.areElementSizesAdjusted||this.adjustElementsSize();if(typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number")this.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(t!==0)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.left="0"}this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.top=""}},{key:"scrollTo",value:function(t,n){var r=this.getTableParentOffset(),s=this.wot.cloneSource?this.wot.cloneSource:this.wot,o=s.wtTable.holder,u=0;return n&&o.offsetWidth!==o.clientWidth&&(u=(0,i.getScrollbarWidth)()),n?(r+=this.sumCellSizes(0,t+1),r-=this.wot.wtViewport.getViewportWidth()):r+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),t),r+=u,this.setScrollPosition(r)}},{key:"getTableParentOffset",value:function(){var t=this.wot.getSetting("preventOverflow"),n=0;return!t&&this.trimmingContainer===window&&(n=this.wot.wtTable.holderOffset.left),n}},{key:"getScrollPosition",value:function(){return(0,i.getScrollLeft)(this.mainTableScrollableElement)}},{key:"adjustHeaderBordersPosition",value:function(t){var n=this.wot.wtTable.holder.parentNode,r=this.wot.getSetting("rowHeaders"),s=this.wot.getSetting("fixedColumnsLeft"),o=this.wot.getSetting("totalRows");o?(0,i.removeClass)(n,"emptyRows"):(0,i.addClass)(n,"emptyRows");if(s&&!r.length)(0,i.addClass)(n,"innerBorderLeft");else if(!s&&r.length){var u=(0,i.hasClass)(n,"innerBorderLeft");t?(0,i.addClass)(n,"innerBorderLeft"):(0,i.removeClass)(n,"innerBorderLeft"),(!u&&t||u&&!t)&&this.wot.wtOverlays.adjustElementsSize()}}}]),t}(o.default);o.default.registerOverlay(o.default.CLONE_LEFT,c),t.default=c},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(2),o=n(41),u=a(o),h=function(e){function t(e){f(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clone=n.makeClone(u.default.CLONE_TOP),n}return c(t,e),r(t,[{key:"shouldBeRendered",value:function(){return!!this.wot.getSetting("fixedRowsTop")||!!this.wot.getSetting("columnHeaders").length}},{key:"resetFixedPosition",value:function(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return;var t=this.clone.wtTable.holder.parentNode,n=0,r=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||!!r&&r==="vertical")n=this.getScrollPosition(),(0,i.resetCssTransform)(t);else{var s=this.wot.wtTable.hider.getBoundingClientRect(),o=Math.ceil(s.top),u=Math.ceil(s.bottom),a=void 0,f=void 0;a=this.wot.wtTable.hider.style.left,a=a===""?0:a,o<0&&u-t.offsetHeight>0?f=-o:f=0,n=f,f+="px",(0,i.setOverlayPosition)(t,a,f)}this.adjustHeaderBordersPosition(n),this.adjustElementsSize()}},{key:"setScrollPosition",value:function(t){var n=!1;return this.mainTableScrollableElement===window&&window.scrollY!==t?(window.scrollTo((0,i.getWindowScrollLeft)(),t),n=!0):this.mainTableScrollableElement.scrollTop!==t&&(this.mainTableScrollableElement.scrollTop=t,n=!0),n}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(t,n){var r=this.wot.wtSettings.settings.defaultRowHeight,i=t,s=0;while(i<n){var o=this.wot.wtTable.getRowHeight(i);s+=o===void 0?r:o,i+=1}return s}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;this.updateTrimmingContainer();if(this.needFullRender||t)this.adjustRootElementSize(),this.adjustRootChildrenSize(),t||(this.areElementSizesAdjusted=!0)}},{key:"adjustRootElementSize",value:function(){var t=this.wot.wtTable.holder,n=t.clientWidth===t.offsetWidth?0:(0,i.getScrollbarWidth)(),r=this.clone.wtTable.holder.parentNode,s=r.style,o=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||o==="horizontal"){var u=this.wot.wtViewport.getWorkspaceWidth()-n;u=Math.min(u,(0,i.innerWidth)(this.wot.wtTable.wtRootElement)),s.width=u+"px"}else s.width="";this.clone.wtTable.holder.style.width=s.width;var a=(0,i.outerHeight)(this.clone.wtTable.TABLE);s.height=(a===0?a:a+4)+"px"}},{key:"adjustRootChildrenSize",value:function(){var t=(0,i.getScrollbarWidth)();this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,t===0&&(t=30),this.clone.wtTable.holder.style.height=parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+t+"px"}},{key:"applyToDOM",value:function(){var t=this.wot.getSetting("totalRows");this.areElementSizesAdjusted||this.adjustElementsSize();if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(t!==0)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.left=""}},{key:"scrollTo",value:function(t,n){var r=this.getTableParentOffset(),s=this.wot.cloneSource?this.wot.cloneSource:this.wot,o=s.wtTable.holder,u=0;n&&o.offsetHeight!==o.clientHeight&&(u=(0,i.getScrollbarWidth)());if(n){var a=this.wot.getSetting("fixedRowsBottom"),f=this.wot.getSetting("totalRows");r+=this.sumCellSizes(0,t+1),r-=this.wot.wtViewport.getViewportHeight()-this.sumCellSizes(f-a,f),r+=1}else r+=this.sumCellSizes(this.wot.getSetting("fixedRowsTop"),t);return r+=u,this.setScrollPosition(r)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===window?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return(0,i.getScrollTop)(this.mainTableScrollableElement)}},{key:"redrawSelectionBorders",value:function(t){if(t&&t.cellRange){var n=t.getBorder(this.wot),r=t.getCorners();n.disappear(),n.appear(r)}}},{key:"redrawAllSelectionsBorders",value:function(){var t=this,n=this.wot.selections;this.redrawSelectionBorders(n.getCell()),(0,s.arrayEach)(n.getAreas(),function(e){t.redrawSelectionBorders(e)}),this.redrawSelectionBorders(n.getFill()),this.wot.wtTable.wot.wtOverlays.leftOverlay.refresh()}},{key:"adjustHeaderBordersPosition",value:function(t){var n=this.wot.wtTable.holder.parentNode,r=this.wot.getSetting("totalColumns");r?(0,i.removeClass)(n,"emptyColumns"):(0,i.addClass)(n,"emptyColumns");if(this.wot.getSetting("fixedRowsTop")===0&&this.wot.getSetting("columnHeaders").length>0){var s=(0,i.hasClass)(n,"innerBorderTop");t||this.wot.getSetting("totalRows")===0?(0,i.addClass)(n,"innerBorderTop"):(0,i.removeClass)(n,"innerBorderTop");if(!s&&t||s&&!t)this.wot.wtOverlays.adjustElementsSize(),this.redrawAllSelectionsBorders()}if(this.wot.getSetting("rowHeaders").length===0){var o=this.clone.wtTable.THEAD.querySelectorAll("th:nth-of-type(2)");if(o)for(var u=0;u<o.length;u++)o[u].style["border-left-width"]=0}}}]),t}(u.default);u.default.registerOverlay(u.default.CLONE_TOP,h),t.default=h},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(41),o=u(s),c=function(e){function t(e){a(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clone=n.makeClone(o.default.CLONE_TOP_LEFT_CORNER),n}return l(t,e),r(t,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length||!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)}},{key:"resetFixedPosition",value:function(){this.updateTrimmingContainer();if(!this.wot.wtTable.holder.parentNode)return;var t=this.clone.wtTable.holder.parentNode,n=(0,i.outerHeight)(this.clone.wtTable.TABLE),r=(0,i.outerWidth)(this.clone.wtTable.TABLE),s=this.wot.getSetting("preventOverflow");if(this.trimmingContainer===window){var o=this.wot.wtTable.hider.getBoundingClientRect(),u=Math.ceil(o.top),a=Math.ceil(o.left),f=Math.ceil(o.bottom),l=Math.ceil(o.right),c="0",h="0";(!s||s==="vertical")&&a<0&&l-t.offsetWidth>0&&(c=-a+"px"),(!s||s==="horizontal")&&u<0&&f-t.offsetHeight>0&&(h=-u+"px"),(0,i.setOverlayPosition)(t,c,h)}else(0,i.resetCssTransform)(t);t.style.height=(n===0?n:n+4)+"px",t.style.width=(r===0?r:r+4)+"px"}}]),t}(o.default);o.default.registerOverlay(o.default.CLONE_TOP_LEFT_CORNER,c),t.default=c},function(e,t,n){function p(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=n(189),a=p(u),f=n(56),l=p(f),c=n(178),h=p(c),v=function(){function e(t,n){d(this,e),this.settings=t,this.cellRange=n||null,this.instanceBorders={},this.classNames=[this.settings.className],this.classNameGenerator=this.linearClassNameGenerator(this.settings.className,this.settings.layerLevel)}return s(e,[{key:"getBorder",value:function(t){return this.instanceBorders[t.guid]||(this.instanceBorders[t.guid]=new a.default(t,this.settings)),this.instanceBorders[t.guid]}},{key:"isEmpty",value:function(){return this.cellRange===null}},{key:"add",value:function(t){return this.isEmpty()?this.cellRange=new h.default(t):this.cellRange.expand(t),this}},{key:"replace",value:function(t,n){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=n,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=n,!0}return!1}},{key:"clear",value:function(){return this.cellRange=null,this}},{key:"getCorners",value:function(){var t=this.cellRange.getTopLeftCorner(),n=this.cellRange.getBottomRightCorner();return[t.row,t.col,n.row,n.col]}},{key:"addClassAtCoords",value:function(t,n,r,s){var u=arguments.length>4&&arguments[4]!==undefined?arguments[4]:!1,a=t.wtTable.getCell(new l.default(n,r));if((typeof a=="undefined"?"undefined":i(a))==="object"){var f=s;u&&(f=this.classNameGenerator(a),this.classNames.includes(f)||this.classNames.push(f)),(0,o.addClass)(a,f)}return this}},{key:"linearClassNameGenerator",value:function(t,n){return function r(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;if(n===0||i===0)return t;var s=i>=0?i:n,u=t;s-=1;var a=s===0?t:t+"-"+s;if((0,o.hasClass)(e,a)){var f=s+1;u=t+"-"+f}else u=r(e,s);return u}}},{key:"draw",value:function(t){if(this.isEmpty()){this.settings.border&&this.getBorder(t).disappear();return}var n=t.wtTable.getRenderedRowsCount(),i=t.wtTable.getRenderedColumnsCount(),s=this.getCorners(),u=r(s,4),a=u[0],f=u[1],l=u[2],c=u[3];for(var h=0;h<i;h+=1){var p=t.wtTable.columnFilter.renderedToSource(h);if(p>=f&&p<=c){var d=t.wtTable.getColumnHeader(p);if(d){var v=[];this.settings.highlightHeaderClassName&&v.push(this.settings.highlightHeaderClassName),this.settings.highlightColumnClassName&&v.push(this.settings.highlightColumnClassName),(0,o.addClass)(d,v)}}}for(var m=0;m<n;m+=1){var g=t.wtTable.rowFilter.renderedToSource(m);if(g>=a&&g<=l){var y=t.wtTable.getRowHeader(g);if(y){var b=[];this.settings.highlightHeaderClassName&&b.push(this.settings.highlightHeaderClassName),this.settings.highlightRowClassName&&b.push(this.settings.highlightRowClassName),(0,o.addClass)(y,b)}}for(var w=0;w<i;w+=1){var E=t.wtTable.columnFilter.renderedToSource(w);g>=a&&g<=l&&E>=f&&E<=c?this.settings.className&&this.addClassAtCoords(t,g,E,this.settings.className,this.settings.markIntersections):g>=a&&g<=l?this.settings.highlightRowClassName&&this.addClassAtCoords(t,g,E,this.settings.highlightRowClassName):E>=f&&E<=c&&this.settings.highlightColumnClassName&&this.addClassAtCoords(t,g,E,this.settings.highlightColumnClassName);var S=t.getSetting("onAfterDrawSelection",g,E,s,this.settings.layerLevel);typeof S=="string"&&this.addClassAtCoords(t,g,E,S)}}t.getSetting("onBeforeDrawBorders",s,this.settings.className),this.settings.border&&this.getBorder(t).appear(s)}}]),e}();t.default=v},function(e,t,n){function r(){function c(e){return e.currentStyle||document.defaultView.getComputedStyle(e)}var e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},t,n=document.body,r=document.createTextNode(""),i=document.createElement("SPAN"),s=function(t,n,r){t.addEventListener(n,r,!1)},o=function(t,n,r){t.removeEventListener(n,r,!1)},u=function(o){var u,a;o?/^[a-zA-Z \.,\\\/\|0-9]$/.test(o)||(o="."):o="",r.textContent!==void 0?r.textContent=t.value+o:r.data=t.value+o,i.style.fontSize=c(t).fontSize,i.style.fontFamily=c(t).fontFamily,i.style.whiteSpace="pre",n.appendChild(i),u=i.clientWidth+2,n.removeChild(i),t.style.height=e.minHeight+"px",e.minWidth>u?t.style.width=e.minWidth+"px":u>e.maxWidth?t.style.width=e.maxWidth+"px":t.style.width=u+"px",a=t.scrollHeight?t.scrollHeight-1:0,e.minHeight>a?t.style.height=e.minHeight+"px":e.maxHeight<a?(t.style.height=e.maxHeight+"px",t.style.overflowY="visible"):t.style.height=a+"px"},a=function(){window.setTimeout(u,0)},f=function(s){if(s&&s.minHeight)if(s.minHeight=="inherit")e.minHeight=t.clientHeight;else{var o=parseInt(s.minHeight);isNaN(o)||(e.minHeight=o)}if(s&&s.maxHeight)if(s.maxHeight=="inherit")e.maxHeight=t.clientHeight;else{var u=parseInt(s.maxHeight);isNaN(u)||(e.maxHeight=u)}if(s&&s.minWidth)if(s.minWidth=="inherit")e.minWidth=t.clientWidth;else{var a=parseInt(s.minWidth);isNaN(a)||(e.minWidth=a)}if(s&&s.maxWidth)if(s.maxWidth=="inherit")e.maxWidth=t.clientWidth;else{var f=parseInt(s.maxWidth);isNaN(f)||(e.maxWidth=f)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(r))},l=function(r,i,o){t=r,f(i),t.nodeName=="TEXTAREA"&&(t.style.resize="none",t.style.overflowY="",t.style.height=e.minHeight+"px",t.style.minWidth=e.minWidth+"px",t.style.maxWidth=e.maxWidth+"px",t.style.overflowY="hidden"),o&&(s(t,"change",u),s(t,"cut",a),s(t,"paste",a),s(t,"drop",a),s(t,"keydown",a),s(t,"focus",u),s(t,"compositionstart",a),s(t,"compositionupdate",a),s(t,"compositionend",a)),u()};return{init:function(t,n,r){l(t,n,r)},unObserve:function(){o(t,"change",u),o(t,"cut",a),o(t,"paste",a),o(t,"drop",a),o(t,"keydown",a),o(t,"focus",u),o(t,"compositionstart",a),o(t,"compositionupdate",a),o(t,"compositionend",a)},resize:u}}e.exports=r},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(55),s=u(i),o=n(0),c=function(e){function t(){return a(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),r(t,[{key:"beginEditing",value:function(t,n){if(n&&n.type==="mouseup"){var r=this.TD.querySelector('input[type="checkbox"]');(0,o.hasClass)(r,"htBadValue")||r.click()}}},{key:"finishEditing",value:function(){}},{key:"init",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"focus",value:function(){}}]),t}(s.default);t.default=c},function(e,t,n){function g(e){return e&&e.__esModule?e:{"default":e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function w(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function S(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:S(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(57),o=g(s),u=n(237),a=g(u);n(238);var f=n(0),l=n(1),c=n(5),h=g(c),p=n(21),d=n(13),v=n(59),m=g(v),E=function(e){function t(e){y(this,t);var n=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.defaultDateFormat="DD/MM/YYYY",n.isCellEdited=!1,n.parentDestroyed=!1,n}return w(t,e),r(t,[{key:"init",value:function(){var n=this;if(typeof o.default!="function")throw new Error("You need to include moment.js to your project.");if(typeof a.default!="function")throw new Error("You need to include Pikaday to your project.");i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this.instance.addHook("afterDestroy",function(){n.parentDestroyed=!0,n.destroyElements()})}},{key:"createElements",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createElements",this).call(this),this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,(0,f.addClass)(this.datePicker,"htDatepickerHolder"),document.body.appendChild(this.datePicker),this.$datePicker=new a.default(this.getDatePickerConfig());var n=new h.default(this);n.addEventListener(this.datePicker,"mousedown",function(e){return(0,d.stopPropagation)(e)}),this.hideDatepicker()}},{key:"destroyElements",value:function(){this.$datePicker.destroy()}},{key:"prepare",value:function(n,r,s,o,u,a){this._opened=!1,i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepare",this).call(this,n,r,s,o,u,a)}},{key:"open",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this),this.showDatepicker(n)}},{key:"close",value:function(){var n=this;this._opened=!1,this.instance._registerTimeout(function(){n.instance._refreshBorders()}),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this)}},{key:"finishEditing",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;if(n){var s=this.originalValue;s!==void 0&&this.setValue(s)}this.hideDatepicker(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"finishEditing",this).call(this,n,r)}},{key:"showDatepicker",value:function(t){this.$datePicker.config(this.getDatePickerConfig());var n=this.TD.getBoundingClientRect(),r=this.cellProperties.dateFormat||this.defaultDateFormat,i=this.$datePicker.config(),s=void 0,u=this.instance.view.isMouseDown(),a=t?(0,p.isMetaKey)(t.keyCode):!1;this.datePickerStyle.top=window.pageYOffset+n.top+(0,f.outerHeight)(this.TD)+"px",this.datePickerStyle.left=window.pageXOffset+n.left+"px",this.$datePicker._onInputFocus=function(){},i.format=r,this.originalValue?(s=this.originalValue,(0,o.default)(s,r,!0).isValid()&&this.$datePicker.setMoment((0,o.default)(s,r),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!a&&!u&&this.setValue("")):this.cellProperties.defaultDate?(s=this.cellProperties.defaultDate,i.defaultDate=s,(0,o.default)(s,r,!0).isValid()&&this.$datePicker.setMoment((0,o.default)(s,r),!0),!a&&!u&&this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block",this.$datePicker.show()}},{key:"hideDatepicker",value:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{key:"getDatePickerConfig",value:function(){var t=this,n=this.TEXTAREA,r={};this.cellProperties&&this.cellProperties.datePickerConfig&&(0,l.deepExtend)(r,this.cellProperties.datePickerConfig);var i=r.onSelect,s=r.onClose;return r.field=n,r.trigger=n,r.container=this.datePicker,r.bound=!1,r.format=r.format||this.defaultDateFormat,r.reposition=r.reposition||!1,r.onSelect=function(e){var n=e;isNaN(n.getTime())||(n=(0,o.default)(n).format(t.cellProperties.dateFormat||t.defaultDateFormat)),t.setValue(n),t.hideDatepicker(),i&&i()},r.onClose=function(){t.parentDestroyed||t.finishEditing(!1),s&&s()},r}}]),t}(m.default);t.default=E},function(e,t){e.exports=n},function(e,t){},function(e,t,n){function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function h(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function d(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:d(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(190),o=f(s),u=n(16),a=f(u),p=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),r(t,[{key:"prepare",value:function(n,r,s,o,u,a){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepare",this).call(this,n,r,s,o,u,a),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}]),t}(o.default);a.default.getSingleton().add("beforeValidate",function(e,t,n){var r=this.getCellMeta(t,this.propToCol(n));r.editor===p&&r.strict===void 0&&(r.filter=!1,r.strict=!0)}),t.default=p},function(e,t,n){function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function a(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=n(59),i=s(r),f=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(i.default);t.default=f},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function p(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:p(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(0),o=n(59),u=a(o),h=function(e){function t(){return f(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),r(t,[{key:"createElements",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createElements",this).call(this),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,(0,s.empty)(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}]),t}(u.default);t.default=h},function(e,t,n){function l(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),s=n(13),o=n(21),u=n(55),a=l(u),f=n(1),c=a.default.prototype.extend();c.prototype.init=function(){this.select=document.createElement("SELECT"),(0,i.addClass)(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select),this.registerHooks()},c.prototype.registerHooks=function(){var e=this;this.instance.addHook("afterScrollHorizontally",function(){return e.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){return e.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){return e.refreshDimensions()}),this.instance.addHook("afterRowResize",function(){return e.refreshDimensions()})},c.prototype.prepare=function(){var e=this;for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];a.default.prototype.prepare.apply(this,n);var s=this.cellProperties.selectOptions,o=void 0;typeof s=="function"?o=this.prepareOptions(s(this.row,this.col,this.prop)):o=this.prepareOptions(s),(0,i.empty)(this.select),(0,f.objectEach)(o,function(t,n){var r=document.createElement("OPTION");r.value=n,(0,i.fastInnerHTML)(r,t),e.select.appendChild(r)})},c.prototype.prepareOptions=function(e){var t={};if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)t[e[n]]=e[n];else(typeof e=="undefined"?"undefined":r(e))==="object"&&(t=e);return t},c.prototype.getValue=function(){return this.select.value},c.prototype.setValue=function(e){this.select.value=e};var h=function(t){var n=this,r=n.getActiveEditor(),i=r.select.selectedIndex-1,u=r.select.selectedIndex+1;switch(t.keyCode){case o.KEY_CODES.ARROW_UP:i>=0&&(r.select[i].selected=!0),(0,s.stopImmediatePropagation)(t),t.preventDefault();break;case o.KEY_CODES.ARROW_DOWN:u<=r.select.length-1&&(r.select[u].selected=!0),(0,s.stopImmediatePropagation)(t),t.preventDefault();break;default:}};c.prototype.open=function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.instance.addHook("beforeKeyDown",h)},c.prototype.close=function(){this._opened=!1,this.select.style.display="none",this.instance.removeHook("beforeKeyDown",h)},c.prototype.focus=function(){this.select.focus()},c.prototype.refreshValue=function(){var e=this.instance.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()},c.prototype.refreshDimensions=function(){if(this.state!==u.EditorState.EDITING)return;this.TD=this.getEditedCell();if(!this.TD){this.close();return}var e=(0,i.offset)(this.TD),t=(0,i.offset)(this.instance.rootElement),n=(0,i.getScrollableElement)(this.TD),r=this.checkEditorSection(),s=(0,i.outerWidth)(this.TD)+1,o=(0,i.outerHeight)(this.TD)+1,a=e.top-t.top-1-(n.scrollTop||0),f=e.left-t.left-1-(n.scrollLeft||0),l=void 0;switch(r){case"top":l=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":l=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":l=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":l=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":l=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode);break;default:}this.instance.getSelectedLast()[0]===0&&(a+=1),this.instance.getSelectedLast()[1]===0&&(f+=1);var c=this.select.style;l&&l!==-1?c[l[0]]=l[1]:(0,i.resetCssTransform)(this.select);var h=(0,i.getComputedStyle)(this.TD);parseInt(h.borderTopWidth,10)>0&&(o-=1),parseInt(h.borderLeftWidth,10)>0&&(s-=1),c.height=o+"px",c.minWidth=s+"px",c.top=a+"px",c.left=f+"px",c.margin="0px"},c.prototype.getEditedCell=function(){var e=this.checkEditorSection(),t=void 0;switch(e){case"top":t=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=101;break;case"corner":t=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=103;break;case"left":t=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.select.style.zIndex=""}return t!==-1&&t!==-2?t:void 0},t.default=c},function(e,t,n){function i(e,t,n,i,s,o,u){var a=[],f=[];u.className&&(t.className?t.className=t.className+" "+u.className:t.className=u.className),u.readOnly&&a.push(u.readOnlyCellClassName),u.valid===!1&&u.invalidCellClassName?a.push(u.invalidCellClassName):f.push(u.invalidCellClassName),u.wordWrap===!1&&u.noWordWrapClassName&&a.push(u.noWordWrapClassName),!o&&u.placeholder&&a.push(u.placeholderCellClassName),(0,r.removeClass)(t,f),(0,r.addClass)(t,a)}t.__esModule=!0;var r=n(0);t.default=i},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function c(e,t,n,i,a,f,c){var h=c.allowHtml?"html":"text",p=l.cloneNode(!0);for(var d=arguments.length,v=Array(d>7?d-7:0),m=7;m<d;m++)v[m-7]=arguments[m];(0,u.getRenderer)(h).apply(this,[e,t,n,i,a,f,c].concat(v)),t.firstChild||t.appendChild(document.createTextNode(String.fromCharCode(160))),t.insertBefore(p,t.firstChild),(0,r.addClass)(t,"htAutocomplete");if(!e.acArrowListener){var g=new s.default(e);e.acArrowListener=function(s){(0,r.hasClass)(s.target,"htAutocompleteArrow")&&e.view.wt.getSetting("onCellDblClick",null,new o.CellCoords(n,i),t)},g.addEventListener(e.rootElement,"mousedown",e.acArrowListener),e.addHookOnce("afterDestroy",function(){g.destroy()})}}t.__esModule=!0;var r=n(0),i=n(5),s=a(i),o=n(4),u=n(14),f=document.createElement("DIV");f.className="htAutocompleteWrapper";var l=document.createElement("DIV");l.className="htAutocompleteArrow",l.appendChild(document.createTextNode(String.fromCharCode(9660))),t.default=c},function(e,t,n){function c(e){return e&&e.__esModule?e:{"default":e}}function v(e,t,n,s,o,c,p){function C(e){var t="SPACE|ENTER",n="DELETE|BACKSPACE",r=(0,a.partial)(u.isKey,e.keyCode);r(t+"|"+n)&&!(0,f.isImmediatePropagationStopped)(e)&&L(function(){(0,f.stopImmediatePropagation)(e),e.preventDefault()}),r(t)&&k(),r(n)&&k(!0)}function k(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,n=e.getSelectedRangeLast();if(!n)return;var r=n.getTopLeftCorner(),i=r.row,s=r.col,o=n.getBottomRightCorner(),u=o.row,a=o.col,f=[];for(var l=i;l<=u;l+=1)for(var c=s;c<=a;c+=1){var h=e.getCellMeta(l,c);if(h.type!=="checkbox")return;if(h.readOnly===!0)continue;typeof h.checkedTemplate=="undefined"&&(h.checkedTemplate=!0),typeof h.uncheckedTemplate=="undefined"&&(h.uncheckedTemplate=!1);var p=e.getDataAtCell(l,c);t===!1?[h.checkedTemplate,h.checkedTemplate.toString()].includes(p)?f.push([l,c,h.uncheckedTemplate]):[h.uncheckedTemplate,h.uncheckedTemplate.toString(),null,void 0].includes(p)&&f.push([l,c,h.checkedTemplate]):f.push([l,c,h.uncheckedTemplate])}f.length>0&&e.setDataAtCell(f)}function L(t){var n=e.getSelectedRangeLast();if(!n)return;var r=n.getTopLeftCorner(),i=n.getBottomRightCorner();for(var s=r.row;s<=i.row;s++)for(var o=r.col;o<=i.col;o++){var u=e.getCellMeta(s,o);if(u.type!=="checkbox")return;var a=e.getCell(s,o);if(a===null||a===void 0)t(s,o,u);else{var f=a.querySelectorAll("input[type=checkbox]");f.length>0&&!u.readOnly&&t(f)}}}for(var v=arguments.length,b=Array(v>7?v-7:0),w=7;w<v;w++)b[w-7]=arguments[w];(0,l.getRenderer)("base").apply(this,[e,t,n,s,o,c,p].concat(b)),m(e);var E=g(),S=p.label,x=!1;typeof p.checkedTemplate=="undefined"&&(p.checkedTemplate=!0),typeof p.uncheckedTemplate=="undefined"&&(p.uncheckedTemplate=!1),(0,r.empty)(t),c===p.checkedTemplate||(0,i.equalsIgnoreCase)(c,p.checkedTemplate)?E.checked=!0:c===p.uncheckedTemplate||(0,i.equalsIgnoreCase)(c,p.uncheckedTemplate)?E.checked=!1:c===null?(0,r.addClass)(E,"noValue"):(E.style.display="none",(0,r.addClass)(E,d),x=!0),E.setAttribute("data-row",n),E.setAttribute("data-col",s);if(!x&&S){var T="";S.value?T=typeof S.value=="function"?S.value.call(this,n,s,o,c):S.value:S.property&&(T=e.getDataAtRowProp(n,S.property));var N=y(T);S.position==="before"?N.appendChild(E):N.insertBefore(E,N.firstChild),E=N}t.appendChild(E),x&&t.appendChild(document.createTextNode("#bad-value#")),h.has(e)||(h.set(e,!0),e.addHook("beforeKeyDown",C))}function m(e){var t=p.get(e);return t||(t=new o.default(e),t.addEventListener(e.rootElement,"click",function(t){return w(t,e)}),t.addEventListener(e.rootElement,"mouseup",function(t){return b(t,e)}),t.addEventListener(e.rootElement,"change",function(t){return E(t,e)}),p.set(e,t)),t}function g(){var e=document.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("autocomplete","off"),e.setAttribute("tabindex","-1"),e.cloneNode(!1)}function y(e){var t=document.createElement("label");return t.className="htCheckboxRendererLabel",t.appendChild(document.createTextNode(e)),t.cloneNode(!0)}function b(e,t){if(!S(e.target))return;setTimeout(t.listen,10)}function w(e,t){if(!S(e.target))return!1;var n=parseInt(e.target.getAttribute("data-row"),10),r=parseInt(e.target.getAttribute("data-col"),10),i=t.getCellMeta(n,r);i.readOnly&&e.preventDefault()}function E(e,t){if(!S(e.target))return!1;var n=parseInt(e.target.getAttribute("data-row"),10),r=parseInt(e.target.getAttribute("data-col"),10),i=t.getCellMeta(n,r);if(!i.readOnly){var s=null;e.target.checked?s=i.uncheckedTemplate===void 0?!0:i.checkedTemplate:s=i.uncheckedTemplate===void 0?!1:i.uncheckedTemplate,t.setDataAtCell(n,r,s)}}function S(e){return e.tagName==="INPUT"&&e.getAttribute("type")==="checkbox"}t.__esModule=!0;var r=n(0),i=n(33),s=n(5),o=c(s),u=n(21),a=n(43),f=n(13),l=n(14),h=new WeakMap,p=new WeakMap,d="htBadValue";t.default=v},function(e,t,n){function s(e,t,n,s,o,u){for(var a=arguments.length,f=Array(a>6?a-6:0),l=6;l<a;l++)f[l-6]=arguments[l];(0,i.getRenderer)("base").apply(this,[e,t,n,s,o,u].concat(f)),(0,r.fastInnerHTML)(t,u===null||u===void 0?"":u)}t.__esModule=!0;var r=n(0),i=n(14);t.default=s},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n,r,u,a,f){var l=a;if((0,o.isNumeric)(l)){var c=f.numericFormat,h=c&&c.culture||"-",p=c&&c.pattern,d=f.className||"",v=d.length?d.split(" "):[];if(typeof h!="undefined"&&!i.default.languages()[h]){var m=h.replace("-",""),g=i.default.allLanguages?i.default.allLanguages[h]:i.default[m];g&&i.default.registerLanguage(g)}i.default.setLanguage(h),l=(0,i.default)(l).format(p||"0"),v.indexOf("htLeft")<0&&v.indexOf("htCenter")<0&&v.indexOf("htRight")<0&&v.indexOf("htJustify")<0&&v.push("htRight"),v.indexOf("htNumeric")<0&&v.push("htNumeric"),f.className=v.join(" ")}(0,s.getRenderer)("text")(e,t,n,r,u,l,f)}t.__esModule=!0;var r=n(248),i=u(r),s=n(14),o=n(6);t.default=a},function(e,n){e.exports=t},function(e,t,n){function o(e,t,n,o,u,a,f){for(var l=arguments.length,c=Array(l>7?l-7:0),h=7;h<l;h++)c[h-7]=arguments[h];(0,i.getRenderer)("text").apply(this,[e,t,n,o,u,a,f].concat(c));var p=f.hashLength||t.innerHTML.length,d=f.hashSymbol||"*",v="";(0,s.rangeEach)(p-1,function(){v+=d}),(0,r.fastInnerHTML)(t,v)}t.__esModule=!0;var r=n(0),i=n(14),s=n(6);t.default=o},function(e,t,n){function o(e,t,n,o,u,a,f){for(var l=arguments.length,c=Array(l>7?l-7:0),h=7;h<l;h++)c[h-7]=arguments[h];(0,s.getRenderer)("base").apply(this,[e,t,n,o,u,a,f].concat(c));var p=a;!p&&f.placeholder&&(p=f.placeholder),p=(0,i.stringify)(p),e.getSettings().trimWhitespace||(p=p.replace(/ /g,String.fromCharCode(160)));if(f.rendererTemplate){(0,r.empty)(t);var d=document.createElement("TEMPLATE");d.setAttribute("bind","{{}}"),d.innerHTML=f.rendererTemplate,HTMLTemplateElement.decorate(d),d.model=e.getSourceDataAtRow(n),t.appendChild(d)}else(0,r.fastInnerText)(t,p)}t.__esModule=!0;var r=n(0),i=n(11),s=n(14);t.default=o},function(e,t,n){function r(e,t){var n=e;if(n===null||n===void 0)n="";if(this.allowEmpty&&n===""){t(!0);return}this.strict&&this.source?typeof this.source=="function"?this.source(n,i(n,t)):i(n,t)(this.source):t(!0)}function i(e,t){var n=e;return function(e){var r=!1;for(var i=0,s=e.length;i<s;i++)if(n===e[i]){r=!0;break}t(r)}}t.__esModule=!0,t.default=r},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n=(0,o.getEditorInstance)("date",this.instance),r=e,s=!0;if(r===null||r===void 0)r="";var u=(0,i.default)(new Date(r)).isValid()||(0,i.default)(r,n.defaultDateFormat).isValid(),a=(0,i.default)(r,this.dateFormat||n.defaultDateFormat,!0).isValid();this.allowEmpty&&r===""&&(u=!0,a=!0),u||(s=!1),!u&&a&&(s=!0);if(u&&!a)if(this.correctFormat===!0){var l=f(r,this.dateFormat),c=this.instance.runHooks("unmodifyRow",this.row),h=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(c,h,l,"dateValidator"),s=!0}else s=!1;t(s)}function f(e,t){var n=(0,i.default)((0,s.getNormalizedDate)(e)),r=(0,i.default)(e,t),o=e.search(/[A-z]/g)>-1,u=void 0;return n.isValid()&&n.format("x")===r.format("x")||!r.isValid()||o?u=n:u=r,u.format(t)}t.__esModule=!0,t.default=a,t.correctFormat=f;var r=n(57),i=u(r),s=n(192),o=n(17)},function(e,t,n){function r(e,t){var n=e;if(n===null||n===void 0)n="";this.allowEmpty&&n===""?t(!0):n===""?t(!1):t(/^-?\d*(\.|,)?\d*$/.test(n))}t.__esModule=!0,t.default=r},function(e,t,n){function s(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){var n=this.timeFormat||"h:mm:ss a",r=!0,s=e;s===null&&(s=""),s=/^\d{3,}$/.test(s)?parseInt(s,10):s;var u=/^\d{1,2}$/.test(s);u&&(s+=":00");var a=(0,i.default)(s,o,!0).isValid()?(0,i.default)(s):(0,i.default)(s,n),f=a.isValid(),l=(0,i.default)(s,n,!0).isValid()&&!u;this.allowEmpty&&s===""&&(f=!0,l=!0),f||(r=!1),!f&&l&&(r=!0);if(f&&!l)if(this.correctFormat===!0){var c=a.format(n),h=this.instance.runHooks("unmodifyRow",this.row),p=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(h,p,c,"timeValidator"),r=!0}else r=!1;t(r)}t.__esModule=!0,t.default=u;var r=n(57),i=s(r),o=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"]},function(e,t,n){t.__esModule=!0;var r=n(17),i=n(14),s=n(34),o="autocomplete";t.default={editor:(0,r.getEditor)(o),renderer:(0,i.getRenderer)(o),validator:(0,s.getValidator)(o)}},function(e,t,n){t.__esModule=!0;var r=n(17),i=n(14),s="checkbox";t.default={editor:(0,r.getEditor)(s),renderer:(0,i.getRenderer)(s)}},function(e,t,n){t.__esModule=!0;var r=n(17),i=n(14),s=n(34),o="date";t.default={editor:(0,r.getEditor)(o),renderer:(0,i.getRenderer)("autocomplete"),validator:(0,s.getValidator)(o)}},function(e,t,n){t.__esModule=!0;var r=n(17),i=n(14),s=n(34),o="dropdown";t.default={editor:(0,r.getEditor)(o),renderer:(0,i.getRenderer)("autocomplete"),validator:(0,s.getValidator)("autocomplete")}},function(e,t,n){t.__esModule=!0;var r=n(17),i=n(14),s="handsontable";t.default={editor:(0,r.getEditor)(s),renderer:(0,i.getRenderer)("autocomplete")}},function(e,t,n){t.__esModule=!0;var r=n(17),i=n(14),s=n(34),o="numeric";t.default={editor:(0,r.getEditor)(o),renderer:(0,i.getRenderer)(o),validator:(0,s.getValidator)(o),dataType:"number"}},function(e,t,n){t.__esModule=!0;var r=n(17),i=n(14),s="password";t.default={editor:(0,r.getEditor)(s),renderer:(0,i.getRenderer)(s),copyable:!1}},function(e,t,n){t.__esModule=!0;var r=n(17),i=n(14),s="text";t.default={editor:(0,r.getEditor)(s),renderer:(0,i.getRenderer)(s)}},function(e,t,n){t.__esModule=!0;var r=n(17),i=n(14),s=n(34),o="time";t.default={editor:(0,r.getEditor)("text"),renderer:(0,i.getRenderer)("text"),validator:(0,s.getValidator)(o)}},function(e,t,n){function v(e){return e&&e.__esModule?e:{"default":e}}function m(e,t,n){var r=this;this.instance=e,this.priv=t,this.GridSettings=n,this.dataSource=this.instance.getSettings().data,this.cachedLength=null,this.skipCache=!1,this.latestSourceRowsCount=0,this.dataSource&&this.dataSource[0]?this.duckSchema=this.recursiveDuckSchema(this.dataSource[0]):this.duckSchema={},this.createMap(),this.interval=c.default.create(function(){return r.clearLengthCache()},"15fps"),this.instance.addHook("skipLengthCache",function(e){return r.onSkipLengthCache(e)}),this.onSkipLengthCache(500)}t.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(193),s=v(i),o=n(92),u=n(91),a=n(1),f=n(2),l=n(265),c=v(l),h=n(6),p=n(266),d=v(p);m.prototype.DESTINATION_RENDERER=1,m.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,m.prototype.recursiveDuckSchema=function(e){return(0,a.duckSchema)(e)},m.prototype.recursiveDuckColumns=function(e,t,n){var i=this,s=t,o=n,u=void 0;return typeof s=="undefined"&&(s=0,o=""),(typeof e=="undefined"?"undefined":r(e))==="object"&&!Array.isArray(e)&&(0,a.objectEach)(e,function(e,t){e===null?(u=o+t,i.colToPropCache.push(u),i.propToColCache.set(u,s),s+=1):s=i.recursiveDuckColumns(e,s,t+".")}),s},m.prototype.createMap=function(){var e=void 0,t=this.getSchema();if(typeof t=="undefined")throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new d.default;var n=this.instance.getSettings().columns;if(n){var r=this.instance.getSettings().maxCols,i=Math.min(r,n.length),s=0,o=!1,u=(0,a.deepObjectSize)(t);typeof n=="function"&&(i=u>0?u:this.instance.countSourceCols(),o=!0);for(e=0;e<i;e++){var f=o?n(e):n[e];if((0,a.isObject)(f)){if(typeof f.data!="undefined"){var l=o?s:e;this.colToPropCache[l]=f.data,this.propToColCache.set(f.data,l)}s+=1}}}else this.recursiveDuckColumns(t)},m.prototype.colToProp=function(e){var t=this.instance.runHooks("modifyCol",e);return!isNaN(t)&&this.colToPropCache&&typeof this.colToPropCache[t]!="undefined"?this.colToPropCache[t]:t},m.prototype.propToCol=function(e){var t=void 0;return typeof this.propToColCache.get(e)=="undefined"?t=e:t=this.propToColCache.get(e),t=this.instance.runHooks("unmodifyCol",t),t},m.prototype.getSchema=function(){var e=this.instance.getSettings().dataSchema;return e?typeof e=="function"?e():e:this.duckSchema},m.prototype.createRow=function(e){var t=this,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,r=arguments[2],i=0,s=e;if(typeof s!="number"||s>=this.instance.countSourceRows())s=this.instance.countSourceRows();var o=this.instance.runHooks("beforeCreateRow",s,n,r);if(o===!1)return 0;var u=this.instance.getSettings().maxRows,f=this.instance.countCols(),l=function(){var n=null;t.instance.dataType==="array"?t.instance.getSettings().dataSchema?n=(0,a.deepClone)(t.getSchema()):(n=[],(0,h.rangeEach)(f-1,function(){return n.push(null)})):t.instance.dataType==="function"?n=t.instance.getSettings().dataSchema(s):(n={},(0,a.deepExtend)(n,t.getSchema())),s===t.instance.countSourceRows()?t.dataSource.push(n):t.spliceData(s,0,n),i+=1};while(i<n&&this.instance.countSourceRows()<u)l();return this.instance.runHooks("afterCreateRow",s,i,r),this.instance.forceFullRender=!0,i},m.prototype.createCol=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,n=arguments[2];if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var r=this.instance.countSourceRows(),i=this.dataSource,s=this.instance.countCols(),o=typeof e!="number"||e>=s?s:e,a=void 0,f=0,l=void 0;this.instance.runHooks("beforeCreateCol",o,t,n),l=o;var c=this.instance.getSettings().maxCols;while(f<t&&this.instance.countCols()<c){a=(0,u.columnFactory)(this.GridSettings,this.priv.columnsSettingConflicts);if(typeof o!="number"||o>=this.instance.countCols()){if(r>0)for(var h=0;h<r;h++)typeof i[h]=="undefined"&&(i[h]=[]),i[h].push(null);else i.push([null]);this.priv.columnSettings.push(a)}else{for(var p=0;p<r;p++)i[p].splice(l,0,null);this.priv.columnSettings.splice(l,0,a)}f+=1,l+=1}return this.instance.runHooks("afterCreateCol",o,f,n),this.instance.forceFullRender=!0,f},m.prototype.removeRow=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,n=arguments[2],r=typeof e!="number"?-t:e,i=this.instance.runHooks("modifyRemovedAmount",t,r);r=(this.instance.countSourceRows()+r)%this.instance.countSourceRows();var s=this.visualRowsToPhysical(r,i),o=this.instance.runHooks("beforeRemoveRow",r,i,s,n);if(o===!1)return;var u=this.dataSource,a=this.filterData(r,i);a&&(u.length=0,Array.prototype.push.apply(u,a)),this.instance.runHooks("afterRemoveRow",r,i,s,n),this.instance.forceFullRender=!0},m.prototype.removeCol=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,n=arguments[2];if(this.instance.dataType==="object"||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");var r=typeof e!="number"?-t:e;r=(this.instance.countCols()+r)%this.instance.countCols();var i=this.visualColumnsToPhysical(r,t),s=i.slice(0).sort(function(e,t){return t-e}),o=this.instance.runHooks("beforeRemoveCol",r,t,i,n);if(o===!1)return;var u=!0,a=s.length,f=this.dataSource;for(var l=0;l<a;l++)u&&i[0]!==i[l]-l&&(u=!1);if(u)for(var c=0,h=this.instance.countSourceRows();c<h;c++)f[c].splice(i[0],t);else{for(var p=0,d=this.instance.countSourceRows();p<d;p++)for(var v=0;v<a;v++)f[p].splice(s[v],1);for(var m=0;m<a;m++)this.priv.columnSettings.splice(i[m],1)}this.instance.runHooks("afterRemoveCol",r,t,i,n),this.instance.forceFullRender=!0},m.prototype.spliceCol=function(e,t,n){var r=this.instance.getDataAtCol(e),i=r.slice(t,t+n),s=r.slice(t+n);for(var o=arguments.length,u=Array(o>3?o-3:0),a=3;a<o;a++)u[a-3]=arguments[a];(0,f.extendArray)(u,s);var l=0;while(l<n)u.push(null),l+=1;return(0,f.to2dArray)(u),this.instance.populateFromArray(t,e,u,null,null,"spliceCol"),i},m.prototype.spliceRow=function(e,t,n){var r=this.instance.getSourceDataAtRow(e),i=r.slice(t,t+n),s=r.slice(t+n);for(var o=arguments.length,u=Array(o>3?o-3:0),a=3;a<o;a++)u[a-3]=arguments[a];(0,f.extendArray)(u,s);var l=0;while(l<n)u.push(null),l+=1;return this.instance.populateFromArray(e,t,[u],null,null,"spliceRow"),i},m.prototype.spliceData=function(e,t,n){var r=this.instance.runHooks("beforeDataSplice",e,t,n);r!==!1&&this.dataSource.splice(e,t,n)},m.prototype.filterData=function(e,t){var n=this.visualRowsToPhysical(e,t),r=this.instance.runHooks("beforeDataFilter",e,t,n);if(r!==!1){var i=this.dataSource.filter(function(e,t){return n.indexOf(t)===-1});return i}},m.prototype.get=function(e,t){var n=this.instance.runHooks("modifyRow",e),r=this.dataSource[n],i=this.instance.runHooks("modifyRowData",n);r=isNaN(i)?i:r;var s=null;if(r&&r.hasOwnProperty&&(0,a.hasOwnProperty)(r,t))s=r[t];else if(typeof t=="string"&&t.indexOf(".")>-1){var o=t.split("."),u=r;if(!u)return null;for(var f=0,l=o.length;f<l;f++){u=u[o[f]];if(typeof u=="undefined")return null}s=u}else typeof t=="function"&&(s=t(this.dataSource.slice(n,n+1)[0]));if(this.instance.hasHook("modifyData")){var c=(0,a.createObjectPropListener)(s);this.instance.runHooks("modifyData",n,this.propToCol(t),c,"get"),c.isTouched()&&(s=c.value)}return s};var g=(0,o.cellMethodLookupFactory)("copyable",!1);m.prototype.getCopyable=function(e,t){return g.call(this.instance,e,this.propToCol(t))?this.get(e,t):""},m.prototype.set=function(e,t,n,r){var i=this.instance.runHooks("modifyRow",e,r||"datamapGet"),s=n,o=this.dataSource[i],u=this.instance.runHooks("modifyRowData",i);o=isNaN(u)?u:o;if(this.instance.hasHook("modifyData")){var f=(0,a.createObjectPropListener)(s);this.instance.runHooks("modifyData",i,this.propToCol(t),f,"set"),f.isTouched()&&(s=f.value)}if(o&&o.hasOwnProperty&&(0,a.hasOwnProperty)(o,t))o[t]=s;else if(typeof t=="string"&&t.indexOf(".")>-1){var l=t.split("."),c=o,h=0,p=void 0;for(h=0,p=l.length-1;h<p;h++)typeof c[l[h]]=="undefined"&&(c[l[h]]={}),c=c[l[h]];c[l[h]]=s}else typeof t=="function"?t(this.dataSource.slice(i,i+1)[0],s):o[t]=s},m.prototype.visualRowsToPhysical=function(e,t){var n=this.instance.countSourceRows(),r=[],i=(n+e)%n,s=t,o=void 0;while(i<n&&s)o=this.instance.runHooks("modifyRow",i),r.push(o),s-=1,i+=1;return r},m.prototype.visualColumnsToPhysical=function(e,t){var n=this.instance.countCols(),r=(n+e)%n,i=[],s=t;while(r<n&&s){var o=this.instance.runHooks("modifyCol",r);i.push(o),s-=1,r+=1}return i},m.prototype.clear=function(){for(var e=0;e<this.instance.countSourceRows();e++)for(var t=0;t<this.instance.countCols();t++)this.set(e,this.colToProp(t),"")},m.prototype.clearLengthCache=function(){this.cachedLength=null},m.prototype.getLength=function(){var e=this,t=this.instance.getSettings().maxRows,n=void 0;t<0||t===0?n=0:n=t||Infinity;var r=this.instance.countSourceRows();if(this.instance.hasHook("modifyRow")){var i=this.skipCache;this.interval.start(),r!==this.latestSourceRowsCount&&(i=!0),this.latestSourceRowsCount=r,this.cachedLength===null||i?((0,h.rangeEach)(r-1,function(t){var n=e.instance.runHooks("modifyRow",t);n===null&&(r-=1)}),this.cachedLength=r):r=this.cachedLength}else this.interval.stop();return Math.min(r,n)},m.prototype.getAll=function(){var e={row:0,col:0},t={row:Math.max(this.instance.countSourceRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return e.row-t.row===0&&!this.instance.countSourceRows()?[]:this.getRange(e,t,m.prototype.DESTINATION_RENDERER)},m.prototype.getRange=function(e,t,n){var r=[],i=void 0,s=void 0,o=void 0,u=this.instance.getSettings().maxRows,a=this.instance.getSettings().maxCols;if(u===0||a===0)return[];var f=n===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,l=Math.min(Math.max(u-1,0),Math.max(e.row,t.row)),c=Math.min(Math.max(a-1,0),Math.max(e.col,t.col));for(i=Math.min(e.row,t.row);i<=l;i++){o=[];var h=this.instance.runHooks("modifyRow",i);for(s=Math.min(e.col,t.col);s<=c;s++){if(h===null)break;o.push(f.call(this,i,this.colToProp(s)))}h!==null&&r.push(o)}return r},m.prototype.getText=function(e,t){return s.default.stringify(this.getRange(e,t,this.DESTINATION_RENDERER))},m.prototype.getCopyableText=function(e,t){return s.default.stringify(this.getRange(e,t,this.DESTINATION_CLIPBOARD_GENERATOR))},m.prototype.onSkipLengthCache=function(e){var t=this;this.skipCache=!0,setTimeout(function(){t.skipCache=!1},e)},m.prototype.destroy=function(){this.interval.stop(),this.interval=null,this.instance=null,this.priv=null,this.GridSettings=null,this.dataSource=null,this.cachedLength=null,this.duckSchema=null},t.default=m},function(e,t,n){function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){var t=e;return typeof t=="string"&&/fps$/.test(t)&&(t=1e3/parseInt(t.replace("fps","")||0,10)),t}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.parseDelay=u;var i=n(40),o=function(){function e(t,n){var r=this;s(this,e),this.timer=null,this.func=t,this.delay=u(n),this.stopped=!0,this._then=null,this._callback=function(){return r.__callback()}}return r(e,null,[{key:"create",value:function(n,r){return new e(n,r)}}]),r(e,[{key:"start",value:function(){return this.stopped&&(this._then=Date.now(),this.stopped=!1,this.timer=(0,i.requestAnimationFrame)(this._callback)),this}},{key:"stop",value:function(){return this.stopped||(this.stopped=!0,(0,i.cancelAnimationFrame)(this.timer),this.timer=null),this}},{key:"__callback",value:function(){this.timer=(0,i.requestAnimationFrame)(this._callback);if(this.delay){var t=Date.now(),n=t-this._then;n>this.delay&&(this._then=t-n%this.delay,this.func())}else this.func()}}]),e}();t.default=o},function(e,t,n){function i(){function t(e){return e!==null&&!i(e)&&(typeof e=="string"||typeof e=="number")}function n(e){return e!==null&&((typeof e=="undefined"?"undefined":r(e))==="object"||typeof e=="function")}function i(e){return e!==e}var e={arrayMap:[],weakMap:new WeakMap};return{get:function(i){if(t(i))return e.arrayMap[i];if(n(i))return e.weakMap.get(i)},set:function(i,s){if(t(i))e.arrayMap[i]=s;else{if(!n(i))throw new Error("Invalid key type");e.weakMap.set(i,s)}},"delete":function(i){t(i)?delete e.arrayMap[i]:n(i)&&e.weakMap.delete(i)}}}t.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i},function(e,t,n){function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t,n){function d(e){var r=typeof t.settings.enterMoves=="function"?t.settings.enterMoves(event):t.settings.enterMoves;e?n.transformStart(-r.row,-r.col):n.transformStart(r.row,r.col,!0)}function v(e){e?n.transformEnd(-1,0):n.transformStart(-1,0)}function m(e){e?n.transformEnd(1,0):n.transformStart(1,0)}function g(e){e?n.transformEnd(0,1):n.transformStart(0,1)}function y(e){e?n.transformEnd(0,-1):n.transformStart(0,-1)}function b(o){if(!e.isListening())return;e.runHooks("beforeKeyDown",o);if(c||o.keyCode===229)return;if((0,s.isImmediatePropagationStopped)(o))return;t.lastKeyCode=o.keyCode;if(!n.isSelected())return;var a=(o.ctrlKey||o.metaKey)&&!o.altKey;if(p&&!p.isWaiting()&&!(0,i.isMetaKey)(o.keyCode)&&!(0,i.isCtrlMetaKey)(o.keyCode)&&!a&&!u.isEditorOpened()){u.openEditor("",o);return}var l=o.shiftKey?n.setRangeEnd:n.setRangeStart,h=void 0;switch(o.keyCode){case i.KEY_CODES.A:!u.isEditorOpened()&&a&&(e.selectAll(),o.preventDefault(),(0,s.stopPropagation)(o));break;case i.KEY_CODES.ARROW_UP:u.isEditorOpened()&&!p.isWaiting()&&u.closeEditorAndSaveChanges(a),v(o.shiftKey),o.preventDefault(),(0,s.stopPropagation)(o);break;case i.KEY_CODES.ARROW_DOWN:u.isEditorOpened()&&!p.isWaiting()&&u.closeEditorAndSaveChanges(a),m(o.shiftKey),o.preventDefault(),(0,s.stopPropagation)(o);break;case i.KEY_CODES.ARROW_RIGHT:u.isEditorOpened()&&!p.isWaiting()&&u.closeEditorAndSaveChanges(a),g(o.shiftKey),o.preventDefault(),(0,s.stopPropagation)(o);break;case i.KEY_CODES.ARROW_LEFT:u.isEditorOpened()&&!p.isWaiting()&&u.closeEditorAndSaveChanges(a),y(o.shiftKey),o.preventDefault(),(0,s.stopPropagation)(o);break;case i.KEY_CODES.TAB:h=typeof t.settings.tabMoves=="function"?t.settings.tabMoves(o):t.settings.tabMoves,o.shiftKey?n.transformStart(-h.row,-h.col):n.transformStart(h.row,h.col,!0),o.preventDefault(),(0,s.stopPropagation)(o);break;case i.KEY_CODES.BACKSPACE:case i.KEY_CODES.DELETE:e.emptySelectedCells(),u.prepareEditor(),o.preventDefault();break;case i.KEY_CODES.F2:p&&p.enableFullEditMode(),u.openEditor(null,o),o.preventDefault();break;case i.KEY_CODES.ENTER:u.isEditorOpened()?(p&&p.state!==f.EditorState.WAITING&&u.closeEditorAndSaveChanges(a),d(o.shiftKey)):e.getSettings().enterBeginsEditing?(p&&p.enableFullEditMode(),u.openEditor(null,o)):d(o.shiftKey),o.preventDefault(),(0,s.stopImmediatePropagation)(o);break;case i.KEY_CODES.ESCAPE:u.isEditorOpened()&&(u.closeEditorAndRestoreOriginalValue(a),p.focus()),o.preventDefault();break;case i.KEY_CODES.HOME:o.ctrlKey||o.metaKey?l.call(n,new r.CellCoords(0,n.selectedRange.current().from.col)):l.call(n,new r.CellCoords(n.selectedRange.current().from.row,0)),o.preventDefault(),(0,s.stopPropagation)(o);break;case i.KEY_CODES.END:o.ctrlKey||o.metaKey?l.call(n,new r.CellCoords(e.countRows()-1,n.selectedRange.current().from.col)):l.call(n,new r.CellCoords(n.selectedRange.current().from.row,e.countCols()-1)),o.preventDefault(),(0,s.stopPropagation)(o);break;case i.KEY_CODES.PAGE_UP:n.transformStart(-e.countVisibleRows(),0),o.preventDefault(),(0,s.stopPropagation)(o);break;case i.KEY_CODES.PAGE_DOWN:n.transformStart(e.countVisibleRows(),0),o.preventDefault(),(0,s.stopPropagation)(o);break;default:}}function w(){function t(e,t,n){n.nodeName==="TD"&&(p&&p.enableFullEditMode(),u.openEditor(null,e))}e.addHook("afterDocumentKeyDown",b),l.addEventListener(document.documentElement,"keydown",function(t){c||e.runHooks("afterDocumentKeyDown",t)}),l.addEventListener(document.documentElement,"compositionstart",function(t){!c&&p&&!p.isOpened()&&e.isListening()&&u.openEditor("",t)}),e.view.wt.update("onCellDblClick",t)}var u=this,l=new a.default(e),c=!1,h=!1,p=void 0;this.lockEditor=function(){h=!0},this.unlockEditor=function(){h=!1},this.destroyEditor=function(e){h||this.closeEditor(e)},this.getActiveEditor=function(){return p},this.prepareEditor=function(){if(h)return;if(p&&p.isWaiting()){this.closeEditor(!1,!1,function(e){e&&u.prepareEditor()});return}var t=e.selection.selectedRange.current().highlight.row,n=e.selection.selectedRange.current().highlight.col,r=e.colToProp(n),i=e.getCell(t,n),s=e.getSourceDataAtCell(e.runHooks("modifyRow",t),n),a=e.getCellMeta(t,n),f=e.getCellEditor(a);f?(p=(0,o.getEditorInstance)(f,e),p.prepare(t,n,r,i,s,a)):p=void 0},this.isEditorOpened=function(){return p&&p.isOpened()},this.openEditor=function(e,t){if(!p)return;var n=p.cellProperties.readOnly;n?t&&t.keyCode===i.KEY_CODES.ENTER&&d():p.beginEditing(e,t)},this.closeEditor=function(e,t,n){p?p.finishEditing(e,t,n):n&&n(!1)},this.closeEditorAndSaveChanges=function(e){return this.closeEditor(!1,e)},this.closeEditorAndRestoreOriginalValue=function(e){return this.closeEditor(!0,e)},this.destroy=function(){c=!0},w()}t.__esModule=!0;var r=n(4),i=n(21),s=n(13),o=n(17),u=n(5),a=l(u),f=n(55),h=new WeakMap;c.getInstance=function(e,t,n,r){var i=h.get(e);return i||(i=new c(e,t,n,r),h.set(e,i)),i},t.default=c},function(e,t,n){function c(e){return e&&e.__esModule?e:{"default":e}}function p(e){var t=this,n=this;this.eventManager=new o.default(e),this.instance=e,this.settings=e.getSettings(),this.selectionMouseDown=!1;var r=e.rootElement.getAttribute("style");r&&e.rootElement.setAttribute("data-originalstyle",r),(0,i.addClass)(e.rootElement,"handsontable");var s=document.createElement("TABLE");(0,i.addClass)(s,"htCore"),e.getSettings().tableClassName&&(0,i.addClass)(s,e.getSettings().tableClassName),this.THEAD=document.createElement("THEAD"),s.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),s.appendChild(this.TBODY),e.table=s,e.container.insertBefore(s,e.container.firstChild),this.eventManager.addEventListener(e.rootElement,"mousedown",function(e){t.selectionMouseDown=!0,n.isTextSelectionAllowed(e.target)||(h(),e.preventDefault(),window.focus())}),this.eventManager.addEventListener(e.rootElement,"mouseup",function(){t.selectionMouseDown=!1}),this.eventManager.addEventListener(e.rootElement,"mousemove",function(e){t.selectionMouseDown&&!n.isTextSelectionAllowed(e.target)&&(t.settings.fragmentSelection&&h(),e.preventDefault())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(t){e.selection.isInProgress()&&!t.shiftKey&&e.selection.finish()});var a=void 0;this.isMouseDown=function(){return a},this.eventManager.addEventListener(document.documentElement,"mouseup",function(t){e.selection.isInProgress()&&(0,u.isLeftClick)(t)&&e.selection.finish(),a=!1,((0,i.isOutsideInput)(document.activeElement)||!e.selection.isSelected()&&!(0,u.isRightClick)(t))&&e.unlisten()}),this.eventManager.addEventListener(document.documentElement,"contextmenu",function(t){e.selection.isInProgress()&&(0,u.isRightClick)(t)&&(e.selection.finish(),a=!1)}),this.eventManager.addEventListener(document.documentElement,"touchend",function(){e.selection.isInProgress()&&e.selection.finish()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(t){var r=t.target,s=t.x||t.clientX,o=t.y||t.clientY,u=t.target;if(a||!e.rootElement)return;if(u===e.view.wt.wtTable.holder){var f=(0,i.getScrollbarWidth)();if(document.elementFromPoint(s+f,o)!==e.view.wt.wtTable.holder||document.elementFromPoint(s,o+f)!==e.view.wt.wtTable.holder)return}else while(u!==document.documentElement){if(u===null){if(t.isTargetWebComponent)break;return}if(u===e.rootElement)return;u=u.parentNode}var l=typeof n.settings.outsideClickDeselects=="function"?n.settings.outsideClickDeselects(r):n.settings.outsideClickDeselects;l?e.deselectCell():e.destroyEditor(!1,!1)}),this.eventManager.addEventListener(s,"selectstart",function(e){if(n.settings.fragmentSelection||(0,i.isInput)(e.target))return;e.preventDefault()});var c={debug:function(){return n.settings.debug},externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:s,preventOverflow:function(){return t.settings.preventOverflow},stretchH:function(){return n.settings.stretchH},data:e.getDataAtCell,totalRows:function(){return e.countRows()},totalColumns:function(){return e.countCols()},fixedColumnsLeft:function(){return n.settings.fixedColumnsLeft},fixedRowsTop:function(){return n.settings.fixedRowsTop},fixedRowsBottom:function(){return n.settings.fixedRowsBottom},minSpareRows:function(){return n.settings.minSpareRows},renderAllRows:n.settings.renderAllRows,rowHeaders:function(){var r=[];return e.hasRowHeaders()&&r.push(function(e,t){return n.appendRowHeader(e,t)}),e.runHooks("afterGetRowHeaderRenderers",r),r},columnHeaders:function(){var r=[];return e.hasColHeaders()&&r.push(function(e,t){n.appendColHeader(e,t)}),e.runHooks("afterGetColumnHeaderRenderers",r),r},columnWidth:e.getColWidth,rowHeight:e.getRowHeight,cellRenderer:function(t,r,i){var s=n.instance.getCellMeta(t,r),o=n.instance.colToProp(r),u=n.instance.getDataAtRowProp(t,o);n.instance.hasHook("beforeValueRender")&&(u=n.instance.runHooks("beforeValueRender",u,s)),n.instance.runHooks("beforeRenderer",i,t,r,o,u,s),n.instance.getCellRenderer(s)(n.instance,i,t,r,o,u,s),n.instance.runHooks("afterRenderer",i,t,r,o,u,s)},selections:n.instance.selection.highlight,hideBorderOnMouseDownOver:function(){return n.settings.fragmentSelection},onCellMouseDown:function(r,i,s,o){var f={row:!1,column:!1,cell:!1};e.listen(),n.activeWt=o,a=!0,e.runHooks("beforeOnCellMouseDown",r,i,s,f);if((0,u.isImmediatePropagationStopped)(r))return;(0,l.handleMouseEvent)(r,{coords:i,selection:e.selection,controller:f}),e.runHooks("afterOnCellMouseDown",r,i,s),n.activeWt=n.wt},onCellContextMenu:function(r,i,s,o){n.activeWt=o,a=!1,e.selection.isInProgress()&&e.selection.finish(),e.runHooks("beforeOnCellContextMenu",r,i,s);if((0,u.isImmediatePropagationStopped)(r))return;e.runHooks("afterOnCellContextMenu",r,i,s),n.activeWt=n.wt},onCellMouseOut:function(r,i,s,o){n.activeWt=o,e.runHooks("beforeOnCellMouseOut",r,i,s);if((0,u.isImmediatePropagationStopped)(r))return;e.runHooks("afterOnCellMouseOut",r,i,s),n.activeWt=n.wt},onCellMouseOver:function(r,i,s,o){var f={row:!1,column:!1,cell:!1};n.activeWt=o,e.runHooks("beforeOnCellMouseOver",r,i,s,f);if((0,u.isImmediatePropagationStopped)(r))return;a&&(0,l.handleMouseEvent)(r,{coords:i,selection:e.selection,controller:f}),e.runHooks("afterOnCellMouseOver",r,i,s),n.activeWt=n.wt},onCellMouseUp:function(r,i,s,o){n.activeWt=o,e.runHooks("beforeOnCellMouseUp",r,i,s),e.runHooks("afterOnCellMouseUp",r,i,s),n.activeWt=n.wt},onCellCornerMouseDown:function(n){n.preventDefault(),e.runHooks("afterOnCellCornerMouseDown",n)},onCellCornerDblClick:function(n){n.preventDefault(),e.runHooks("afterOnCellCornerDblClick",n)},beforeDraw:function(t,r){n.beforeRender(t,r)},onDraw:function(t){n.onDraw(t)},onScrollVertically:function(){e.runHooks("afterScrollVertically")},onScrollHorizontally:function(){e.runHooks("afterScrollHorizontally")},onBeforeRemoveCellClassNames:function(){return e.runHooks("beforeRemoveCellClassNames")},onAfterDrawSelection:function(n,r,i,s){return e.runHooks("afterDrawSelection",n,r,i,s)},onBeforeDrawBorders:function(n,r){e.runHooks("beforeDrawBorders",n,r)},onBeforeTouchScroll:function(){e.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){e.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(n,r){return e.runHooks("beforeStretchingColumnWidth",n,r)},onModifyRowHeaderWidth:function(n){return e.runHooks("modifyRowHeaderWidth",n)},onModifyGetCellCoords:function(n,r,i){return e.runHooks("modifyGetCellCoords",n,r,i)},viewportRowCalculatorOverride:function(r){var i=e.countRows(),s=n.settings.viewportRowRenderingOffset;s==="auto"&&n.settings.fixedRowsTop&&(s=10),typeof s=="number"&&(r.startRow=Math.max(r.startRow-s,0),r.endRow=Math.min(r.endRow+s,i-1));if(s==="auto"){var o=r.startRow+r.endRow-r.startRow,u=Math.ceil(o/i*12);r.startRow=Math.max(r.startRow-u,0),r.endRow=Math.min(r.endRow+u,i-1)}e.runHooks("afterViewportRowCalculatorOverride",r)},viewportColumnCalculatorOverride:function(r){var i=e.countCols(),s=n.settings.viewportColumnRenderingOffset;s==="auto"&&n.settings.fixedColumnsLeft&&(s=10),typeof s=="number"&&(r.startColumn=Math.max(r.startColumn-s,0),r.endColumn=Math.min(r.endColumn+s,i-1));if(s==="auto"){var o=r.startColumn+r.endColumn-r.startColumn,u=Math.ceil(o/i*12);r.startRow=Math.max(r.startColumn-u,0),r.endColumn=Math.min(r.endColumn+u,i-1)}e.runHooks("afterViewportColumnCalculatorOverride",r)},rowHeaderWidth:function(){return n.settings.rowHeaderWidth},columnHeaderHeight:function p(){var p=e.runHooks("modifyColumnHeaderHeight");return n.settings.columnHeaderHeight||p}};e.runHooks("beforeInitWalkontable",c),this.wt=new f.default(c),this.activeWt=this.wt,this.eventManager.addEventListener(n.wt.wtTable.spreader,"mousedown",function(e){e.target===n.wt.wtTable.spreader&&e.which===3&&(0,u.stopPropagation)(e)}),this.eventManager.addEventListener(n.wt.wtTable.spreader,"contextmenu",function(e){e.target===n.wt.wtTable.spreader&&e.which===3&&(0,u.stopPropagation)(e)}),this.eventManager.addEventListener(document.documentElement,"click",function(){n.settings.observeDOMVisibility&&n.wt.drawInterrupted&&(n.instance.forceFullRender=!0,n.render())})}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(0),s=n(5),o=c(s),u=n(13),a=n(4),f=c(a),l=n(194),h=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()};p.prototype.isTextSelectionAllowed=function(e){if((0,i.isInput)(e))return!0;var t=(0,i.isChildOf)(e,this.instance.view.wt.wtTable.spreader);return this.settings.fragmentSelection===!0&&t?!0:this.settings.fragmentSelection==="cell"&&this.isSelectedOnlyCell()&&t?!0:!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell()?!0:!1},p.prototype.isSelectedOnlyCell=function(){var e=this.instance.getSelectedLast()||[],t=r(e,4),n=t[0],i=t[1],s=t[2],o=t[3];return n!==void 0&&n===s&&i===o},p.prototype.isCellEdited=function(){var e=this.instance.getActiveEditor();return e&&e.isOpened()},p.prototype.beforeRender=function(e,t){e&&this.instance.runHooks("beforeRender",this.instance.forceFullRender,t)},p.prototype.onDraw=function(e){e&&this.instance.runHooks("afterRender",this.instance.forceFullRender)},p.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1},p.prototype.getCellAtCoords=function(e,t){var n=this.wt.getCell(e,t);return n<0?null:n},p.prototype.scrollViewport=function(e,t,n,r,i){return this.wt.scrollViewport(e,t,n,r,i)},p.prototype.scrollViewportHorizontally=function(e,t,n){return this.wt.scrollViewportHorizontally(e,t,n)},p.prototype.scrollViewportVertically=function(e,t,n){return this.wt.scrollViewportVertically(e,t,n)},p.prototype.appendRowHeader=function(e,t){if(t.firstChild){var n=t.firstChild;if(!(0,i.hasClass)(n,"relative")){(0,i.empty)(t),this.appendRowHeader(e,t);return}this.updateCellHeader(n.querySelector(".rowHeader"),e,this.instance.getRowHeader)}else{var r=document.createElement("div"),s=document.createElement("span");r.className="relative",s.className="rowHeader",this.updateCellHeader(s,e,this.instance.getRowHeader),r.appendChild(s),t.appendChild(r)}this.instance.runHooks("afterGetRowHeader",e,t)},p.prototype.appendColHeader=function(e,t){if(t.firstChild){var n=t.firstChild;(0,i.hasClass)(n,"relative")?this.updateCellHeader(n.querySelector(".colHeader"),e,this.instance.getColHeader):((0,i.empty)(t),this.appendColHeader(e,t))}else{var r=document.createElement("div"),s=document.createElement("span");r.className="relative",s.className="colHeader",this.updateCellHeader(s,e,this.instance.getColHeader),r.appendChild(s),t.appendChild(r)}this.instance.runHooks("afterGetColHeader",e,t)},p.prototype.updateCellHeader=function(e,t,n){var r=t,s=this.wt.wtOverlays.getParentOverlay(e)||this.wt;e.parentNode&&((0,i.hasClass)(e,"colHeader")?r=s.wtTable.columnFilter.sourceToRendered(t):(0,i.hasClass)(e,"rowHeader")&&(r=s.wtTable.rowFilter.sourceToRendered(t))),r>-1?(0,i.fastInnerHTML)(e,n(t)):((0,i.fastInnerText)(e,String.fromCharCode(160)),(0,i.addClass)(e,"cornerHeader"))},p.prototype.maximumVisibleElementWidth=function(e){var t=this.wt.wtViewport.getWorkspaceWidth(),n=t-e;return n>0?n:0},p.prototype.maximumVisibleElementHeight=function(e){var t=this.wt.wtViewport.getWorkspaceHeight(),n=t-e;return n>0?n:0},p.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},p.prototype.destroy=function(){this.wt.destroy(),this.eventManager.destroy()},t.default=p},function(e,t,n){function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),s=n(2),o=n(6),a=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];u(this,e),this.hot=t,this.data=n,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}}return r(e,[{key:"getData",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,n=this.data;return t&&(n=this.getByRange({row:0,col:0},{row:Math.max(this.countRows()-1,0),col:Math.max(this.countColumns()-1,0)},!0)),n}},{key:"setData",value:function(t){this.data=t}},{key:"getAtColumn",value:function(t){var n=this,r=[];return(0,s.arrayEach)(this.data,function(e){var s=n.colToProp(t),o=void 0;typeof s=="string"?o=(0,i.getProperty)(e,s):typeof s=="function"?o=s(e):o=e[s],r.push(o)}),r}},{key:"getAtRow",value:function(t){return this.data[t]}},{key:"getAtCell",value:function(t,n){var r=null,s=this.hot.runHooks("modifyRowData",t),o=isNaN(s)?s:this.data[t];if(o){var u=this.colToProp(n);typeof u=="string"?r=(0,i.getProperty)(o,u):typeof u=="function"?r=u(this.data.slice(t,t+1)[0]):r=o[u]}return r}},{key:"getByRange",value:function(t,n){var r=this,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1,s=Math.min(t.row,n.row),u=Math.min(t.col,n.col),a=Math.max(t.row,n.row),f=Math.max(t.col,n.col),l=[];return(0,o.rangeEach)(s,a,function(e){var t=r.getAtRow(e),n=void 0;r.dataType==="array"?n=t.slice(u,f+1):r.dataType==="object"&&(n=i?[]:{},(0,o.rangeEach)(u,f,function(e){var s=r.colToProp(e);i?n.push(t[s]):n[s]=t[s]})),l.push(n)}),l}},{key:"countRows",value:function(){return Array.isArray(this.data)?this.data.length:0}},{key:"countColumns",value:function(){var t=0;return Array.isArray(this.data)&&(this.dataType==="array"?t=this.data[0].length:this.dataType==="object"&&(t=Object.keys(this.data[0]).length)),t}},{key:"destroy",value:function(){this.data=null,this.hot=null}}]),e}();t.default=a},function(e,t,n){function o(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.__esModule=!0;var r,i=n(7),s=o(i),a=(r={languageCode:"en-US"},u(r,s.CONTEXTMENU_ITEMS_ROW_ABOVE,"Insert row above"),u(r,s.CONTEXTMENU_ITEMS_ROW_BELOW,"Insert row below"),u(r,s.CONTEXTMENU_ITEMS_INSERT_LEFT,"Insert column left"),u(r,s.CONTEXTMENU_ITEMS_INSERT_RIGHT,"Insert column right"),u(r,s.CONTEXTMENU_ITEMS_REMOVE_ROW,["Remove row","Remove rows"]),u(r,s.CONTEXTMENU_ITEMS_REMOVE_COLUMN,["Remove column","Remove columns"]),u(r,s.CONTEXTMENU_ITEMS_UNDO,"Undo"),u(r,s.CONTEXTMENU_ITEMS_REDO,"Redo"),u(r,s.CONTEXTMENU_ITEMS_READ_ONLY,"Read only"),u(r,s.CONTEXTMENU_ITEMS_CLEAR_COLUMN,"Clear column"),u(r,s.CONTEXTMENU_ITEMS_ALIGNMENT,"Alignment"),u(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT,"Left"),u(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER,"Center"),u(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT,"Right"),u(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY,"Justify"),u(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_TOP,"Top"),u(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE,"Middle"),u(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM,"Bottom"),u(r,s.CONTEXTMENU_ITEMS_FREEZE_COLUMN,"Freeze column"),u(r,s.CONTEXTMENU_ITEMS_UNFREEZE_COLUMN,"Unfreeze column"),u(r,s.CONTEXTMENU_ITEMS_BORDERS,"Borders"),u(r,s.CONTEXTMENU_ITEMS_BORDERS_TOP,"Top"),u(r,s.CONTEXTMENU_ITEMS_BORDERS_RIGHT,"Right"),u(r,s.CONTEXTMENU_ITEMS_BORDERS_BOTTOM,"Bottom"),u(r,s.CONTEXTMENU_ITEMS_BORDERS_LEFT,"Left"),u(r,s.CONTEXTMENU_ITEMS_REMOVE_BORDERS,"Remove border(s)"),u(r,s.CONTEXTMENU_ITEMS_ADD_COMMENT,"Add comment"),u(r,s.CONTEXTMENU_ITEMS_EDIT_COMMENT,"Edit comment"),u(r,s.CONTEXTMENU_ITEMS_REMOVE_COMMENT,"Delete comment"),u(r,s.CONTEXTMENU_ITEMS_READ_ONLY_COMMENT,"Read-only comment"),u(r,s.CONTEXTMENU_ITEMS_MERGE_CELLS,"Merge cells"),u(r,s.CONTEXTMENU_ITEMS_UNMERGE_CELLS,"Unmerge cells"),u(r,s.CONTEXTMENU_ITEMS_COPY,"Copy"),u(r,s.CONTEXTMENU_ITEMS_CUT,"Cut"),u(r,s.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD,"Insert child row"),u(r,s.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD,"Detach from parent"),u(r,s.CONTEXTMENU_ITEMS_HIDE_COLUMN,["Hide column","Hide columns"]),u(r,s.CONTEXTMENU_ITEMS_SHOW_COLUMN,["Show column","Show columns"]),u(r,s.CONTEXTMENU_ITEMS_HIDE_ROW,["Hide row","Hide rows"]),u(r,s.CONTEXTMENU_ITEMS_SHOW_ROW,["Show row","Show rows"]),u(r,s.FILTERS_CONDITIONS_NONE,"None"),u(r,s.FILTERS_CONDITIONS_EMPTY,"Is empty"),u(r,s.FILTERS_CONDITIONS_NOT_EMPTY,"Is not empty"),u(r,s.FILTERS_CONDITIONS_EQUAL,"Is equal to"),u(r,s.FILTERS_CONDITIONS_NOT_EQUAL,"Is not equal to"),u(r,s.FILTERS_CONDITIONS_BEGINS_WITH,"Begins with"),u(r,s.FILTERS_CONDITIONS_ENDS_WITH,"Ends with"),u(r,s.FILTERS_CONDITIONS_CONTAINS,"Contains"),u(r,s.FILTERS_CONDITIONS_NOT_CONTAIN,"Does not contain"),u(r,s.FILTERS_CONDITIONS_GREATER_THAN,"Greater than"),u(r,s.FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL,"Greater than or equal to"),u(r,s.FILTERS_CONDITIONS_LESS_THAN,"Less than"),u(r,s.FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL,"Less than or equal to"),u(r,s.FILTERS_CONDITIONS_BETWEEN,"Is between"),u(r,s.FILTERS_CONDITIONS_NOT_BETWEEN,"Is not between"),u(r,s.FILTERS_CONDITIONS_AFTER,"After"),u(r,s.FILTERS_CONDITIONS_BEFORE,"Before"),u(r,s.FILTERS_CONDITIONS_TODAY,"Today"),u(r,s.FILTERS_CONDITIONS_TOMORROW,"Tomorrow"),u(r,s.FILTERS_CONDITIONS_YESTERDAY,"Yesterday"),u(r,s.FILTERS_VALUES_BLANK_CELLS,"Blank cells"),u(r,s.FILTERS_DIVS_FILTER_BY_CONDITION,"Filter by condition"),u(r,s.FILTERS_DIVS_FILTER_BY_VALUE,"Filter by value"),u(r,s.FILTERS_LABELS_CONJUNCTION,"And"),u(r,s.FILTERS_LABELS_DISJUNCTION,"Or"),u(r,s.FILTERS_BUTTONS_SELECT_ALL,"Select all"),u(r,s.FILTERS_BUTTONS_CLEAR,"Clear"),u(r,s.FILTERS_BUTTONS_OK,"OK"),u(r,s.FILTERS_BUTTONS_CANCEL,"Cancel"),u(r,s.FILTERS_BUTTONS_PLACEHOLDER_SEARCH,"Search"),u(r,s.FILTERS_BUTTONS_PLACEHOLDER_VALUE,"Value"),u(r,s.FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE,"Second value"),r);t.default=a},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){f(e,t)}function h(){return l()}t.__esModule=!0,t.getPhraseFormatters=t.registerPhraseFormatter=undefined,t.register=c,t.getAll=h;var r=n(38),i=u(r),s=n(272),o=u(s),a=(0,i.default)("phraseFormatters"),f=a.register,l=a.getValues;t.registerPhraseFormatter=c,t.getPhraseFormatters=h,c("pluralize",o.default)},function(e,t,n){function r(e,t){var n=Array.isArray(e)&&Number.isInteger(t);return n?e[t]:e}t.__esModule=!0,t.default=r},function(e,t,n){function g(e){return e&&e.__esModule?e:{"default":e}}function E(e,t){return w(e)(t)}t.__esModule=!0,t.createHighlight=undefined;var r=n(38),i=g(r),s=n(274),o=g(s),u=n(275),a=g(u),f=n(276),l=g(f),c=n(277),h=g(c),p=n(278),d=g(p),v=n(279),m=g(v),y=(0,i.default)("highlight/types"),b=y.register,w=y.getItem;b("active-header",o.default),b("area",a.default),b("cell",l.default),b("custom-selection",h.default),b("fill",d.default),b("header",m.default),t.createHighlight=E},function(e,t,n){function i(e){var t=e.activeHeaderClassName,n=new r.Selection({highlightHeaderClassName:t});return n}t.__esModule=!0;var r=n(4);t.default=i},function(e,t,n){function i(e){var t=e.layerLevel,n=e.areaCornerVisible,i=new r.Selection({className:"area",markIntersections:!0,layerLevel:Math.min(t,7),border:{width:1,color:"#4b89ff",cornerVisible:n}});return i}t.__esModule=!0;var r=n(4);t.default=i},function(e,t,n){function i(e){var t=e.cellCornerVisible,n=new r.Selection({className:"current",border:{width:2,color:"#4b89ff",cornerVisible:t}});return n}t.__esModule=!0;var r=n(4);t.default=i},function(e,t,n){function i(e){var t=e.border,n=e.cellRange,i=new r.Selection(t,n);return i}t.__esModule=!0;var r=n(4);t.default=i},function(e,t,n){function i(){var e=new r.Selection({className:"fill",border:{width:1,color:"#ff0000"}});return e}t.__esModule=!0;var r=n(4);t.default=i},function(e,t,n){function i(e){var t=e.headerClassName,n=e.rowClassName,i=e.columnClassName,s=new r.Selection({className:"highlight",highlightHeaderClassName:t,highlightRowClassName:n,highlightColumnClassName:i});return s}t.__esModule=!0;var r=n(4);t.default=i},function(e,t,n){function E(e){return e&&e.__esModule?e:{"default":e}}function S(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=S(["Unsupported format of the selection ranges was passed. To select cells pass \n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, columnEnd/columnPropEnd]]) \n        or as an array of CellRange objects."],["Unsupported format of the selection ranges was passed. To select cells pass \n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, columnEnd/columnPropEnd]]) \n        or as an array of CellRange objects."]),o=n(202),u=E(o),a=n(281),f=E(a),l=n(4),c=n(200),h=n(1),p=n(11),d=n(2),v=n(47),m=E(v),g=n(282),y=E(g),b=n(72),w=n(42),T=function(){function e(t,n){var r=this;x(this,e),this.settings=t,this.tableProps=n,this.inProgress=!1,this.selectedByCorner=!1,this.selectedByRowHeader=new Set,this.selectedByColumnHeader=new Set,this.selectedRange=new f.default,this.highlight=new u.default({headerClassName:t.currentHeaderClassName,activeHeaderClassName:t.activeHeaderClassName,rowClassName:t.currentRowClassName,columnClassName:t.currentColClassName,disableHighlight:this.settings.disableVisualSelection,cellCornerVisible:function(){return r.isCellCornerVisible.apply(r,arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible.apply(r,arguments)}}),this.transformation=new y.default(this.selectedRange,{countRows:function(){return r.tableProps.countRows()},countCols:function(){return r.tableProps.countCols()},fixedRowsBottom:function(){return t.fixedRowsBottom},minSpareRows:function(){return t.minSpareRows},minSpareCols:function(){return t.minSpareCols},autoWrapRow:function(){return t.autoWrapRow},autoWrapCol:function(){return t.autoWrapCol}}),this.transformation.addLocalHook("beforeTransformStart",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["beforeModifyTransformStart"].concat(t))}),this.transformation.addLocalHook("afterTransformStart",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["afterModifyTransformStart"].concat(t))}),this.transformation.addLocalHook("beforeTransformEnd",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["beforeModifyTransformEnd"].concat(t))}),this.transformation.addLocalHook("afterTransformEnd",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["afterModifyTransformEnd"].concat(t))}),this.transformation.addLocalHook("insertRowRequire",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["insertRowRequire"].concat(t))}),this.transformation.addLocalHook("insertColRequire",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runLocalHooks.apply(r,["insertColRequire"].concat(t))})}return i(e,[{key:"getSelectedRange",value:function(){return this.selectedRange}},{key:"begin",value:function(){this.inProgress=!0}},{key:"finish",value:function(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1}},{key:"isInProgress",value:function(){return this.inProgress}},{key:"setRangeStart",value:function(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1,i=this.settings.selectionMode==="multiple",s=(0,p.isUndefined)(n)?(0,c.isPressedCtrlKey)():n,o=t.row<0,u=t.col<0,a=o&&u;o&&(t.row=0),u&&(t.col=0),this.selectedByCorner=a,this.runLocalHooks("beforeSetRangeStart"+(r?"Only":""),t),(!i||i&&!s&&(0,p.isUndefined)(n))&&this.selectedRange.clear(),this.selectedRange.add(t),this.getLayerLevel()===0&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),!a&&u&&this.selectedByRowHeader.add(this.getLayerLevel()),!a&&o&&this.selectedByColumnHeader.add(this.getLayerLevel()),r||this.setRangeEnd(t)}},{key:"setRangeStartOnly",value:function(t,n){this.setRangeStart(t,n,!0)}},{key:"setRangeEnd",value:function(t){if(this.selectedRange.isEmpty())return;this.runLocalHooks("beforeSetRangeEnd",t),this.begin();var n=this.selectedRange.current();this.settings.selectionMode!=="single"&&n.setTo(new l.CellCoords(t.row,t.col)),this.highlight.getCell().clear(),this.highlight.isEnabledFor(o.CELL_TYPE)&&this.highlight.getCell().add(this.selectedRange.current().highlight);var r=this.getLayerLevel();r<this.highlight.layerLevel&&((0,d.arrayEach)(this.highlight.getAreas(),function(e){return void e.clear()}),(0,d.arrayEach)(this.highlight.getHeaders(),function(e){return void e.clear()}),(0,d.arrayEach)(this.highlight.getActiveHeaders(),function(e){return void e.clear()})),this.highlight.useLayerLevel(r);var i=this.highlight.createOrGetArea(),s=this.highlight.createOrGetHeader(),u=this.highlight.createOrGetActiveHeader();i.clear(),s.clear(),u.clear(),this.highlight.isEnabledFor(o.AREA_TYPE)&&(this.isMultiple()||r>=1)&&(i.add(n.from).add(n.to),r===1&&(this.highlight.useLayerLevel(r-1).createOrGetArea().add(this.selectedRange.previous().from),this.highlight.useLayerLevel(r))),this.highlight.isEnabledFor(o.HEADER_TYPE)&&(this.settings.selectionMode==="single"?s.add(n.highlight):s.add(n.from).add(n.to));if(this.isSelectedByRowHeader()){var a=this.tableProps.countCols()===n.getWidth();a&&u.add(new l.CellCoords(n.from.row,-1)).add(new l.CellCoords(n.to.row,-1))}if(this.isSelectedByColumnHeader()){var f=this.tableProps.countRows()===n.getHeight();f&&u.add(new l.CellCoords(-1,n.from.col)).add(new l.CellCoords(-1,n.to.col))}this.runLocalHooks("afterSetRangeEnd",t)}},{key:"isMultiple",value:function(){var t=(0,h.createObjectPropListener)(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",t),t.value}},{key:"transformStart",value:function(t,n,r){this.setRangeStart(this.transformation.transformStart(t,n,r))}},{key:"transformEnd",value:function(t,n){this.setRangeEnd(this.transformation.transformEnd(t,n))}},{key:"getLayerLevel",value:function(){return this.selectedRange.size()-1}},{key:"isSelected",value:function(){return!this.selectedRange.isEmpty()}},{key:"isSelectedByRowHeader",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getLayerLevel();return t===-1?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(t)}},{key:"isSelectedByColumnHeader",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getLayerLevel();return t===-1?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(t)}},{key:"isSelectedByAnyHeader",value:function(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)}},{key:"isSelectedByCorner",value:function(){return this.selectedByCorner}},{key:"inInSelection",value:function(t){return this.selectedRange.includes(t)}},{key:"isCellCornerVisible",value:function(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}},{key:"isAreaCornerVisible",value:function(t){return Number.isInteger(t)&&t!==this.getLayerLevel()?!1:this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}},{key:"clear",value:function(){this.selectedRange.clear(),this.highlight.clear()}},{key:"deselect",value:function(){if(!this.isSelected())return;this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect")}},{key:"selectAll",value:function(){this.clear(),this.setRangeStart(new l.CellCoords(-1,-1)),this.selectedByRowHeader.add(this.getLayerLevel()),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(new l.CellCoords(this.tableProps.countRows()-1,this.tableProps.countCols()-1))}},{key:"selectCells",value:function(t){var n=this,i=(0,b.detectSelectionType)(t);if(i===b.SELECTION_TYPE_EMPTY)return!1;if(i===b.SELECTION_TYPE_UNRECOGNIZED)throw new Error((0,w.toSingleLine)(s));var o=(0,b.normalizeSelectionFactory)(i,{propToCol:function(t){return n.tableProps.propToCol(t)},keepDirection:!0}),u=this.tableProps.countRows(),a=this.tableProps.countCols(),f=!t.some(function(e){var t=o(e),n=r(t,4),i=n[0],s=n[1],f=n[2],l=n[3],c=(0,b.isValidCoord)(i,u)&&(0,b.isValidCoord)(s,a)&&(0,b.isValidCoord)(f,u)&&(0,b.isValidCoord)(l,a);return!c});return f&&(this.clear(),(0,d.arrayEach)(t,function(e){var t=o(e),i=r(t,4),s=i[0],u=i[1],a=i[2],f=i[3];n.setRangeStartOnly(new l.CellCoords(s,u),!1),n.setRangeEnd(new l.CellCoords(a,f)),n.finish()})),f}},{key:"selectColumns",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,r=typeof t=="string"?this.tableProps.propToCol(t):t,i=typeof n=="string"?this.tableProps.propToCol(n):n,s=this.tableProps.countCols(),o=(0,b.isValidCoord)(r,s)&&(0,b.isValidCoord)(i,s);return o&&(this.setRangeStartOnly(new l.CellCoords(-1,r)),this.setRangeEnd(new l.CellCoords(this.tableProps.countRows()-1,i)),this.finish()),o}},{key:"selectRows",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,r=this.tableProps.countRows(),i=(0,b.isValidCoord)(t,r)&&(0,b.isValidCoord)(n,r);return i&&(this.setRangeStartOnly(new l.CellCoords(t,-1)),this.setRangeEnd(new l.CellCoords(n,this.tableProps.countCols()-1)),this.finish()),i}}]),e}();(0,h.mixin)(T,m.default),t.default=T},function(e,t,n){function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),o=function(){function e(){s(this,e),this.ranges=[]}return r(e,[{key:"isEmpty",value:function(){return this.size()===0}},{key:"set",value:function(t){return this.clear(),this.ranges.push(new i.CellRange(t)),this}},{key:"add",value:function(t){return this.ranges.push(new i.CellRange(t)),this}},{key:"current",value:function(){return this.peekByIndex(0)}},{key:"previous",value:function(){return this.peekByIndex(-1)}},{key:"includes",value:function(t){return this.ranges.some(function(e){return e.includes(t)})}},{key:"clear",value:function(){return this.ranges.length=0,this}},{key:"size",value:function(){return this.ranges.length}},{key:"peekByIndex",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=this.size()+t-1,r=void 0;return n>=0&&(r=this.ranges[n]),r}},{key:Symbol.iterator,value:function(){return this.ranges[Symbol.iterator]()}}]),e}();t.default=o},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),s=n(1),o=n(47),u=a(o),l=function(){function e(t,n){f(this,e),this.range=t,this.options=n}return r(e,[{key:"transformStart",value:function(t,n,r){var s=new i.CellCoords(t,n);this.runLocalHooks("beforeTransformStart",s);var o=this.options.countRows(),u=this.options.countCols(),a=this.options.fixedRowsBottom(),f=this.options.minSpareRows(),l=this.options.minSpareCols(),c=this.options.autoWrapRow(),h=this.options.autoWrapCol(),p=this.range.current().highlight;p.row+t>o-1?r&&f>0&&!(a&&p.row>=o-a-1)?(this.runLocalHooks("insertRowRequire",o),o=this.options.countRows()):h&&(s.row=1-o,s.col=p.col+s.col===u-1?1-u:1):h&&p.row+s.row<0&&p.col+s.col>=0&&(s.row=o-1,s.col=p.col+s.col===0?u-1:-1),p.col+s.col>u-1?r&&l>0?(this.runLocalHooks("insertColRequire",u),u=this.options.countCols()):c&&(s.row=p.row+s.row===o-1?1-o:1,s.col=1-u):c&&p.col+s.col<0&&p.row+s.row>=0&&(s.row=p.row+s.row===0?o-1:-1,s.col=u-1);var d=new i.CellCoords(p.row+s.row,p.col+s.col),v=0,m=0;return d.row<0?(v=-1,d.row=0):d.row>0&&d.row>=o&&(v=1,d.row=o-1),d.col<0?(m=-1,d.col=0):d.col>0&&d.col>=u&&(m=1,d.col=u-1),this.runLocalHooks("afterTransformStart",d,v,m),d}},{key:"transformEnd",value:function(t,n){var r=new i.CellCoords(t,n);this.runLocalHooks("beforeTransformEnd",r);var s=this.options.countRows(),o=this.options.countCols(),u=this.range.current(),a=new i.CellCoords(u.to.row+r.row,u.to.col+r.col),f=0,l=0;return a.row<0?(f=-1,a.row=0):a.row>0&&a.row>=s&&(f=1,a.row=s-1),a.col<0?(l=-1,a.col=0):a.col>0&&a.col>=o&&(l=1,a.col=o-1),this.runLocalHooks("afterTransformEnd",a,f,l),a}}]),e}();(0,s.mixin)(l,u.default),t.default=l},function(e,t,n){function r(e){var t=typeof window=="undefined"?!1:window.jQuery;if(!t)return;t.fn.handsontable=function(t){var n=this.first(),r=n.data("handsontable");if(typeof t!="string"){var i=t||{};return r?r.updateSettings(i):(r=new e.Core(n[0],i),n.data("handsontable",r),r.init()),n}var s=void 0;if(r){if(typeof r[t]=="undefined")throw new Error("Handsontable do not provide action: "+t);var o;for(var u=arguments.length,a=Array(u>1?u-1:0),f=1;f<u;f++)a[f-1]=arguments[f];s=(o=r[t]).call.apply(o,[r].concat(a)),t==="destroy"&&n.removeData()}return s}}t.__esModule=!0,t.default=r},function(e,t,n){function $(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.Base=t.UndoRedo=t.TouchScroll=t.Search=t.PersistentState=t.ObserveChanges=t.MultipleSelectionHandles=t.MergeCells=t.ManualRowResize=t.ManualRowMove=t.ManualColumnResize=t.ManualColumnMove=t.ManualColumnFreeze=t.DragToScroll=t.CustomBorders=t.CopyPaste=t.ContextMenu=t.Comments=t.ColumnSorting=t.AutoRowSize=t.AutoFill=t.AutoColumnSize=undefined;var r=n(285),i=$(r),s=n(287),o=$(s),u=n(288),a=$(u),f=n(290),l=$(f),c=n(291),h=$(c),p=n(298),d=$(p),v=n(302),m=$(v),g=n(319),y=$(g),b=n(326),w=$(b),E=n(333),S=$(E),x=n(334),T=$(x),N=n(338),C=$(N),k=n(343),L=$(k),A=n(344),O=$(A),M=n(349),_=$(M),D=n(350),P=$(D),H=n(356),B=$(H),j=n(357),F=$(j),I=n(361),q=$(I),R=n(362),U=$(R),z=n(363),W=$(z),X=n(10),V=$(X);t.AutoColumnSize=o.default,t.AutoFill=a.default,t.AutoRowSize=l.default,t.ColumnSorting=h.default,t.Comments=d.default,t.ContextMenu=m.default,t.CopyPaste=y.default,t.CustomBorders=w.default,t.DragToScroll=S.default,t.ManualColumnFreeze=T.default,t.ManualColumnMove=C.default,t.ManualColumnResize=L.default,t.ManualRowMove=O.default,t.ManualRowResize=_.default,t.MergeCells=P.default,t.MultipleSelectionHandles=B.default,t.ObserveChanges=F.default,t.PersistentState=i.default,t.Search=q.default,t.TouchScroll=U.default,t.UndoRedo=W.default,t.Base=V.default},function(e,t,n){function h(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function v(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function g(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:g(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(10),o=h(s),u=n(8),a=n(286),f=h(a),l=n(16),c=h(l);c.default.getSingleton().register("persistentStateSave"),c.default.getSingleton().register("persistentStateLoad"),c.default.getSingleton().register("persistentStateReset");var m=function(e){function t(e){p(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storage=void 0,n}return v(t,e),r(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().persistentState}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.storage||(this.storage=new f.default(this.hot.rootElement.id)),this.addHook("persistentStateSave",function(e,t){return n.saveValue(e,t)}),this.addHook("persistentStateLoad",function(e,t){return n.loadValue(e,t)}),this.addHook("persistentStateReset",function(){return n.resetValue()}),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.storage=void 0,i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"loadValue",value:function(t,n){n.value=this.storage.loadValue(t)}},{key:"saveValue",value:function(t,n){this.storage.saveValue(t,n)}},{key:"resetValue",value:function(t){typeof t=="undefined"?this.storage.resetAll():this.storage.reset(t)}},{key:"destroy",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(o.default);(0,u.registerPlugin)("persistentState",m),t.default=m},function(e,t,n){function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),o=function(){function e(t){s(this,e),this.prefix=t,this.savedKeys=[],this.loadSavedKeys()}return r(e,[{key:"saveValue",value:function(t,n){window.localStorage.setItem(this.prefix+"_"+t,JSON.stringify(n)),this.savedKeys.indexOf(t)===-1&&(this.savedKeys.push(t),this.saveSavedKeys())}},{key:"loadValue",value:function(t,n){var r=typeof t=="undefined"?n:t,i=window.localStorage.getItem(this.prefix+"_"+r);return i===null?void 0:JSON.parse(i)}},{key:"reset",value:function(t){window.localStorage.removeItem(this.prefix+"_"+t)}},{key:"resetAll",value:function(){var t=this;(0,i.arrayEach)(this.savedKeys,function(e,n){window.localStorage.removeItem(t.prefix+"_"+t.savedKeys[n])}),this.clearSavedKeys()}},{key:"loadSavedKeys",value:function(){var t=window.localStorage.getItem(this.prefix+"__persistentStateKeys"),n=typeof t=="string"?JSON.parse(t):void 0;this.savedKeys=n||[]}},{key:"saveSavedKeys",value:function(){window.localStorage.setItem(this.prefix+"__persistentStateKeys",JSON.stringify(this.savedKeys))}},{key:"clearSavedKeys",value:function(){this.savedKeys.length=0,this.saveSavedKeys()}}]),e}();t.default=o},function(e,t,n){function w(e){return e&&e.__esModule?e:{"default":e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function x(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function C(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:C(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(10),u=w(o),a=n(2),f=n(40),l=n(0),c=n(93),h=w(c),p=n(1),d=n(6),v=n(8),m=n(203),g=w(m),y=n(33),b=n(4),T=new WeakMap,N=function(e){function t(e){E(this,t);var n=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return T.set(n,{cachedColumnHeaders:[]}),n.widths=[],n.ghostTable=new h.default(n.hot),n.samplesGenerator=new g.default(function(e,t){var r=n.hot.getCellMeta(e,t),i="";r.spanned||(i=n.hot.getDataAtCell(e,t));var s=0;if(r.label){var o=r.label,u=o.value,a=o.property,f="";u?f=typeof u=="function"?u(e,t,n.hot.colToProp(t),i):u:a&&(f=n.hot.getDataAtRowProp(e,a)),s=f.length}return{value:i,bundleCountSeed:s}}),n.firstCalculation=!0,n.inProgress=!1,n.addHook("beforeColumnResize",function(e,t,r){return n.onBeforeColumnResize(e,t,r)}),n}return x(t,e),s(t,null,[{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}]),s(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().autoColumnSize!==!1&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;var r=this.hot.getSettings().autoColumnSize;r&&r.useHeaders!==null&&r.useHeaders!==void 0&&this.ghostTable.setSetting("useHeaders",r.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){return n.onAfterLoadData()}),this.addHook("beforeChange",function(e){return n.onBeforeChange(e)}),this.addHook("beforeRender",function(e){return n.onBeforeRender(e)}),this.addHook("modifyColWidth",function(e,t){return n.getColumnWidth(t,e)}),this.addHook("afterInit",function(){return n.onAfterInit()}),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var n=this.findColumnsWhereHeaderWasChanged();n.length&&this.clearCache(n),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"calculateColumnsWidth",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{from:0,to:this.hot.countCols()-1},n=this,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{from:0,to:this.hot.countRows()-1},s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1,o=typeof t=="number"?{from:t,to:t}:t,u=typeof i=="number"?{from:i,to:i}:i;(0,d.rangeEach)(o.from,o.to,function(e){if(s||n.widths[e]===void 0&&!n.hot._getColWidthFromSettings(e)){var t=n.samplesGenerator.generateColumnSamples(e,u);(0,a.arrayEach)(t,function(e){var t=r(e,2),i=t[0],s=t[1];return n.ghostTable.addColumn(i,s)})}}),this.ghostTable.columns.length&&(this.ghostTable.getWidths(function(e,t){n.widths[e]=t}),this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{from:0,to:this.hot.countRows()-1},i=0,s=this.hot.countCols()-1,o=null;this.inProgress=!0;var u=function a(){if(!n.hot){(0,f.cancelAnimationFrame)(o),n.inProgress=!1;return}n.calculateColumnsWidth({from:i,to:Math.min(i+t.CALCULATION_STEP,s)},r),i=i+t.CALCULATION_STEP+1,i<s?o=(0,f.requestAnimationFrame)(a):((0,f.cancelAnimationFrame)(o),n.inProgress=!1,n.hot.view.wt.wtOverlays.adjustElementsSize(!0),n.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&n.hot.view.wt.wtOverlays.leftOverlay.clone.draw())};this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateColumnsWidth({from:0,to:this.getSyncCalculationLimit()},r),this.firstCalculation=!1,i=this.getSyncCalculationLimit()+1),i<s?u():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var t=this.hot.getSettings().autoColumnSize,n=t&&(0,p.hasOwnProperty)(t,"samplingRatio")?this.hot.getSettings().autoColumnSize.samplingRatio:void 0,r=t&&(0,p.hasOwnProperty)(t,"allowSampleDuplicates")?this.hot.getSettings().autoColumnSize.allowSampleDuplicates:void 0;n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),r&&this.samplesGenerator.setAllowDuplicates(r)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&(0,l.isVisible)(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var n=t.SYNC_CALCULATION_LIMIT,r=this.hot.countCols()-1;return(0,p.isObject)(this.hot.getSettings().autoColumnSize)&&(n=this.hot.getSettings().autoColumnSize.syncLimit,(0,y.isPercentValue)(n)?n=(0,d.valueAccordingPercent)(r,n):n>>=0),Math.min(n,r)}},{key:"getColumnWidth",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0,i=n;return i===void 0&&(i=this.widths[t],r&&typeof i=="number"&&(i=Math.max(i,b.ViewportColumnsCalculator.DEFAULT_WIDTH))),i}},{key:"getFirstVisibleColumn",value:function(){var t=this.hot.view.wt;return t.wtViewport.columnsVisibleCalculator?t.wtTable.getFirstVisibleColumn():t.wtViewport.columnsRenderCalculator?t.wtTable.getFirstRenderedColumn():-1}},{key:"getLastVisibleColumn",value:function(){var t=this.hot.view.wt;return t.wtViewport.columnsVisibleCalculator?t.wtTable.getLastVisibleColumn():t.wtViewport.columnsRenderCalculator?t.wtTable.getLastRenderedColumn():-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var t=this.hot.getColHeader(),n=T.get(this),r=n.cachedColumnHeaders,i=(0,a.arrayReduce)(t,function(e,t,n){var i=r.length;return(i-1<n||r[n]!==t)&&e.push(n),i-1<n?r.push(t):r[n]=t,e},[]);return i}},{key:"clearCache",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];n.length?(0,a.arrayEach)(n,function(e){t.widths[e]=void 0}):this.widths.length=0}},{key:"isNeedRecalculate",value:function(){return!!(0,a.arrayFilter)(this.widths,function(e){return e===void 0}).length}},{key:"onBeforeRender",value:function(){var t=this.hot.renderCall,n=this.hot.countRows();if(!n)return;this.calculateColumnsWidth({from:this.getFirstVisibleColumn(),to:this.getLastVisibleColumn()},void 0,t),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}},{key:"onAfterLoadData",value:function(){var t=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){t.hot&&t.recalculateAllColumnsWidth()},0)}},{key:"onBeforeChange",value:function(t){var n=this,i=(0,a.arrayMap)(t,function(e){var t=r(e,2),i=t[1];return n.hot.propToCol(i)});this.clearCache(i)}},{key:"onBeforeColumnResize",value:function(t,n,r){var i=n;return r&&(this.calculateColumnsWidth(t,void 0,!0),i=this.getColumnWidth(t,void 0,!1)),i}},{key:"onAfterInit",value:function(){T.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"destroy",value:function(){this.ghostTable.clean(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(u.default);(0,v.registerPlugin)("autoColumnSize",N),t.default=N},function(e,t,n){function v(e){return e&&e.__esModule?e:{"default":e}}function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function b(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function x(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:x(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(10),o=v(s),u=n(16),a=v(u),f=n(0),l=n(5),c=v(l),h=n(8),p=n(4),d=n(289);a.default.getSingleton().register("modifyAutofillRange"),a.default.getSingleton().register("beforeAutofill");var w="insert_row",E=200,S=function(e){function t(e){g(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.eventManager=new c.default(n),n.addingStarted=!1,n.mouseDownOnCellCorner=!1,n.mouseDragOutside=!1,n.handleDraggedCells=0,n.directions=[],n.autoInsertRow=!1,n}return b(t,e),r(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().fillHandle}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",function(e){return n.onAfterCellCornerMouseDown(e)}),this.addHook("afterOnCellCornerDblClick",function(e){return n.onCellCornerDblClick(e)}),this.addHook("beforeOnCellMouseOver",function(e,t){return n.onBeforeCellMouseOver(t)}),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearMappedSettings(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"getSelectionData",value:function(){var t={from:this.hot.getSelectedRangeLast().from,to:this.hot.getSelectedRangeLast().to};return this.hot.getData(t.from.row,t.from.col,t.to.row,t.to.col)}},{key:"fillIn",value:function(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;var t=this.hot.selection.highlight.getFill().getCorners();this.resetSelectionOfDraggedArea();var n=this.getCornersOfSelectedCells();t=this.hot.runHooks("modifyAutofillRange",t,n);var r=(0,d.getDragDirectionAndRange)(n,t),i=r.directionOfDrag,s=r.startOfDragCoords,o=r.endOfDragCoords;if(s&&s.row>-1&&s.col>-1){var u=this.getSelectionData();this.hot.runHooks("beforeAutofill",s,o,u);var a=(0,d.getDeltas)(s,o,u,i),f=u;if(["up","left"].indexOf(i)>-1){f=[];var l=null,c=null;if(i==="up"){l=o.row-s.row+1,c=l%u.length;for(var h=0;h<l;h++)f.push(u[(h+(u.length-c))%u.length])}else{l=o.col-s.col+1,c=l%u[0].length;for(var p=0;p<u.length;p++){f.push([]);for(var v=0;v<l;v++)f[p].push(u[p][(v+(u[p].length-c))%u[p].length])}}}this.hot.populateFromArray(s.row,s.col,f,o.row,o.col,this.pluginName+".fill",null,i,a),this.setSelection(t)}else this.hot._refreshBorders();return!0}},{key:"reduceSelectionAreaIfNeeded",value:function(t){return t.row<0&&(t.row=0),t.col<0&&(t.col=0),t}},{key:"getCoordsOfDragAndDropBorders",value:function(t){var n=this.hot.getSelectedRangeLast().getTopLeftCorner(),r=this.hot.getSelectedRangeLast().getBottomRightCorner(),i=void 0;if(this.directions.includes(d.DIRECTIONS.vertical)&&(r.row<t.row||n.row>t.row))i=new p.CellCoords(t.row,r.col);else{if(!this.directions.includes(d.DIRECTIONS.horizontal))return;i=new p.CellCoords(r.row,t.col)}return this.reduceSelectionAreaIfNeeded(i)}},{key:"showBorder",value:function(t){var n=this.getCoordsOfDragAndDropBorders(t);n&&this.redrawBorders(n)}},{key:"addRow",value:function(){var t=this;this.hot._registerTimeout(setTimeout(function(){t.hot.alter(w,void 0,1,t.pluginName+".fill"),t.addingStarted=!1},E))}},{key:"addNewRowIfNeeded",value:function(){if(this.hot.selection.highlight.getFill().cellRange&&this.addingStarted===!1&&this.autoInsertRow){var t=this.hot.getSelectedLast(),n=this.hot.selection.highlight.getFill().getCorners(),r=this.hot.countRows();t[2]<r-1&&n[2]===r-1&&(this.addingStarted=!0,this.addRow())}}},{key:"getCornersOfSelectedCells",value:function(){return this.hot.selection.isMultiple()?this.hot.selection.highlight.createOrGetArea().getCorners():this.hot.selection.highlight.getCell().getCorners()}},{key:"getIndexOfLastAdjacentFilledInRow",value:function(t){var n=this.hot.getData(),r=this.hot.countRows(),i=void 0;for(var s=t[2]+1;s<r;s++){for(var o=t[1];o<=t[3];o++){var u=n[s][o];if(u)return-1}var a=n[s][t[1]-1],f=n[s][t[3]+1];if(!!a||!!f)i=s}return i}},{key:"addSelectionFromStartAreaToSpecificRowIndex",value:function(t,n){this.hot.selection.highlight.getFill().clear().add(new p.CellCoords(t[0],t[1])).add(new p.CellCoords(n,t[3]))}},{key:"setSelection",value:function(t){var n;(n=this.hot).selectCell.apply(n,m(t).concat([!1,!1]))}},{key:"selectAdjacent",value:function(){var t=this.getCornersOfSelectedCells(),n=this.getIndexOfLastAdjacentFilledInRow(t);return n===-1||n===void 0?!1:(this.addSelectionFromStartAreaToSpecificRowIndex(t,n),!0)}},{key:"resetSelectionOfDraggedArea",value:function(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}},{key:"redrawBorders",value:function(t){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(t),this.hot.view.render()}},{key:"getIfMouseWasDraggedOutside",value:function(t){var n=(0,f.offset)(this.hot.table).top-(window.pageYOffset||document.documentElement.scrollTop)+(0,f.outerHeight)(this.hot.table),r=(0,f.offset)(this.hot.table).left-(window.pageXOffset||document.documentElement.scrollLeft)+(0,f.outerWidth)(this.hot.table);return t.clientY>n&&t.clientX<=r}},{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return t.onMouseUp()}),this.eventManager.addEventListener(document.documentElement,"mousemove",function(e){return t.onMouseMove(e)})}},{key:"onCellCornerDblClick",value:function(){var t=this.selectAdjacent();t&&this.fillIn()}},{key:"onAfterCellCornerMouseDown",value:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}},{key:"onBeforeCellMouseOver",value:function(t){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(t),this.addNewRowIfNeeded())}},{key:"onMouseUp",value:function(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}},{key:"onMouseMove",value:function(t){var n=this.getIfMouseWasDraggedOutside(t);this.addingStarted===!1&&this.handleDraggedCells>0&&n?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}},{key:"clearMappedSettings",value:function(){this.directions.length=0,this.autoInsertRow=!1}},{key:"mapSettings",value:function(){var t=(0,d.getMappedFillHandleSetting)(this.hot.getSettings().fillHandle);this.directions=t.directions,this.autoInsertRow=t.autoInsertRow}},{key:"destroy",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(o.default);(0,h.registerPlugin)("autofill",S),t.default=S},function(e,t,n){function u(e,t,n,r){var i=n.length,s=n?n[0].length:0,o=[],u=t.row-e.row,a=t.col-e.col;if(["down","up"].indexOf(r)!==-1){var f=[];for(var l=0;l<=a;l++){var c=parseInt(n[0][l],10),h=parseInt(n[i-1][l],10),p=(r==="down"?h-c:c-h)/(i-1)||0;f.push(p)}o.push(f)}if(["right","left"].indexOf(r)!==-1)for(var d=0;d<=u;d++){var v=parseInt(n[d][0],10),m=parseInt(n[d][s-1],10),g=(r==="right"?m-v:v-m)/(s-1)||0;o.push([g])}return o}function a(e,t){var n=void 0,r=void 0,i=void 0;return t[0]===e[0]&&t[1]<e[1]?(i="left",n=new s.CellCoords(t[0],t[1]),r=new s.CellCoords(t[2],e[1]-1)):t[2]===e[2]&&t[0]===e[0]&&t[3]>e[3]?(i="right",n=new s.CellCoords(t[0],e[3]+1),r=new s.CellCoords(t[2],t[3])):t[0]<e[0]&&t[1]===e[1]?(i="up",n=new s.CellCoords(t[0],t[1]),r=new s.CellCoords(e[0]-1,t[3])):t[2]>e[2]&&t[1]===e[1]&&(i="down",n=new s.CellCoords(e[2]+1,t[1]),r=new s.CellCoords(t[2],t[3])),{directionOfDrag:i,startOfDragCoords:n,endOfDragCoords:r}}function f(e){var t={};return e===!0?(t.directions=Object.keys(o),t.autoInsertRow=!0):(0,r.isObject)(e)?((0,i.isDefined)(e.autoInsertRow)?e.direction===o.horizontal?t.autoInsertRow=!1:t.autoInsertRow=e.autoInsertRow:t.autoInsertRow=!1,(0,i.isDefined)(e.direction)?t.directions=[e.direction]:t.directions=Object.keys(o)):typeof e=="string"?(t.directions=[e],t.autoInsertRow=!0):(t.directions=[],t.autoInsertRow=!1),t}t.__esModule=!0,t.DIRECTIONS=undefined,t.getDeltas=u,t.getDragDirectionAndRange=a,t.getMappedFillHandleSetting=f;var r=n(1),i=n(11),s=n(4),o=t.DIRECTIONS={horizontal:"horizontal",vertical:"vertical"}},function(e,t,n){function b(e){return e&&e.__esModule?e:{"default":e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function S(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function T(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:T(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(10),u=b(o),a=n(2),f=n(40),l=n(0),c=n(93),h=b(c),p=n(1),d=n(6),v=n(8),m=n(203),g=b(m),y=n(33),x=function(e){function t(e){w(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.heights=[],n.ghostTable=new h.default(n.hot),n.samplesGenerator=new g.default(function(e,t){var r=void 0;return e>=0?r=n.hot.getDataAtCell(e,t):e===-1&&(r=n.hot.getColHeader(t)),{value:r}}),n.firstCalculation=!0,n.inProgress=!1,n.addHook("beforeRowResize",function(e,t,r){return n.onBeforeRowResize(e,t,r)}),n}return S(t,e),s(t,null,[{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 500}}]),s(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().autoRowSize===!0||(0,p.isObject)(this.hot.getSettings().autoRowSize)}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.setSamplingOptions(),this.addHook("afterLoadData",function(){return n.onAfterLoadData()}),this.addHook("beforeChange",function(e){return n.onBeforeChange(e)}),this.addHook("beforeColumnMove",function(){return n.recalculateAllRowsHeight()}),this.addHook("beforeColumnResize",function(){return n.recalculateAllRowsHeight()}),this.addHook("beforeColumnSort",function(){return n.clearCache()}),this.addHook("beforeRender",function(e){return n.onBeforeRender(e)}),this.addHook("beforeRowMove",function(e,t){return n.onBeforeRowMove(e,t)}),this.addHook("modifyRowHeight",function(e,t){return n.getRowHeight(t,e)}),this.addHook("modifyColumnHeaderHeight",function(){return n.getColumnHeaderHeight()}),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"calculateRowsHeight",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{from:0,to:this.hot.countRows()-1},n=this,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{from:0,to:this.hot.countCols()-1},s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1,o=typeof t=="number"?{from:t,to:t}:t,u=typeof i=="number"?{from:i,to:i}:i;if(this.hot.getColHeader(0)!==null){var f=this.samplesGenerator.generateRowSamples(-1,u);this.ghostTable.addColumnHeadersRow(f.get(-1))}(0,d.rangeEach)(o.from,o.to,function(e){if(s||n.heights[e]===void 0){var t=n.samplesGenerator.generateRowSamples(e,u);(0,a.arrayEach)(t,function(e){var t=r(e,2),i=t[0],s=t[1];return n.ghostTable.addRow(i,s)})}}),this.ghostTable.rows.length&&(this.ghostTable.getHeights(function(e,t){n.heights[e]=t}),this.ghostTable.clean())}},{key:"calculateAllRowsHeight",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{from:0,to:this.hot.countCols()-1},i=0,s=this.hot.countRows()-1,o=null;this.inProgress=!0;var u=function a(){if(!n.hot){(0,f.cancelAnimationFrame)(o),n.inProgress=!1;return}n.calculateRowsHeight({from:i,to:Math.min(i+t.CALCULATION_STEP,s)},r),i=i+t.CALCULATION_STEP+1,i<s?o=(0,f.requestAnimationFrame)(a):((0,f.cancelAnimationFrame)(o),n.inProgress=!1,n.hot.view.wt.wtOverlays.adjustElementsSize(!0),n.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&n.hot.view.wt.wtOverlays.leftOverlay.clone.draw())};this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateRowsHeight({from:0,to:this.getSyncCalculationLimit()},r),this.firstCalculation=!1,i=this.getSyncCalculationLimit()+1),i<s?u():(this.inProgress=!1,this.hot.view.wt.wtOverlays.adjustElementsSize(!1))}},{key:"setSamplingOptions",value:function(){var t=this.hot.getSettings().autoRowSize,n=t&&(0,p.hasOwnProperty)(t,"samplingRatio")?this.hot.getSettings().autoRowSize.samplingRatio:void 0,r=t&&(0,p.hasOwnProperty)(t,"allowSampleDuplicates")?this.hot.getSettings().autoRowSize.allowSampleDuplicates:void 0;n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),r&&this.samplesGenerator.setAllowDuplicates(r)}},{key:"recalculateAllRowsHeight",value:function(){(0,l.isVisible)(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}},{key:"getSyncCalculationLimit",value:function(){var n=t.SYNC_CALCULATION_LIMIT,r=this.hot.countRows()-1;return(0,p.isObject)(this.hot.getSettings().autoRowSize)&&(n=this.hot.getSettings().autoRowSize.syncLimit,(0,y.isPercentValue)(n)?n=(0,d.valueAccordingPercent)(r,n):n>>=0),Math.min(n,r)}},{key:"getRowHeight",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:void 0,r=n;return this.heights[t]!==void 0&&this.heights[t]>(n||0)&&(r=this.heights[t]),r}},{key:"getColumnHeaderHeight",value:function(){return this.heights[-1]}},{key:"getFirstVisibleRow",value:function(){var t=this.hot.view.wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getFirstVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getFirstRenderedRow():-1}},{key:"getLastVisibleRow",value:function(){var t=this.hot.view.wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getLastVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getLastRenderedRow():-1}},{key:"clearCache",value:function(){this.heights.length=0,this.heights[-1]=void 0}},{key:"clearCacheByRange",value:function(t){var n=this,r=typeof t=="number"?{from:t,to:t}:t,i=r.from,s=r.to;(0,d.rangeEach)(Math.min(i,s),Math.max(i,s),function(e){n.heights[e]=void 0})}},{key:"isNeedRecalculate",value:function(){return!!(0,a.arrayFilter)(this.heights,function(e){return e===void 0}).length}},{key:"onBeforeRender",value:function(){var t=this.hot.renderCall,n=this.hot.getSettings().fixedRowsBottom;this.calculateRowsHeight({from:this.getFirstVisibleRow(),to:this.getLastVisibleRow()},void 0,t);if(n){var r=this.hot.countRows()-1;this.calculateRowsHeight({from:r-n,to:r})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}},{key:"onBeforeRowMove",value:function(t,n){this.clearCacheByRange({from:t,to:n}),this.calculateAllRowsHeight()}},{key:"onBeforeRowResize",value:function(t,n,r){var i=n;return r&&(this.calculateRowsHeight(t,void 0,!0),i=this.getRowHeight(t)),i}},{key:"onAfterLoadData",value:function(){var t=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){t.hot&&t.recalculateAllRowsHeight()},0)}},{key:"onBeforeChange",value:function(t){var n=null;t.length===1?n=t[0][0]:t.length>1&&(n={from:t[0][0],to:t[t.length-1][0]}),n!==null&&this.clearCacheByRange(n)}},{key:"destroy",value:function(){this.ghostTable.clean(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(u.default);(0,v.registerPlugin)("autoRowSize",x),t.default=x},function(e,t,n){function y(e){return e&&e.__esModule?e:{"default":e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function E(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function A(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:A(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(0),o=n(1),u=n(11),a=n(73),f=n(10),l=y(f),c=n(8),h=n(295),p=y(h),d=n(16),v=y(d),m=n(297),g=y(m);v.default.getSingleton().register("beforeColumnSort"),v.default.getSingleton().register("afterColumnSort");var S="columnSorting",x="ascending",T="descending",N="asc",C="desc",k="none",L=function(e){function t(e){b(this,t);var n=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.sortIndicators=[],n.sortColumn=void 0,n.sortOrder=k,n.sortEmptyCells=!1,n.rowsMapper=new g.default(n),n.blockPluginTranslation=!0,n}return E(t,e),r(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().columnSorting}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.setPluginOptions(),(0,u.isUndefined)(this.hot.getSettings().observeChanges)&&this.enableObserveChangesPlugin(),this.addHook("afterTrimRow",function(){return n.sortByPresetColumnAndOrder()}),this.addHook("afterUntrimRow",function(){return n.sortByPresetColumnAndOrder()}),this.addHook("modifyRow",function(e,t){return n.onModifyRow(e,t)}),this.addHook("unmodifyRow",function(e,t){return n.onUnmodifyRow(e,t)}),this.addHook("afterUpdateSettings",function(){return n.onAfterUpdateSettings()}),this.addHook("afterGetColHeader",function(e,t){return n.onAfterGetColHeader(e,t)}),this.addHook("afterOnCellMouseDown",function(e,t){return n.onAfterOnCellMouseDown(e,t)}),this.addHook("afterCreateRow",function(e,t){return n.onAfterCreateRow(e,t)}),this.addHook("afterRemoveRow",function(e,t){return n.onAfterRemoveRow(e,t)}),this.addHook("afterInit",function(){return n.sortBySettings()}),this.addHook("afterLoadData",function(){n.rowsMapper.clearMap(),n.hot.view&&n.sortBySettings()}),this.hot.view&&this.sortBySettings(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.getNextOrderState(t);if((0,u.isUndefined)(t))return;var r=this.hot.runHooks("beforeColumnSort",t,n);if(r===!1)return;this.sortColumn=this.hot.toPhysicalColumn(t),this.sortOrder=n,this.sortByPresetColumnAndOrder(),this.updateSortIndicator(),this.hot.runHooks("afterColumnSort",t,n),this.hot.render(),this.hot.view.wt.draw(!0),this.saveSortingState()}},{key:"getNextOrderState",value:function(t){var n=this.hot.toPhysicalColumn(t);if(this.sortColumn===n){if(this.sortOrder===C)return k;if(this.sortOrder===N)return C}return N}},{key:"isSorted",value:function(){return this.isEnabled()&&this.sortOrder!==k}},{key:"saveSortingState",value:function(){var t={};(0,u.isDefined)(this.sortColumn)&&(t.sortColumn=this.sortColumn),(0,u.isDefined)(this.sortOrder)&&(t.sortOrder=this.sortOrder),((0,o.hasOwnProperty)(t,"sortColumn")||(0,o.hasOwnProperty)(t,"sortOrder"))&&this.hot.runHooks("persistentStateSave","columnSorting",t)}},{key:"loadSortingState",value:function(){var t={};return this.hot.runHooks("persistentStateLoad","columnSorting",t),t.value}},{key:"enableObserveChangesPlugin",value:function(){var t=this;this.hot._registerTimeout(setTimeout(function(){t.hot.updateSettings({observeChanges:!0})},0))}},{key:"sortByPresetColumnAndOrder",value:function(){if(this.sortOrder===k){this.rowsMapper.clearMap();return}var t=[],n=this.hot.toVisualColumn(this.sortColumn),r=this.hot.getCellMeta(0,n),i=(0,a.getSortFunctionForColumn)(r),s=this.hot.countRows(),o=this.hot.getSettings(),f=void 0;o.maxRows<=s?f=o.maxRows:f=s-o.minSpareRows,(0,u.isUndefined)(r.columnSorting.sortEmptyCells)&&(r.columnSorting={sortEmptyCells:this.sortEmptyCells}),this.blockPluginTranslation=!0;for(var l=0;l<f;l+=1)t.push([l,this.hot.getDataAtCell(l,n)]);(0,p.default)(t,i(this.sortOrder,r));for(var c=t.length;c<s;c+=1)t.push([c,this.hot.getDataAtCell(c,n)]);this.blockPluginTranslation=!1,this.rowsMapper._arrayMap=t.map(function(e){return e[0]})}},{key:"updateSortIndicator",value:function(){if(this.sortOrder===k)return;var t=this.hot.toVisualColumn(this.sortColumn),n=this.hot.getCellMeta(0,t);this.sortIndicators[this.sortColumn]=n.sortIndicator}},{key:"setPluginOptions",value:function(){var t=this.hot.getSettings().columnSorting;(0,o.isObject)(t)?this.sortEmptyCells=t.sortEmptyCells||!1:this.sortEmptyCells=!1}},{key:"onModifyRow",value:function(t,n){var r=t;if(this.blockPluginTranslation===!1&&n!==this.pluginName){var i=this.rowsMapper.getValueByIndex(r);r=i===null?r:i}return r}},{key:"onUnmodifyRow",value:function(t,n){var r=t;return this.blockPluginTranslation===!1&&n!==this.pluginName&&(r=this.rowsMapper.getIndexByValue(r)),r}},{key:"onAfterGetColHeader",value:function(t,n){if(t<0||!n.parentNode)return!1;var r=n.querySelector(".colHeader"),i=n.parentNode.parentNode.childNodes,o=[],u=[T,x],a=this.hot.toPhysicalColumn(t),f=Array.prototype.indexOf.call(i,n.parentNode);f-=i.length;if(!r)return;this.hot.getSettings().columnSorting&&t>=0&&f===-1&&o.push(S),this.sortIndicators[a]&&a===this.sortColumn&&(this.sortOrder===N?o.push(x):this.sortOrder===C&&o.push(T));var l=u.filter(function(e){return o.includes(e)===!1});(0,s.removeClass)(r,l),(0,s.addClass)(r,o)}},{key:"onAfterUpdateSettings",value:function(){this.sortBySettings()}},{key:"sortBySettings",value:function(){var t=this.hot.getSettings().columnSorting,n=this.loadSortingState(),r=void 0,i=void 0;(0,u.isUndefined)(n)?(r=t.column,i=t.sortOrder):(r=n.sortColumn,i=n.sortOrder),typeof r=="number"&&this.sort(r,i)}},{key:"onAfterCreateRow",value:function(t,n){this.rowsMapper.shiftItems(t,n)}},{key:"onAfterRemoveRow",value:function(t,n){this.rowsMapper.unshiftItems(t,n)}},{key:"onAfterOnCellMouseDown",value:function(t,n){if(n.row>=0)return;(0,s.hasClass)(t.realTarget,S)&&this.sort(n.col)}},{key:"destroy",value:function(){this.rowsMapper.destroy(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(l.default);(0,c.registerPlugin)("columnSorting",L),t.default=L},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){return function(n,i){var a=r(n,2),f=a[1],l=r(i,2),c=l[1],h=t.columnSorting.sortEmptyCells;if(f===c)return u.DO_NOT_SWAP;if((0,o.isEmpty)(f))return(0,o.isEmpty)(c)?u.DO_NOT_SWAP:h?e==="asc"?u.FIRST_BEFORE_SECOND:u.FIRST_AFTER_SECOND:u.FIRST_AFTER_SECOND;if((0,o.isEmpty)(c))return h?e==="asc"?u.FIRST_AFTER_SECOND:u.FIRST_BEFORE_SECOND:u.FIRST_BEFORE_SECOND;var p=t.dateFormat,d=(0,s.default)(f,p),v=(0,s.default)(c,p);return d.isValid()?v.isValid()?v.isAfter(d)?e==="asc"?u.FIRST_BEFORE_SECOND:u.FIRST_AFTER_SECOND:v.isBefore(d)?e==="asc"?u.FIRST_AFTER_SECOND:u.FIRST_BEFORE_SECOND:u.DO_NOT_SWAP:u.FIRST_BEFORE_SECOND:u.FIRST_AFTER_SECOND}}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=f;var i=n(57),s=a(i),o=n(11),u=n(73)},function(e,t,n){function o(e,t){return function(n,o){var u=r(n,2),a=u[1],f=r(o,2),l=f[1],c=t.columnSorting.sortEmptyCells,h=a,p=l;return typeof h=="string"&&(h=h.toLowerCase()),typeof p=="string"&&(p=p.toLowerCase()),h===p?s.DO_NOT_SWAP:(0,i.isEmpty)(h)?(0,i.isEmpty)(p)?s.DO_NOT_SWAP:c?e==="asc"?s.FIRST_BEFORE_SECOND:s.FIRST_AFTER_SECOND:s.FIRST_AFTER_SECOND:(0,i.isEmpty)(p)?c?e==="asc"?s.FIRST_AFTER_SECOND:s.FIRST_BEFORE_SECOND:s.FIRST_BEFORE_SECOND:isNaN(h)&&!isNaN(p)?e==="asc"?s.FIRST_AFTER_SECOND:s.FIRST_BEFORE_SECOND:!isNaN(h)&&isNaN(p)?e==="asc"?s.FIRST_BEFORE_SECOND:s.FIRST_AFTER_SECOND:(!isNaN(h)&&!isNaN(p)&&(h=parseFloat(h),p=parseFloat(p)),h<p?e==="asc"?s.FIRST_BEFORE_SECOND:s.FIRST_AFTER_SECOND:h>p?e==="asc"?s.FIRST_AFTER_SECOND:s.FIRST_BEFORE_SECOND:s.DO_NOT_SWAP)}}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=o;var i=n(11),s=n(73)},function(e,t,n){function o(e,t){return function(n,o){var u=r(n,2),a=u[1],f=r(o,2),l=f[1],c=t.columnSorting.sortEmptyCells,h=parseFloat(a),p=parseFloat(l);if(h===p||isNaN(h)&&isNaN(p))return s.DO_NOT_SWAP;if(c){if((0,i.isEmpty)(a))return e==="asc"?s.FIRST_BEFORE_SECOND:s.FIRST_AFTER_SECOND;if((0,i.isEmpty)(l))return e==="asc"?s.FIRST_AFTER_SECOND:s.FIRST_BEFORE_SECOND}return isNaN(h)?s.FIRST_AFTER_SECOND:isNaN(p)?s.FIRST_BEFORE_SECOND:h<p?e==="asc"?s.FIRST_BEFORE_SECOND:s.FIRST_AFTER_SECOND:h>p?e==="asc"?s.FIRST_AFTER_SECOND:s.FIRST_BEFORE_SECOND:s.DO_NOT_SWAP}}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=o;var i=n(11),s=n(73)},function(e,t,n){function s(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:o,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:e.length;if(Math.abs(r-n)<=1)return[];var i=Math.ceil((n+r)/2);return u(e,t,n,i),u(e,t,i,r),a(e,t,n,i,r)}function a(e,t,n,r,s){var o=new i.default,u=new i.default,a=r-n,f=s-r,l=Math.max(a,f),c=s-n;for(var h=0;h<l;h+=1)h<a&&o.push(e[n+h]),h<f&&u.push(e[r+h]);var p=0;while(p<c)o.first&&u.first?t(o.first.data,u.first.data)>0?e[n+p]=u.shift().data:e[n+p]=o.shift().data:o.first?e[n+p]=o.shift().data:e[n+p]=u.shift().data,p+=1;return e}t.__esModule=!0,t.default=u;var r=n(296),i=s(r),o=function(t,n){var r=t.toString(),i=n.toString();return r===i?0:r<i?-1:1}},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function u(e){i(this,u),this.data=e,this.next=null,this.prev=null},o=function(){function e(){i(this,e),this.first=null,this.last=null}return r(e,[{key:"push",value:function(t){var n=new s(t);if(this.first===null)this.first=n,this.last=n;else{var r=this.last;this.last=n,n.prev=r,r.next=n}}},{key:"unshift",value:function(t){var n=new s(t);if(this.first===null)this.first=n,this.last=n;else{var r=this.first;this.first=n,n.next=r,r.prev=n}}},{key:"inorder",value:function(t){var n=this.first;while(n)t(n),n=n.next}},{key:"remove",value:function(t){if(this.first===null)return!1;var n=this.first,r=void 0,i=void 0;while(n){if(n.data===t)return r=n.next,i=n.prev,r&&(r.prev=i),i&&(i.next=r),n===this.first&&(this.first=r),n===this.last&&(this.last=i),!0;n=n.next}return!1}},{key:"hasCycle",value:function(){var t=this.first,n=this.first;for(;;){if(t===null)return!1;t=t.next;if(t===null)return!1;t=t.next,n=n.next;if(t===n)return!0}}},{key:"pop",value:function(){if(this.last===null)return null;var t=this.last;return this.last=this.last.prev,t}},{key:"shift",value:function(){if(this.first===null)return null;var t=this.first;return this.first=this.first.next,t}},{key:"recursiveReverse",value:function(){function t(e,n){if(!n)return;t(n,n.next),n.next=e}if(!this.first)return;t(this.first,this.first.next),this.first.next=null;var n=this.first;this.first=this.last,this.last=n}},{key:"reverse",value:function(){if(!this.first||!this.first.next)return;var t=this.first.next,n=this.first,r=void 0;while(t)r=t.next,t.next=n,n.prev=t,n=t,t=r;this.first.next=null,this.last.prev=null,r=this.first,this.first=n,this.last=r}}]),e}();t.NodeStructure=s,t.default=o},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(94),s=a(i),o=n(1),u=n(6),l=function(){function e(t){f(this,e),this.columnSorting=t}return r(e,[{key:"createMap",value:function(t){var n=this,r=t===void 0?this._arrayMap.length:t;this._arrayMap.length=0,(0,u.rangeEach)(r-1,function(e){n._arrayMap[e]=e})}},{key:"destroy",value:function(){this._arrayMap=null}}]),e}();(0,o.mixin)(l,s.default),t.default=l},function(e,t,n){function w(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{"default":e}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function N(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function _(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:_(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(0),o=n(1),u=n(5),a=E(u),f=n(4),l=n(8),c=n(10),h=E(c),p=n(299),d=E(p),v=n(19),m=n(300),g=E(m),y=n(7),b=w(y);n(301);var C=new WeakMap,k="comment",L="value",A="style",O="readOnly",M=function(e){function t(e){x(this,t);var n=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.editor=null,n.displaySwitch=null,n.eventManager=null,n.range={},n.mouseDown=!1,n.contextMenuEvent=!1,n.timer=null,C.set(n,{tempEditorDimensions:{},cellBelowCursor:null}),n}return N(t,e),r(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().comments}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.editor||(this.editor=new d.default),this.eventManager||(this.eventManager=new a.default(this)),this.displaySwitch||(this.displaySwitch=new g.default(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",function(e){return n.addToContextMenu(e)}),this.addHook("afterRenderer",function(e,t,r,i,s,o){return n.onAfterRenderer(e,o)}),this.addHook("afterScrollHorizontally",function(){return n.hide()}),this.addHook("afterScrollVertically",function(){return n.hide()}),this.addHook("afterBeginEditing",function(){return n.onAfterBeginEditing()}),this.displaySwitch.addLocalHook("hide",function(){return n.hide()}),this.displaySwitch.addLocalHook("show",function(e,t){return n.showAtCell(e,t)}),this.registerListeners(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this),this.displaySwitch.updateDelay(this.getDisplayDelaySetting())}},{key:"disablePlugin",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"registerListeners",value:function(){var t=this;this.eventManager.addEventListener(document,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(document,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(document,"mouseup",function(){return t.onMouseUp()}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(){return t.onEditorBlur()}),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",function(e){return t.onEditorMouseDown(e)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",function(e){return t.onEditorMouseUp(e)})}},{key:"setRange",value:function(t){this.range=t}},{key:"clearRange",value:function(){this.range={}}},{key:"targetIsCellWithComment",value:function(t){var n=(0,s.closest)(t.target,"TD","TBODY");return!!(n&&(0,s.hasClass)(n,"htCommentCell")&&(0,s.closest)(n,[this.hot.rootElement]))}},{key:"targetIsCommentTextArea",value:function(t){return this.editor.getInputElement()===t.target}},{key:"setComment",value:function(t){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var n=this.editor.getValue(),r="";t!==null&&t!==void 0?r=t:n!==null&&n!==void 0&&(r=n);var i=this.range.from.row,s=this.range.from.col;this.updateCommentMeta(i,s,S({},L,r)),this.hot.render()}},{key:"setCommentAtCell",value:function(t,n,r){this.setRange({from:new f.CellCoords(t,n)}),this.setComment(r)}},{key:"removeComment",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,k,void 0),t&&this.hot.render(),this.hide()}},{key:"removeCommentAtCell",value:function(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;this.setRange({from:new f.CellCoords(t,n)}),this.removeComment(r)}},{key:"getComment",value:function(){var t=this.range.from.row,n=this.range.from.col;return this.getCommentMeta(t,n,L)}},{key:"getCommentAtCell",value:function(t,n){return this.getCommentMeta(t,n,L)}},{key:"show",value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditor(!0),this.editor.setValue(t[k]?t[k][L]:""),this.editor.hidden&&this.editor.show(),!0}},{key:"showAtCell",value:function(t,n){return this.setRange({from:new f.CellCoords(t,n)}),this.show()}},{key:"hide",value:function(){this.editor.hidden||this.editor.hide()}},{key:"refreshEditor",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;if(!t&&(!this.range.from||!this.editor.isVisible()))return;var n=(0,s.getScrollableElement)(this.hot.view.wt.wtTable.TABLE),r=this.hot.view.wt.wtTable.getCell(this.range.from),i=this.range.from.row,o=this.range.from.col,u=(0,s.offset)(r),a=this.hot.view.wt.wtTable.getStretchedColumnWidth(o),f=u.top<0?0:u.top,l=u.left;this.hot.view.wt.wtViewport.hasVerticalScroll()&&n!==window&&(f-=this.hot.view.wt.wtOverlays.topOverlay.getScrollPosition()),this.hot.view.wt.wtViewport.hasHorizontalScroll()&&n!==window&&(l-=this.hot.view.wt.wtOverlays.leftOverlay.getScrollPosition());var c=l+a,h=f,p=this.getCommentMeta(i,o,A),d=this.getCommentMeta(i,o,O);p?this.editor.setSize(p.width,p.height):this.editor.resetSize(),this.editor.setReadOnlyState(d),this.editor.setPosition(c,h)}},{key:"checkSelectionCommentsConsistency",value:function(){var t=this.hot.getSelectedRangeLast();if(!t)return!1;var n=!1,r=t.from;return this.getCommentMeta(r.row,r.col,L)&&(n=!0),n}},{key:"updateCommentMeta",value:function(t,n,r){var i=this.hot.getCellMeta(t,n)[k],s=void 0;i?(s=(0,o.deepClone)(i),(0,o.deepExtend)(s,r)):s=r,this.hot.setCellMeta(t,n,k,s)}},{key:"getCommentMeta",value:function(t,n,r){var i=this.hot.getCellMeta(t,n);return i[k]?i[k][r]:void 0}},{key:"onMouseDown",value:function(t){this.mouseDown=!0;if(!this.hot.view||!this.hot.view.wt)return;if(!this.contextMenuEvent&&!this.targetIsCommentTextArea(t)){var n=(0,s.closest)(t.target,"TD","TBODY"),r=null;n&&(r=this.hot.view.wt.wtTable.getCoords(n)),(!n||this.range.from&&r&&(this.range.from.row!==r.row||this.range.from.col!==r.col))&&this.hide()}this.contextMenuEvent=!1}},{key:"onMouseOver",value:function(t){var n=C.get(this);n.cellBelowCursor=document.elementFromPoint(t.clientX,t.clientY);if(this.mouseDown||this.editor.isFocused()||(0,s.hasClass)(t.target,"wtBorder")||n.cellBelowCursor!==t.target||!this.editor)return;if(this.targetIsCellWithComment(t)){var r=this.hot.view.wt.wtTable.getCoords(t.target),i={from:new f.CellCoords(r.row,r.col)};this.displaySwitch.show(i)}else(0,s.isChildOf)(t.target,document)&&!this.targetIsCommentTextArea(t)&&this.displaySwitch.hide()}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onAfterRenderer",value:function(t,n){n[k]&&n[k][L]&&(0,s.addClass)(t,n.commentedCellClassName)}},{key:"onEditorBlur",value:function(){this.setComment()}},{key:"onEditorMouseDown",value:function(t){var n=C.get(this);n.tempEditorDimensions={width:(0,s.outerWidth)(t.target),height:(0,s.outerHeight)(t.target)}}},{key:"onEditorMouseUp",value:function(t){var n=C.get(this),r=(0,s.outerWidth)(t.target),i=(0,s.outerHeight)(t.target);(r!==n.tempEditorDimensions.width+1||i!==n.tempEditorDimensions.height+2)&&this.updateCommentMeta(this.range.from.row,this.range.from.col,S({},A,{width:r,height:i}))}},{key:"onContextMenuAddComment",value:function(){var t=this;this.displaySwitch.cancelHiding();var n=this.hot.getSelectedRangeLast();this.contextMenuEvent=!0,this.setRange({from:n.from}),this.show(),setTimeout(function(){t.hot&&(t.hot.deselectCell(),t.editor.focus())},10)}},{key:"onContextMenuRemoveComment",value:function(){var t=this.hot.getSelectedRangeLast(),n=t.from,r=t.to;this.contextMenuEvent=!0;for(var i=n.row;i<=r.row;i++)for(var s=n.col;s<=r.col;s++)this.removeCommentAtCell(i,s,!1);this.hot.render()}},{key:"onContextMenuMakeReadOnly",value:function(){var t=this.hot.getSelectedRangeLast(),n=t.from,r=t.to;this.contextMenuEvent=!0;for(var i=n.row;i<=r.row;i++)for(var s=n.col;s<=r.col;s++){var o=!!this.getCommentMeta(i,s,O);this.updateCommentMeta(i,s,S({},O,!o))}}},{key:"addToContextMenu",value:function(t){var n=this;t.items.push({name:"---------"},{key:"commentsAddEdit",name:function(){return n.checkSelectionCommentsConsistency()?n.hot.getTranslatedPhrase(b.CONTEXTMENU_ITEMS_EDIT_COMMENT):n.hot.getTranslatedPhrase(b.CONTEXTMENU_ITEMS_ADD_COMMENT)},callback:function(){return n.onContextMenuAddComment()},disabled:function(){return!this.getSelectedLast()||!!this.selection.isSelectedByCorner()}},{key:"commentsRemove",name:function(){return this.getTranslatedPhrase(b.CONTEXTMENU_ITEMS_REMOVE_COMMENT)},callback:function(){return n.onContextMenuRemoveComment()},disabled:function(){return n.hot.selection.isSelectedByCorner()}},{key:"commentsReadOnly",name:function(){var t=this,n=this.getTranslatedPhrase(b.CONTEXTMENU_ITEMS_READ_ONLY_COMMENT),r=(0,v.checkSelectionConsistency)(this.getSelectedRangeLast(),function(e,n){var r=t.getCellMeta(e,n)[k];r&&(r=r[O]);if(r)return!0});return r&&(n=(0,v.markLabelAsSelected)(n)),n},callback:function(){return n.onContextMenuMakeReadOnly()},disabled:function(){return n.hot.selection.isSelectedByCorner()||!n.checkSelectionCommentsConsistency()}})}},{key:"getDisplayDelaySetting",value:function(){var t=this.hot.getSettings().comments;return(0,o.isObject)(t)?t.displayDelay:void 0}},{key:"onAfterBeginEditing",value:function(){this.hide()}},{key:"destroy",value:function(){this.editor&&this.editor.destroy(),this.displaySwitch&&this.displaySwitch.destroy(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(h.default);(0,l.registerPlugin)("comments",M),t.default=M},function(e,t,n){function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=function(){function e(){s(this,e),this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()}return r(e,null,[{key:"CLASS_EDITOR_CONTAINER",get:function(){return"htCommentsContainer"}},{key:"CLASS_EDITOR",get:function(){return"htComments"}},{key:"CLASS_INPUT",get:function(){return"htCommentTextArea"}},{key:"CLASS_CELL",get:function(){return"htCommentCell"}}]),r(e,[{key:"setPosition",value:function(t,n){this.editorStyle.left=t+"px",this.editorStyle.top=n+"px"}},{key:"setSize",value:function(t,n){if(t&&n){var r=this.getInputElement();r.style.width=t+"px",r.style.height=n+"px"}}},{key:"resetSize",value:function(){var t=this.getInputElement();t.style.width="",t.style.height=""}},{key:"setReadOnlyState",value:function(t){var n=this.getInputElement();n.readOnly=t}},{key:"show",value:function(){this.editorStyle.display="block",this.hidden=!1}},{key:"hide",value:function(){this.editorStyle.display="none",this.hidden=!0}},{key:"isVisible",value:function(){return this.editorStyle.display==="block"}},{key:"setValue",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",n=t||"";this.getInputElement().value=n}},{key:"getValue",value:function(){return this.getInputElement().value}},{key:"isFocused",value:function(){return document.activeElement===this.getInputElement()}},{key:"focus",value:function(){this.getInputElement().focus()}},{key:"createEditor",value:function(){var n=document.createElement("div"),r=document.createElement("textarea"),s=document.querySelector("."+e.CLASS_EDITOR_CONTAINER);return s||(s=document.createElement("div"),(0,i.addClass)(s,e.CLASS_EDITOR_CONTAINER),document.body.appendChild(s)),(0,i.addClass)(n,e.CLASS_EDITOR),(0,i.addClass)(r,e.CLASS_INPUT),n.appendChild(r),s.appendChild(n),n}},{key:"getInputElement",value:function(){return this.editor.querySelector("."+e.CLASS_INPUT)}},{key:"destroy",value:function(){this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null}}]),e}();t.default=o},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(43),s=n(1),o=n(47),u=a(o),l=250,c=250,h=function(){function e(t){f(this,e),this.wasLastActionShow=!0,this.showDebounced=null,this.hidingTimer=null,this.updateDelay(t)}return r(e,[{key:"hide",value:function(){var t=this;this.wasLastActionShow=!1,this.hidingTimer=setTimeout(function(){t.wasLastActionShow===!1&&t.runLocalHooks("hide")},c)}},{key:"show",value:function(t){this.wasLastActionShow=!0,this.showDebounced(t)}},{key:"cancelHiding",value:function(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}},{key:"updateDelay",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:l;this.showDebounced=(0,i.debounce)(function(e){t.wasLastActionShow&&t.runLocalHooks("show",e.from.row,e.from.col)},n)}},{key:"destroy",value:function(){this.clearLocalHooks()}}]),e}();(0,s.mixin)(h,u.default),t.default=h},function(e,t){},function(e,t,n){function S(e){return e&&e.__esModule?e:{"default":e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function N(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function k(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:k(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(10),o=S(s),u=n(16),a=S(u),f=n(2),l=n(303),c=S(l),h=n(5),p=S(h),d=n(304),v=S(d),m=n(316),g=S(m),y=n(8),b=n(13),w=n(0),E=n(96);n(318),a.default.getSingleton().register("afterContextMenuDefaultOptions"),a.default.getSingleton().register("beforeContextMenuShow"),a.default.getSingleton().register("afterContextMenuShow"),a.default.getSingleton().register("afterContextMenuHide"),a.default.getSingleton().register("afterContextMenuExecute");var C=function(e){function t(e){x(this,t);var n=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.eventManager=new p.default(n),n.commandExecutor=new c.default(n.hot),n.itemsFactory=null,n.menu=null,n}return N(t,e),i(t,null,[{key:"DEFAULT_ITEMS",get:function(){return[E.ROW_ABOVE,E.ROW_BELOW,E.SEPARATOR,E.COLUMN_LEFT,E.COLUMN_RIGHT,E.SEPARATOR,E.REMOVE_ROW,E.REMOVE_COLUMN,E.SEPARATOR,E.UNDO,E.REDO,E.SEPARATOR,E.READ_ONLY,E.SEPARATOR,E.ALIGNMENT]}}]),i(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().contextMenu}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.itemsFactory=new v.default(this.hot,t.DEFAULT_ITEMS);var i=this.hot.getSettings().contextMenu,s={items:this.itemsFactory.getItems(i)};typeof i.callback=="function"&&this.commandExecutor.setCommonCallback(i.callback),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this);var o=function(){if(!n.hot)return;n.hot.runHooks("afterContextMenuDefaultOptions",s),n.itemsFactory.setPredefinedItems(s.items);var t=n.itemsFactory.getItems(i);n.menu=new g.default(n.hot,{className:"htContextMenu",keepInViewport:!0}),n.hot.runHooks("beforeContextMenuSetItems",t),n.menu.setMenuItems(t),n.menu.addLocalHook("beforeOpen",function(){return n.onMenuBeforeOpen()}),n.menu.addLocalHook("afterOpen",function(){return n.onMenuAfterOpen()}),n.menu.addLocalHook("afterClose",function(){return n.onMenuAfterClose()}),n.menu.addLocalHook("executeCommand",function(){var e;for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.executeCommand).call.apply(e,[n].concat(r))}),n.addHook("afterOnCellContextMenu",function(e){return n.onAfterOnCellContextMenu(e)}),(0,f.arrayEach)(t,function(e){return n.commandExecutor.registerCommand(e.key,e)})};this.callOnPluginsReady(function(){n.isPluginsReady?setTimeout(o,0):o()})}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"open",value:function(t){if(!this.menu)return;this.menu.open(),this.menu.setPosition({top:parseInt((0,b.pageY)(t),10)-(0,w.getWindowScrollTop)(),left:parseInt((0,b.pageX)(t),10)-(0,w.getWindowScrollLeft)()}),this.menu.hotMenu.isHotTableEnv=this.hot.isHotTableEnv}},{key:"close",value:function(){if(!this.menu)return;this.menu.close()}},{key:"executeCommand",value:function(t){var n;for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];(n=this.commandExecutor).execute.apply(n,[t].concat(i))}},{key:"onAfterOnCellContextMenu",value:function(t){function s(e){return e.nodeName==="TD"||e.parentNode.nodeName==="TD"}var n=this.hot.getSettings(),r=n.rowHeaders,i=n.colHeaders,o=t.realTarget;this.close();if((0,w.hasClass)(o,"handsontableInput"))return;t.preventDefault(),(0,b.stopPropagation)(t);if(!r&&!i&&!s(o)&&(!(0,w.hasClass)(o,"current")||!(0,w.hasClass)(o,"wtBorder")))return;this.open(t)}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeContextMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterContextMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(o.default);C.SEPARATOR={name:E.SEPARATOR},(0,y.registerPlugin)("contextMenu",C),t.default=C},function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=void 0;return(0,i.arrayEach)(t,function(t){var r=t.key?t.key.split(":"):null;if(Array.isArray(r)&&r[1]===e)return n=t,!1}),n}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),s=n(1),u=function(){function e(t){o(this,e),this.hot=t,this.commands={},this.commonCallback=null}return r(e,[{key:"registerCommand",value:function(t,n){this.commands[t]=n}},{key:"setCommonCallback",value:function(t){this.commonCallback=t}},{key:"execute",value:function(t){var n=this;for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];var f=t.split(":"),l=f[0],c=f.length===2?f[1]:null,h=this.commands[l];if(!h)throw new Error("Menu command '"+l+"' not exists.");c&&h.submenu&&(h=a(c,h.submenu.items));if(h.disabled===!0)return;if(typeof h.disabled=="function"&&h.disabled.call(this.hot)===!0)return;if((0,s.hasOwnProperty)(h,"submenu"))return;var p=[];typeof h.callback=="function"&&p.push(h.callback),typeof this.commonCallback=="function"&&p.push(this.commonCallback),o.unshift(f.join(":")),(0,i.arrayEach)(p,function(e){return e.apply(n.hot,o)})}}]),e}();t.default=u},function(e,t,n){function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=[],u=e;return u&&u.items?u=u.items:Array.isArray(u)||(u=t),(0,i.isObject)(u)?(0,i.objectEach)(u,function(e,t){var s=n[typeof e=="string"?e:t];s||(s=e),(0,i.isObject)(e)?(0,i.extend)(s,e):typeof s=="string"&&(s={name:s}),s.key===void 0&&(s.key=t),r.push(s)}):(0,s.arrayEach)(u,function(e,t){var s=n[e];if(!s&&o.ITEMS.indexOf(e)>=0)return;s||(s={name:e,key:""+t}),(0,i.isObject)(e)&&(0,i.extend)(s,e),s.key===void 0&&(s.key=t),r.push(s)}),r}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),s=n(2),o=n(96),a=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;u(this,e),this.hot=t,this.predefinedItems=(0,o.predefinedItems)(),this.defaultOrderPattern=n}return r(e,[{key:"setPredefinedItems",value:function(t){var n=this,r={};this.defaultOrderPattern.length=0,(0,i.objectEach)(t,function(e,t){var i="";e.name===o.SEPARATOR?(r[o.SEPARATOR]=e,i=o.SEPARATOR):isNaN(parseInt(t,10))?(e.key=e.key===void 0?t:e.key,r[t]=e,i=e.key):(r[e.key]=e,i=e.key),n.defaultOrderPattern.push(i)}),this.predefinedItems=r}},{key:"getItems",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return f(t,this.defaultOrderPattern,this.predefinedItems)}}]),e}();t.default=a},function(e,t,n){function u(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(){return{key:a,name:function(){return this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT)},disabled:function(){return!this.getSelectedRange()||!!this.selection.isSelectedByCorner()},submenu:{items:[{key:a+":left",name:function(){var t=this,n=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT),i=(0,r.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&r.indexOf("htLeft")!==-1)return!0});return i&&(n=(0,r.markLabelAsSelected)(n)),n},callback:function(){var t=this,n=this.getSelectedRange(),i=(0,r.getAlignmentClasses)(n,function(e,n){return t.getCellMeta(e,n).className}),s="horizontal",o="htLeft";this.runHooks("beforeCellAlignment",i,n,s,o),(0,r.align)(n,s,o,function(e,n){return t.getCellMeta(e,n)},function(e,n,r,i){return t.setCellMeta(e,n,r,i)}),this.render()},disabled:!1},{key:a+":center",name:function(){var t=this,n=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER),i=(0,r.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&r.indexOf("htCenter")!==-1)return!0});return i&&(n=(0,r.markLabelAsSelected)(n)),n},callback:function(){var t=this,n=this.getSelectedRange(),i=(0,r.getAlignmentClasses)(n,function(e,n){return t.getCellMeta(e,n).className}),s="horizontal",o="htCenter";this.runHooks("beforeCellAlignment",i,n,s,o),(0,r.align)(n,s,o,function(e,n){return t.getCellMeta(e,n)},function(e,n,r,i){return t.setCellMeta(e,n,r,i)}),this.render()},disabled:!1},{key:a+":right",name:function(){var t=this,n=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT),i=(0,r.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&r.indexOf("htRight")!==-1)return!0});return i&&(n=(0,r.markLabelAsSelected)(n)),n},callback:function(){var t=this,n=this.getSelectedRange(),i=(0,r.getAlignmentClasses)(n,function(e,n){return t.getCellMeta(e,n).className}),s="horizontal",o="htRight";this.runHooks("beforeCellAlignment",i,n,s,o),(0,r.align)(n,s,o,function(e,n){return t.getCellMeta(e,n)},function(e,n,r,i){return t.setCellMeta(e,n,r,i)}),this.render()},disabled:!1},{key:a+":justify",name:function(){var t=this,n=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY),i=(0,r.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&r.indexOf("htJustify")!==-1)return!0});return i&&(n=(0,r.markLabelAsSelected)(n)),n},callback:function(){var t=this,n=this.getSelectedRange(),i=(0,r.getAlignmentClasses)(n,function(e,n){return t.getCellMeta(e,n).className}),s="horizontal",o="htJustify";this.runHooks("beforeCellAlignment",i,n,s,o),(0,r.align)(n,s,o,function(e,n){return t.getCellMeta(e,n)},function(e,n,r,i){return t.setCellMeta(e,n,r,i)}),this.render()},disabled:!1},{name:i.KEY},{key:a+":top",name:function(){var t=this,n=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_TOP),i=(0,r.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&r.indexOf("htTop")!==-1)return!0});return i&&(n=(0,r.markLabelAsSelected)(n)),n},callback:function(){var t=this,n=this.getSelectedRange(),i=(0,r.getAlignmentClasses)(n,function(e,n){return t.getCellMeta(e,n).className}),s="vertical",o="htTop";this.runHooks("beforeCellAlignment",i,n,s,o),(0,r.align)(n,s,o,function(e,n){return t.getCellMeta(e,n)},function(e,n,r,i){return t.setCellMeta(e,n,r,i)}),this.render()},disabled:!1},{key:a+":middle",name:function(){var t=this,n=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE),i=(0,r.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&r.indexOf("htMiddle")!==-1)return!0});return i&&(n=(0,r.markLabelAsSelected)(n)),n},callback:function(){var t=this,n=this.getSelectedRange(),i=(0,r.getAlignmentClasses)(n,function(e,n){return t.getCellMeta(e,n).className}),s="vertical",o="htMiddle";this.runHooks("beforeCellAlignment",i,n,s,o),(0,r.align)(n,s,o,function(e,n){return t.getCellMeta(e,n)},function(e,n,r,i){return t.setCellMeta(e,n,r,i)}),this.render()},disabled:!1},{key:a+":bottom",name:function(){var t=this,n=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM),i=(0,r.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&r.indexOf("htBottom")!==-1)return!0});return i&&(n=(0,r.markLabelAsSelected)(n)),n},callback:function(){var t=this,n=this.getSelectedRange(),i=(0,r.getAlignmentClasses)(n,function(e,n){return t.getCellMeta(e,n).className}),s="vertical",o="htBottom";this.runHooks("beforeCellAlignment",i,n,s,o),(0,r.align)(n,s,o,function(e,n){return t.getCellMeta(e,n)},function(e,n,r,i){return t.setCellMeta(e,n,r,i)}),this.render()},disabled:!1}]}}}t.__esModule=!0,t.KEY=undefined,t.default=f;var r=n(19),i=n(95),s=n(7),o=u(s),a=t.KEY="alignment"},function(e,t,n){function u(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(){return{key:a,name:function(){return this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_CLEAR_COLUMN)},callback:function(t,n){var r=n[0].start.col;this.countRows()&&this.populateFromArray(0,r,[[null]],Math.max(n[0].start.row,n[0].end.row),r,"ContextMenu.clearColumn")},disabled:function(){var t=(0,i.getValidSelection)(this);if(!t)return!0;var n=r(t[0],3),s=n[0],o=n[1],u=n[2],a=[s,0,u,this.countCols()-1],f=a.join(",")===t.join(",");return o<0||this.countCols()>=this.getSettings().maxCols||f}}}t.__esModule=!0,t.KEY=undefined;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=f;var i=n(19),s=n(7),o=u(s),a=t.KEY="clear_column"},function(e,t,n){function u(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(){return{key:a,name:function(){return this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_INSERT_LEFT)},callback:function(t,n){var r=n[Math.max(n.length-1,0)];this.alter("insert_col",r.start.col,1,"ContextMenu.columnLeft")},disabled:function(){var t=(0,i.getValidSelection)(this);if(!t)return!0;if(!this.isColumnModificationAllowed())return!0;var n=r(t[0],3),s=n[0],o=n[1],u=n[2],a=[s,0,u,this.countCols()-1],f=a.join(",")===t.join(","),l=this.countCols()===1;return o<0||this.countCols()>=this.getSettings().maxCols||!l&&f},hidden:function(){return!this.getSettings().allowInsertColumn}}}t.__esModule=!0,t.KEY=undefined;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=f;var i=n(19),s=n(7),o=u(s),a=t.KEY="col_left"},function(e,t,n){function u(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(){return{key:a,name:function(){return this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_INSERT_RIGHT)},callback:function(t,n){var r=n[Math.max(n.length-1,0)];this.alter("insert_col",r.end.col+1,1,"ContextMenu.columnRight")},disabled:function(){var t=(0,i.getValidSelection)(this);if(!t)return!0;if(!this.isColumnModificationAllowed())return!0;var n=r(t[0],3),s=n[0],o=n[1],u=n[2],a=[s,0,u,this.countCols()-1],f=a.join(",")===t.join(","),l=this.countCols()===1;return o<0||this.countCols()>=this.getSettings().maxCols||!l&&f},hidden:function(){return!this.getSettings().allowInsertColumn}}}t.__esModule=!0,t.KEY=undefined;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=f;var i=n(19),s=n(7),o=u(s),a=t.KEY="col_right"},function(e,t,n){function u(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(){return{key:a,name:function(){var t=this,n=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_READ_ONLY),i=(0,r.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){return t.getCellMeta(e,n).readOnly});return i&&(n=(0,r.markLabelAsSelected)(n)),n},callback:function(){var t=this,n=this.getSelectedRange(),s=(0,r.checkSelectionConsistency)(n,function(e,n){return t.getCellMeta(e,n).readOnly});(0,i.arrayEach)(n,function(e){e.forAll(function(e,n){t.setCellMeta(e,n,"readOnly",!s)})}),this.render()},disabled:function(){return!this.getSelectedRange()||!!this.selection.isSelectedByCorner()}}}t.__esModule=!0,t.KEY=undefined,t.default=f;var r=n(19),i=n(2),s=n(7),o=u(s),a=t.KEY="make_read_only"},function(e,t,n){function s(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(){return{key:o,name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_REDO)},callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}}}t.__esModule=!0,t.KEY=undefined,t.default=u;var r=n(7),i=s(r),o=t.KEY="redo"},function(e,t,n){function a(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(){return{key:f,name:function(){var t=this.getSelected(),n=0;if(t)if(t.length>1)n=1;else{var i=r(t[0],4),s=i[1],o=i[3];s-o!==0&&(n=1)}return this.getTranslatedPhrase(u.CONTEXTMENU_ITEMS_REMOVE_COLUMN,n)},callback:function(){this.alter("remove_col",(0,s.transformSelectionToColumnDistance)(this.getSelected()),null,"ContextMenu.removeColumn")},disabled:function(){var t=(0,i.getValidSelection)(this),n=this.countCols();return t?this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner()||!this.isColumnModificationAllowed()||!n:!0},hidden:function(){return!this.getSettings().allowRemoveColumn}}}t.__esModule=!0,t.KEY=undefined;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=l;var i=n(19),s=n(72),o=n(7),u=a(o),f=t.KEY="remove_col"},function(e,t,n){function a(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(){return{key:f,name:function(){var t=this.getSelected(),n=0;if(t)if(t.length>1)n=1;else{var i=r(t[0],3),s=i[0],o=i[2];s-o!==0&&(n=1)}return this.getTranslatedPhrase(u.CONTEXTMENU_ITEMS_REMOVE_ROW,n)},callback:function(){this.alter("remove_row",(0,s.transformSelectionToRowDistance)(this.getSelected()),null,"ContextMenu.removeRow")},disabled:function(){var t=(0,i.getValidSelection)(this),n=this.countRows();return t?this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner()||!n:!0},hidden:function(){return!this.getSettings().allowRemoveRow}}}t.__esModule=!0,t.KEY=undefined;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=l;var i=n(19),s=n(72),o=n(7),u=a(o),f=t.KEY="remove_row"},function(e,t,n){function o(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(){return{key:u,name:function(){return this.getTranslatedPhrase(s.CONTEXTMENU_ITEMS_ROW_ABOVE)},callback:function(t,n){var r=n[Math.max(n.length-1,0)];this.alter("insert_row",r.start.row,1,"ContextMenu.rowAbove")},disabled:function(){var t=(0,r.getValidSelection)(this);return t?this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows:!0},hidden:function(){return!this.getSettings().allowInsertRow}}}t.__esModule=!0,t.KEY=undefined,t.default=a;var r=n(19),i=n(7),s=o(i),u=t.KEY="row_above"},function(e,t,n){function o(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(){return{key:u,name:function(){return this.getTranslatedPhrase(s.CONTEXTMENU_ITEMS_ROW_BELOW)},callback:function(t,n){var r=n[Math.max(n.length-1,0)];this.alter("insert_row",r.end.row+1,1,"ContextMenu.rowBelow")},disabled:function(){var t=(0,r.getValidSelection)(this);return t?this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows:!0},hidden:function(){return!this.getSettings().allowInsertRow}}}t.__esModule=!0,t.KEY=undefined,t.default=a;var r=n(19),i=n(7),s=o(i),u=t.KEY="row_below"},function(e,t,n){function s(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(){return{key:o,name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_UNDO)},callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}}}t.__esModule=!0,t.KEY=undefined,t.default=u;var r=n(7),i=s(r),o=t.KEY="undo"},function(e,t,n){function E(e){return e&&e.__esModule?e:{"default":e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(90),s=E(i),o=n(0),u=n(2),a=n(317),f=E(a),l=n(5),c=E(l),h=n(1),p=n(11),d=n(43),v=n(19),m=n(21),g=n(47),y=E(g),b=n(96),w=n(13),x=215,T=function(){function e(t,n){S(this,e),this.hot=t,this.options=n||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:x},this.eventManager=new c.default(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.keyEvent=!1,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()}return r(e,[{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"mousedown",function(e){return t.onDocumentMouseDown(e)})}},{key:"setMenuItems",value:function(t){this.menuItems=t}},{key:"setOffset",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.offset[t]=n}},{key:"isSubMenu",value:function(){return this.parentMenu!==null}},{key:"open",value:function(){var t=this;this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";var n=(0,d.debounce)(function(e){return t.openSubMenu(e)},300),r=this.options.minWidth||x,i=(0,u.arrayFilter)(this.menuItems,function(e){return(0,v.isItemHidden)(e,t.hot)});i=(0,v.filterSeparators)(i,b.SEPARATOR);var o={data:i,colHeaders:!1,autoColumnSize:!0,modifyColWidth:function(t){return(0,p.isDefined)(t)&&t<r?r:t},autoRowSize:!1,readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:function(n,r,i,s,o,u){return t.menuItemRenderer(n,r,i,s,o,u)}}],renderAllRows:!0,fragmentSelection:"cell",disableVisualSelection:"area",beforeKeyDown:function(n){return t.onBeforeKeyDown(n)},afterOnCellMouseOver:function(r,i){t.isAllSubMenusClosed()?n(i.row):t.openSubMenu(i.row)},rowHeights:function(t){return i[t].name===b.SEPARATOR?1:23}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new s.default(this.container,o),this.hotMenu.addHook("afterInit",function(){return t.onAfterInit()}),this.hotMenu.addHook("afterSelection",function(){return t.onAfterSelection.apply(t,arguments)}),this.hotMenu.init(),this.hotMenu.listen(),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")}},{key:"close",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;if(!this.isOpened())return;t&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen())}},{key:"openSubMenu",value:function(n){if(!this.hotMenu)return!1;var r=this.hotMenu.getCell(n,0);this.closeAllSubMenus();if(!r||!(0,v.hasSubMenu)(r))return!1;var i=this.hotMenu.getSourceDataAtRow(n),s=new e(this.hot,{parent:this,name:i.name,className:this.options.className,keepInViewport:!0});return s.setMenuItems(i.submenu.items),s.open(),s.setPosition(r.getBoundingClientRect()),this.hotSubMenus[i.key]=s,s}},{key:"closeSubMenu",value:function(t){var n=this.hotMenu.getSourceDataAtRow(t),r=this.hotSubMenus[n.key];r&&(r.destroy(),delete this.hotSubMenus[n.key])}},{key:"closeAllSubMenus",value:function(){var t=this;(0,u.arrayEach)(this.hotMenu.getData(),function(e,n){return t.closeSubMenu(n)})}},{key:"isAllSubMenusClosed",value:function(){return Object.keys(this.hotSubMenus).length===0}},{key:"destroy",value:function(){this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy()}},{key:"isOpened",value:function(){return this.hotMenu!==null}},{key:"executeCommand",value:function(t){if(!this.isOpened()||!this.hotMenu.getSelectedLast())return;var n=this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]);this.runLocalHooks("select",n,t);if(n.isCommand===!1||n.name===b.SEPARATOR)return;var r=this.hot.getSelectedRange(),i=r?(0,v.normalizeSelection)(r):[],s=!0;if(n.disabled===!0||typeof n.disabled=="function"&&n.disabled.call(this.hot)===!0||n.submenu)s=!1;this.runLocalHooks("executeCommand",n.key,i,t),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",n.key,i,t),s&&this.close(!0)}},{key:"setPosition",value:function(t){var n=new f.default(t);this.options.keepInViewport?(n.fitsBelow(this.container)?this.setPositionBelowCursor(n):n.fitsAbove(this.container)?this.setPositionAboveCursor(n):this.setPositionBelowCursor(n),n.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(n):this.setPositionOnLeftOfCursor(n)):(this.setPositionBelowCursor(n),this.setPositionOnRightOfCursor(n))}},{key:"setPositionAboveCursor",value:function(t){var n=this.offset.above+t.top-this.container.offsetHeight;this.isSubMenu()&&(n=t.top+t.cellHeight-this.container.offsetHeight+3),this.container.style.top=n+"px"}},{key:"setPositionBelowCursor",value:function(t){var n=this.offset.below+t.top;this.isSubMenu()&&(n=t.top-1),this.container.style.top=n+"px"}},{key:"setPositionOnRightOfCursor",value:function(t){var n=void 0;this.isSubMenu()?n=1+t.left+t.cellWidth:n=this.offset.right+1+t.left,this.container.style.left=n+"px"}},{key:"setPositionOnLeftOfCursor",value:function(t){var n=this.offset.left+t.left-this.container.offsetWidth+(0,o.getScrollbarWidth)()+4;this.container.style.left=n+"px"}},{key:"selectFirstCell",value:function(){var t=this.hotMenu.getCell(0,0);(0,v.isSeparator)(t)||(0,v.isDisabled)(t)||(0,v.isSelectionDisabled)(t)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)}},{key:"selectLastCell",value:function(){var t=this.hotMenu.countRows()-1,n=this.hotMenu.getCell(t,0);(0,v.isSeparator)(n)||(0,v.isDisabled)(n)||(0,v.isSelectionDisabled)(n)?this.selectPrevCell(t,0):this.hotMenu.selectCell(t,0)}},{key:"selectNextCell",value:function(t,n){var r=t+1,i=r<this.hotMenu.countRows()?this.hotMenu.getCell(r,n):null;if(!i)return;(0,v.isSeparator)(i)||(0,v.isDisabled)(i)||(0,v.isSelectionDisabled)(i)?this.selectNextCell(r,n):this.hotMenu.selectCell(r,n)}},{key:"selectPrevCell",value:function(t,n){var r=t-1,i=r>=0?this.hotMenu.getCell(r,n):null;if(!i)return;(0,v.isSeparator)(i)||(0,v.isDisabled)(i)||(0,v.isSelectionDisabled)(i)?this.selectPrevCell(r,n):this.hotMenu.selectCell(r,n)}},{key:"menuItemRenderer",value:function(t,n,r,i,s,u){var a=this,f=t.getSourceDataAtRow(r),l=document.createElement("div"),c=function(t){return(0,h.hasOwnProperty)(t,"submenu")},p=function(t){return(new RegExp(b.SEPARATOR,"i")).test(t.name)},d=function(t){return t.disabled===!0||typeof t.disabled=="function"&&t.disabled.call(a.hot)===!0},v=function(t){return t.disableSelection},m=u;typeof m=="function"&&(m=m.call(this.hot)),(0,o.empty)(n),(0,o.addClass)(l,"htItemWrapper"),n.appendChild(l),p(f)?(0,o.addClass)(n,"htSeparator"):typeof f.renderer=="function"?((0,o.addClass)(n,"htCustomMenuRenderer"),n.appendChild(f.renderer(t,l,r,i,s,m))):(0,o.fastInnerHTML)(l,m),d(f)?((0,o.addClass)(n,"htDisabled"),this.eventManager.addEventListener(n,"mouseenter",function(){return t.deselectCell()})):v(f)?((0,o.addClass)(n,"htSelectionDisabled"),this.eventManager.addEventListener(n,"mouseenter",function(){return t.deselectCell()})):c(f)?((0,o.addClass)(n,"htSubmenu"),v(f)?this.eventManager.addEventListener(n,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(n,"mouseenter",function(){return t.selectCell(r,i,void 0,void 0,!1,!1)})):((0,o.removeClass)(n,"htSubmenu"),(0,o.removeClass)(n,"htDisabled"),v(f)?this.eventManager.addEventListener(n,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(n,"mouseenter",function(){return t.selectCell(r,i,void 0,void 0,!1,!1)}))}},{key:"createContainer",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null,n=t,r=void 0;return n?((0,d.isFunction)(n)&&(n=n.call(this.hot),n===null||(0,p.isUndefined)(n)?n="":n=n.toString()),n=n.replace(/[^A-z0-9]/g,"_"),n=this.options.className+"Sub_"+n,r=document.querySelector("."+this.options.className+"."+n)):r=document.querySelector("."+this.options.className),r||(r=document.createElement("div"),(0,o.addClass)(r,"htMenu "+this.options.className),n&&(0,o.addClass)(r,n),document.getElementsByTagName("body")[0].appendChild(r)),r}},{key:"blockMainTableCallbacks",value:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)}},{key:"releaseMainTableCallbacks",value:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)}},{key:"onBeforeKeyDown",value:function(t){var n=this.hotMenu.getSelectedLast(),r=!1;this.keyEvent=!0;switch(t.keyCode){case m.KEY_CODES.ESCAPE:this.close(),r=!0;break;case m.KEY_CODES.ENTER:n&&(this.hotMenu.getSourceDataAtRow(n[0]).submenu?r=!0:(this.executeCommand(t),this.close(!0)));break;case m.KEY_CODES.ARROW_DOWN:n?this.selectNextCell(n[0],n[1]):this.selectFirstCell(),r=!0;break;case m.KEY_CODES.ARROW_UP:n?this.selectPrevCell(n[0],n[1]):this.selectLastCell(),r=!0;break;case m.KEY_CODES.ARROW_RIGHT:if(n){var i=this.openSubMenu(n[0]);i&&i.selectFirstCell()}r=!0;break;case m.KEY_CODES.ARROW_LEFT:n&&this.isSubMenu()&&(this.close(),this.parentMenu&&this.parentMenu.hotMenu.listen(),r=!0);break;default:}r&&(t.preventDefault(),(0,w.stopImmediatePropagation)(t)),this.keyEvent=!1}},{key:"onAfterInit",value:function(){var t=this.hotMenu.getSettings().data,n=this.hotMenu.view.wt.wtTable.hider.style,r=this.hotMenu.view.wt.wtTable.holder.style,i=parseInt(n.width,10),s=(0,u.arrayReduce)(t,function(e,t){return e+(t.name===b.SEPARATOR?1:26)},0);r.width=i+22+"px",r.height=s+4+"px",n.height=r.height}},{key:"onAfterSelection",value:function(t,n,r,i,s){this.keyEvent===!1&&(s.value=!0)}},{key:"onDocumentMouseDown",value:function(t){if(!this.isOpened())return;this.container&&(0,o.isChildOf)(t.target,this.container)&&this.executeCommand(t),this.options.standalone&&this.hotMenu&&!(0,o.isChildOf)(t.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!(0,o.isChildOf)(t.target,".htMenu")&&(0,o.isChildOf)(t.target,document)&&this.close(!0)}}]),e}();(0,h.mixin)(T,y.default),t.default=T},function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(13),u=function(){function e(t){o(this,e);var n=(0,i.getWindowScrollTop)(),r=(0,i.getWindowScrollLeft)(),u=void 0,a=void 0,f=void 0,l=void 0,c=void 0,h=void 0;this.type=this.getSourceType(t),this.type==="literal"?(u=parseInt(t.top,10),f=parseInt(t.left,10),c=t.height||0,h=t.width||0,a=u,l=f,u+=n,f+=r):this.type==="event"&&(u=parseInt((0,s.pageY)(t),10),f=parseInt((0,s.pageX)(t),10),c=t.target.clientHeight,h=t.target.clientWidth,a=u-n,l=f-r),this.top=u,this.topRelative=a,this.left=f,this.leftRelative=l,this.scrollTop=n,this.scrollLeft=r,this.cellHeight=c,this.cellWidth=h}return r(e,[{key:"getSourceType",value:function(t){var n="literal";return t instanceof Event&&(n="event"),n}},{key:"fitsAbove",value:function(t){return this.topRelative>=t.offsetHeight}},{key:"fitsBelow",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.innerHeight;return this.topRelative+t.offsetHeight<=n}},{key:"fitsOnRight",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=n}},{key:"fitsOnLeft",value:function(t){return this.leftRelative>=t.offsetWidth}}]),e}();t.default=u},function(e,t){},function(e,t,n){function T(e){return e&&e.__esModule?e:{"default":e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function k(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function _(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:_(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},o=n(10),u=T(o),a=n(16),f=T(a),l=n(193),c=T(l),h=n(4),p=n(0),d=n(2),v=n(6),m=n(8),g=n(320),y=T(g),b=n(321),w=T(b),E=n(322),S=T(E),x=n(324);n(325),f.default.getSingleton().register("afterCopyLimit"),f.default.getSingleton().register("modifyCopyableRange"),f.default.getSingleton().register("beforeCut"),f.default.getSingleton().register("afterCut"),f.default.getSingleton().register("beforePaste"),f.default.getSingleton().register("afterPaste"),f.default.getSingleton().register("beforeCopy"),f.default.getSingleton().register("afterCopy");var L=1e3,A=1e3,O=new WeakMap,M=function(e){function t(e){N(this,t);var n=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.columnsLimit=A,n.copyableRanges=[],n.pasteMode="overwrite",n.rowsLimit=L,O.set(n,{isTriggeredByCopy:!1,isTriggeredByCut:!1,isBeginEditing:!1,isFragmentSelectionEnabled:!1}),n}return k(t,e),i(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().copyPaste}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;var i=this.hot.getSettings(),o=O.get(this);o.isFragmentSelectionEnabled=i.fragmentSelection,r(i.copyPaste)==="object"&&(this.pasteMode=i.copyPaste.pasteMode||this.pasteMode,this.rowsLimit=i.copyPaste.rowsLimit||this.rowsLimit,this.columnsLimit=i.copyPaste.columnsLimit||this.columnsLimit),this.addHook("afterContextMenuDefaultOptions",function(e){return n.onAfterContextMenuDefaultOptions(e)}),this.addHook("afterSelectionEnd",function(){return n.onAfterSelectionEnd()}),this.focusableElement=(0,x.createElement)(),this.focusableElement.addLocalHook("copy",function(e){return n.onCopy(e)}).addLocalHook("cut",function(e){return n.onCut(e)}).addLocalHook("paste",function(e){return n.onPaste(e)}),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.focusableElement&&(0,x.destroyElement)(this.focusableElement),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"setCopyableText",value:function(){var t=this.hot.getSelectedRangeLast();if(!t)return;var n=t.getTopLeftCorner(),r=t.getBottomRightCorner(),i=n.row,s=n.col,o=r.row,u=r.col,a=Math.min(o,i+this.rowsLimit-1),f=Math.min(u,s+this.columnsLimit-1);this.copyableRanges.length=0,this.copyableRanges.push({startRow:i,startCol:s,endRow:a,endCol:f}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges),(o!==a||u!==f)&&this.hot.runHooks("afterCopyLimit",o-i+1,u-s+1,this.rowsLimit,this.columnsLimit)}},{key:"getRangedCopyableData",value:function(t){var n=this,r=[],i=[],s=[];return(0,d.arrayEach)(t,function(e){(0,v.rangeEach)(e.startRow,e.endRow,function(e){i.indexOf(e)===-1&&i.push(e)}),(0,v.rangeEach)(e.startCol,e.endCol,function(e){s.indexOf(e)===-1&&s.push(e)})}),(0,d.arrayEach)(i,function(e){var t=[];(0,d.arrayEach)(s,function(r){t.push(n.hot.getCopyableData(e,r))}),r.push(t)}),c.default.stringify(r)}},{key:"getRangedData",value:function(t){var n=this,r=[],i=[],s=[];return(0,d.arrayEach)(t,function(e){(0,v.rangeEach)(e.startRow,e.endRow,function(e){i.indexOf(e)===-1&&i.push(e)}),(0,v.rangeEach)(e.startCol,e.endCol,function(e){s.indexOf(e)===-1&&s.push(e)})}),(0,d.arrayEach)(i,function(e){var t=[];(0,d.arrayEach)(s,function(r){t.push(n.hot.getCopyableData(e,r))}),r.push(t)}),r}},{key:"copy",value:function(){var t=O.get(this);t.isTriggeredByCopy=!0,this.focusableElement.focus(),document.execCommand("copy")}},{key:"cut",value:function(){var t=O.get(this);t.isTriggeredByCut=!0,this.focusableElement.focus(),document.execCommand("cut")}},{key:"paste",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",n=new S.default;n.clipboardData.setData("text/plain",t),this.onPaste(n)}},{key:"onCopy",value:function(t){var n=O.get(this);if(!this.hot.isListening()&&!n.isTriggeredByCopy)return;var r=this.hot.getActiveEditor();if(r&&r.isOpened())return;this.setCopyableText(),n.isTriggeredByCopy=!1;var i=this.getRangedData(this.copyableRanges),s=!!this.hot.runHooks("beforeCopy",i,this.copyableRanges),o="";s&&(o=c.default.stringify(i),t&&t.clipboardData?t.clipboardData.setData("text/plain",o):typeof ClipboardEvent=="undefined"&&window.clipboardData.setData("Text",o),this.hot.runHooks("afterCopy",i,this.copyableRanges)),t.preventDefault()}},{key:"onCut",value:function(t){var n=O.get(this);if(!this.hot.isListening()&&!n.isTriggeredByCut)return;var r=this.hot.getActiveEditor();if(r&&r.isOpened())return;this.setCopyableText(),n.isTriggeredByCut=!1;var i=this.getRangedData(this.copyableRanges),s=!!this.hot.runHooks("beforeCut",i,this.copyableRanges),o=void 0;s&&(o=c.default.stringify(i),t&&t.clipboardData?t.clipboardData.setData("text/plain",o):typeof ClipboardEvent=="undefined"&&window.clipboardData.setData("Text",o),this.hot.emptySelectedCells(),this.hot.runHooks("afterCut",i,this.copyableRanges)),t.preventDefault()}},{key:"onPaste",value:function(t){var n=this;if(!this.hot.isListening())return;var r=this.hot.getActiveEditor();if(r&&r.isOpened())return;t&&t.preventDefault&&t.preventDefault();var i=void 0;t&&typeof t.clipboardData!="undefined"?i=t.clipboardData.getData("text/plain"):typeof ClipboardEvent=="undefined"&&typeof window.clipboardData!="undefined"&&(i=window.clipboardData.getData("Text"));var s=c.default.parse(i);if(s.length===0)return;var o=!!this.hot.runHooks("beforePaste",s,this.copyableRanges);if(!o)return;var u=this.hot.getSelectedLast(),a=new h.CellCoords(u[0],u[1]),f=new h.CellCoords(u[2],u[3]),l=new h.CellRange(a,a,f),p=l.getTopLeftCorner(),v=l.getBottomRightCorner(),m=p,g=new h.CellCoords(Math.max(v.row,s.length-1+p.row),Math.max(v.col,s[0].length-1+p.col)),y=f.row-a.row>=s.length-1,b=f.col-a.col>=s[0].length-1;this.hot.addHookOnce("afterChange",function(e){var t=e?e.length:0;if(t){var r={row:0,col:0},i=-1;(0,d.arrayEach)(e,function(n,s){var o=t>s+1?e[s+1]:null;o&&(y||(r.row+=Math.max(o[0]-n[0]-1,0)),!b&&n[1]>i&&(i=n[1],r.col+=Math.max(o[1]-n[1]-1,0)))}),n.hot.selectCell(m.row,m.col,g.row+r.row,g.col+r.col)}}),this.hot.populateFromArray(m.row,m.col,s,g.row,g.col,"CopyPaste.paste",this.pasteMode),this.hot.runHooks("afterPaste",s,this.copyableRanges)}},{key:"onAfterContextMenuDefaultOptions",value:function(t){t.items.push({name:"---------"},(0,y.default)(this),(0,w.default)(this))}},{key:"onAfterSelectionEnd",value:function(){var t=O.get(this),n=t.isFragmentSelectionEnabled,r=this.hot.getActiveEditor();if(r&&r.isOpened())return;var i=r?r.TEXTAREA:void 0;i?this.focusableElement.setFocusableElement(i):this.focusableElement.useSecondaryElement();if(n&&this.focusableElement.getFocusableElement()!==document.activeElement&&(0,p.getSelectionText)())return;this.setCopyableText(),this.focusableElement.focus()}},{key:"destroy",value:function(){this.focusableElement&&((0,x.destroyElement)(this.focusableElement),this.focusableElement=null),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(u.default);(0,m.registerPlugin)("CopyPaste",M),t.default=M},function(e,t,n){function s(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return{key:"copy",name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_COPY)},callback:function(){e.copy()},disabled:function(){var t=this.getSelected();return!t||t.length>1?!0:!1},hidden:!1}}t.__esModule=!0,t.default=o;var r=n(7),i=s(r)},function(e,t,n){function s(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return{key:"cut",name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_CUT)},callback:function(){e.cut()},disabled:function(){var t=this.getSelected();return!t||t.length>1?!0:!1},hidden:!1}}t.__esModule=!0,t.default=o;var r=n(7),i=s(r)},function(e,t,n){function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=n(323),i=s(r),u=function a(){o(this,a),this.clipboardData=new i.default};t.default=u},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){i(this,e),this.data={}}return r(e,[{key:"setData",value:function(t,n){this.data[t]=n}},{key:"getData",value:function(t){return this.data[t]||void 0}}]),e}();t.default=s},function(e,t,n){function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(){var e=new c;return h+=1,e}function d(e){e.eventManager.clear()}function m(e,t,n){e.addEventListener(t,"copy",v("copy",n)),e.addEventListener(t,"cut",v("cut",n)),e.addEventListener(t,"paste",v("paste",n))}function y(){if(g)return g.parentElement||document.body.appendChild(g),g;var e=document.createElement("textarea");return g=e,e.id="HandsontableCopyPaste",e.className="copyPaste",e.tabIndex=-1,e.autocomplete="off",e.wrap="hard",e.value=" ",document.body.appendChild(e),e}function b(e){if(!(e instanceof c))return;h>0&&(h-=1),d(e),h<=0&&(h=0,g&&g.parentNode&&(g.parentNode.removeChild(g),g=null),e.mainElement=null)}t.__esModule=!0,t.destroyElement=t.deactivateElement=t.createElement=undefined;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(5),s=f(i),o=n(47),u=f(o),a=n(1),c=function(){function e(){l(this,e),this.mainElement=null,this.eventManager=new s.default(this),this.listenersCount=new WeakSet}return r(e,[{key:"useSecondaryElement",value:function(){var t=y();this.listenersCount.has(t)||(this.listenersCount.add(t),m(this.eventManager,t,this)),this.mainElement=t}},{key:"setFocusableElement",value:function(t){this.listenersCount.has(t)||(this.listenersCount.add(t),m(this.eventManager,t,this)),this.mainElement=t}},{key:"getFocusableElement",value:function(){return this.mainElement}},{key:"focus",value:function(){this.mainElement.value=" ",this.mainElement.select()}}]),e}();(0,a.mixin)(c,u.default);var h=0,v=function(t,n){return function(e){return n.runLocalHooks(t,e)}},g=void 0;t.createElement=p,t.deactivateElement=d,t.destroyElement=b},function(e,t){},function(e,t,n){function y(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{"default":e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function S(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function T(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:T(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},o=n(10),u=b(o),a=n(8),f=n(1),l=n(6),c=n(2),h=n(4),p=n(7),d=y(p),v=n(327),m=n(48),g=n(201),x=function(e){function t(e){w(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.savedBorders=[],n}return S(t,e),i(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().customBorders}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.addHook("afterContextMenuDefaultOptions",function(e){return n.onAfterContextMenuDefaultOptions(e)}),this.addHook("afterInit",function(){return n.onAfterInit()}),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hideBorders(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"setBorders",value:function(t,n){var i=this,s=["top","right","bottom","left"],o=n?Object.keys(n):s,u=(0,g.detectSelectionType)(t),a=(0,g.normalizeSelectionFactory)(u);(0,c.arrayEach)(t,function(e){var t=a(e),s=r(t,4),u=s[0],f=s[1],l=s[2],h=s[3],p=function(t){var r=function(r){(0,c.arrayEach)(o,function(e){i.prepareBorderFromCustomAdded(t,r,n,e)})};for(var s=f;s<=h;s+=1)r(s)};for(var d=u;d<=l;d+=1)p(d)})}},{key:"getBorders",value:function(t){var n=this;if(!Array.isArray(t))return this.savedBorders;var i=(0,g.detectSelectionType)(t),s=(0,g.normalizeSelectionFactory)(i),o=[];return(0,c.arrayEach)(t,function(e){var t=s(e),i=r(t,4),u=i[0],a=i[1],f=i[2],l=i[3],h=function(t){var r=function(r){(0,c.arrayEach)(n.savedBorders,function(e){e.row===t&&e.col===r&&o.push(e)})};for(var i=a;i<=l;i+=1)r(i)};for(var p=u;p<=f;p+=1)h(p)}),o}},{key:"clearBorders",value:function(t){var n=this;t?this.setBorders(t):((0,c.arrayEach)(this.savedBorders,function(e){n.clearBordersFromSelectionSettings(e.id),n.clearNullCellRange(),n.hot.removeCellMeta(e.row,e.col,"borders")}),this.savedBorders.length=0)}},{key:"insertBorderIntoSettings",value:function(t,n){var r=this.checkSavedBorders(t);r||this.savedBorders.push(t);var i={row:t.row,col:t.col},s=new h.CellRange(i,i,i),o=this.checkCustomSelections(t,s,n);o||(this.hot.selection.highlight.addCustomSelection({border:t,cellRange:s}),this.hot.view.wt.draw(!0))}},{key:"prepareBorderFromCustomAdded",value:function(t,n,r,i){var s=(0,m.createEmptyBorders)(t,n);r&&(s=(0,m.extendDefaultBorder)(s,r),(0,c.arrayEach)(this.hot.selection.highlight.customSelections,function(e){if(s.id===e.settings.id)return Object.assign(e.settings,r),s=e.settings,!1})),this.hot.setCellMeta(t,n,"borders",s),this.insertBorderIntoSettings(s,i)}},{key:"prepareBorderFromCustomAddedRange",value:function(t){var n=this,r=t.range;(0,l.rangeEach)(r.from.row,r.to.row,function(e){(0,l.rangeEach)(r.from.col,r.to.col,function(i){var s=(0,m.createEmptyBorders)(e,i),o=0;e===r.from.row&&(o+=1,(0,f.hasOwnProperty)(t,"top")&&(s.top=t.top)),e===r.to.row&&(o+=1,(0,f.hasOwnProperty)(t,"bottom")&&(s.bottom=t.bottom)),i===r.from.col&&(o+=1,(0,f.hasOwnProperty)(t,"left")&&(s.left=t.left)),i===r.to.col&&(o+=1,(0,f.hasOwnProperty)(t,"right")&&(s.right=t.right)),o>0&&(n.hot.setCellMeta(e,i,"borders",s),n.insertBorderIntoSettings(s))})})}},{key:"removeAllBorders",value:function(t,n){var r=(0,m.createId)(t,n);this.spliceBorder(r),this.clearBordersFromSelectionSettings(r),this.clearNullCellRange(),this.hot.removeCellMeta(t,n,"borders")}},{key:"setBorder",value:function(t,n,r,i){var s=this.hot.getCellMeta(t,n).borders;if(!s||s.border===void 0)s=(0,m.createEmptyBorders)(t,n);if(i){s[r]=(0,m.createSingleEmptyBorder)();var o=this.countHide(s);if(o===4)this.removeAllBorders(t,n);else{var u=this.checkCustomSelectionsFromContextMenu(s,r,i);u||this.insertBorderIntoSettings(s),this.hot.setCellMeta(t,n,"borders",s)}}else{s[r]=(0,m.createDefaultCustomBorder)();var a=this.checkCustomSelectionsFromContextMenu(s,r,i);a||this.insertBorderIntoSettings(s),this.hot.setCellMeta(t,n,"borders",s)}}},{key:"prepareBorder",value:function(t,n,r){var i=this;(0,c.arrayEach)(t,function(e){var t=e.start,s=e.end;if(t.row===s.row&&t.col===s.col)n==="noBorders"?i.removeAllBorders(t.row,t.col):i.setBorder(t.row,t.col,n,r);else switch(n){case"noBorders":(0,l.rangeEach)(t.col,s.col,function(e){(0,l.rangeEach)(t.row,s.row,function(t){i.removeAllBorders(t,e)})});break;case"top":(0,l.rangeEach)(t.col,s.col,function(e){i.setBorder(t.row,e,n,r)});break;case"right":(0,l.rangeEach)(t.row,s.row,function(e){i.setBorder(e,s.col,n,r)});break;case"bottom":(0,l.rangeEach)(t.col,s.col,function(e){i.setBorder(s.row,e,n,r)});break;case"left":(0,l.rangeEach)(t.row,s.row,function(e){i.setBorder(e,t.col,n,r)});break;default:}})}},{key:"createCustomBorders",value:function(t){var n=this;(0,c.arrayEach)(t,function(e){e.range?n.prepareBorderFromCustomAddedRange(e):n.prepareBorderFromCustomAdded(e.row,e.col,e)})}},{key:"countHide",value:function(t){var n=Object.values(t);return(0,c.arrayReduce)(n,function(e,t){var n=e;return t.hide&&(n+=1),n},0)}},{key:"clearBordersFromSelectionSettings",value:function(t){var n=(0,c.arrayMap)(this.hot.selection.highlight.customSelections,function(e){return e.settings.id}).indexOf(t);n>-1&&this.hot.selection.highlight.customSelections[n].clear(),this.hot.view.wt.draw(!0)}},{key:"clearNullCellRange",value:function(){var t=this;(0,c.arrayEach)(this.hot.selection.highlight.customSelections,function(e,n){if(e.cellRange===null)return t.hot.selection.highlight.customSelections.splice(n,1),!1})}},{key:"hideBorders",value:function(){var t=this;(0,c.arrayEach)(this.savedBorders,function(e){t.clearBordersFromSelectionSettings(e.id)})}},{key:"spliceBorder",value:function(t){var n=(0,c.arrayMap)(this.savedBorders,function(e){return e.id}).indexOf(t);n>-1&&this.savedBorders.splice(n,1)}},{key:"checkSavedBorders",value:function(t){var n=this,r=!1,i=this.countHide(t);return i===4?(this.spliceBorder(t.id),r=!0):(0,c.arrayEach)(this.savedBorders,function(e,i){if(t.id===e.id)return n.savedBorders[i]=t,r=!0,!1}),r}},{key:"checkCustomSelectionsFromContextMenu",value:function(t,n,r){var i=!1;return(0,c.arrayEach)(this.hot.selection.highlight.customSelections,function(e){if(t.id===e.settings.id)return(0,f.objectEach)(e.instanceBorders,function(e){e.toggleHiddenClass(n,r)}),i=!0,!1}),i}},{key:"checkCustomSelections",value:function(t,n,r){var i=this.countHide(t),s=!1;return i===4?(this.removeAllBorders(t.row,t.col),this.clearBordersFromSelectionSettings(t.id),this.clearNullCellRange(),s=!0):(0,c.arrayEach)(this.hot.selection.highlight.customSelections,function(e){if(t.id===e.settings.id)return e.cellRange=n,r&&(0,f.objectEach)(e.instanceBorders,function(e){e.changeBorderStyle(r,t)}),s=!0,!1}),s}},{key:"changeBorderSettings",value:function(){var t=this.hot.getSettings().customBorders;Array.isArray(t)?(t.length||(this.savedBorders=t),this.createCustomBorders(t)):t!==void 0&&this.createCustomBorders(this.savedBorders)}},{key:"onAfterContextMenuDefaultOptions",value:function(t){if(!this.hot.getSettings().customBorders)return;t.items.push({name:"---------"},{key:"borders",name:function(){return this.getTranslatedPhrase(d.CONTEXTMENU_ITEMS_BORDERS)},disabled:function(){return this.selection.isSelectedByCorner()},submenu:{items:[(0,v.top)(this),(0,v.right)(this),(0,v.bottom)(this),(0,v.left)(this),(0,v.noBorders)(this)]}})}},{key:"onAfterInit",value:function(){this.changeBorderSettings()}},{key:"destroy",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(u.default);(0,a.registerPlugin)("customBorders",x),t.default=x},function(e,t,n){function p(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.top=t.right=t.noBorders=t.left=t.bottom=undefined;var r=n(328),i=p(r),s=n(329),o=p(s),u=n(330),a=p(u),f=n(331),l=p(f),c=n(332),h=p(c);t.bottom=i.default,t.left=o.default,t.noBorders=a.default,t.right=l.default,t.top=h.default},function(e,t,n){function o(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return{key:"borders:bottom",name:function(){var t=this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_BORDERS_BOTTOM),n=(0,s.checkSelectionBorders)(this,"bottom");return n&&(t=(0,s.markSelected)(t)),t},callback:function(n,r){var i=(0,s.checkSelectionBorders)(this,"bottom");e.prepareBorder(r,"bottom",i)}}}t.__esModule=!0,t.default=u;var r=n(7),i=o(r),s=n(48)},function(e,t,n){function o(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return{key:"borders:left",name:function(){var t=this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_BORDERS_LEFT),n=(0,s.checkSelectionBorders)(this,"left");return n&&(t=(0,s.markSelected)(t)),t},callback:function(n,r){var i=(0,s.checkSelectionBorders)(this,"left");e.prepareBorder(r,"left",i)}}}t.__esModule=!0,t.default=u;var r=n(7),i=o(r),s=n(48)},function(e,t,n){function o(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return{key:"borders:no_borders",name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_REMOVE_BORDERS)},callback:function(n,r){e.prepareBorder(r,"noBorders")},disabled:function(){return!(0,s.checkSelectionBorders)(this)}}}t.__esModule=!0,t.default=u;var r=n(7),i=o(r),s=n(48)},function(e,t,n){function o(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return{key:"borders:right",name:function(){var t=this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_BORDERS_RIGHT),n=(0,s.checkSelectionBorders)(this,"right");return n&&(t=(0,s.markSelected)(t)),t},callback:function(n,r){var i=(0,s.checkSelectionBorders)(this,"right");e.prepareBorder(r,"right",i)}}}t.__esModule=!0,t.default=u;var r=n(7),i=o(r),s=n(48)},function(e,t,n){function o(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return{key:"borders:top",name:function(){var t=this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_BORDERS_TOP),n=(0,s.checkSelectionBorders)(this,"top");return n&&(t=(0,s.markSelected)(t)),t},callback:function(n,r){var i=(0,s.checkSelectionBorders)(this,"top");e.prepareBorder(r,"top",i)}}}t.__esModule=!0,t.default=u;var r=n(7),i=o(r),s=n(48)},function(e,t,n){function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function p(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function v(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:v(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(10),o=l(s),u=n(5),a=l(u),f=n(8),d=function(e){function t(e){c(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.eventManager=new a.default(n),n.boundaries=null,n.callback=null,n.listening=!1,n}return p(t,e),r(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().dragToScroll}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.addHook("afterOnCellMouseDown",function(){return n.setupListening()}),this.addHook("afterOnCellCornerMouseDown",function(){return n.setupListening()}),this.registerEvents(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.unregisterEvents(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"setBoundaries",value:function(t){this.boundaries=t}},{key:"setCallback",value:function(t){this.callback=t}},{key:"check",value:function(t,n){var r=0,i=0;n<this.boundaries.top?i=n-this.boundaries.top:n>this.boundaries.bottom&&(i=n-this.boundaries.bottom),t<this.boundaries.left?r=t-this.boundaries.left:t>this.boundaries.right&&(r=t-this.boundaries.right),this.callback(r,i)}},{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(document,"mouseup",function(){return t.onMouseUp()}),this.eventManager.addEventListener(document,"mousemove",function(e){return t.onMouseMove(e)})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"setupListening",value:function(){var t=this.hot.view.wt.wtTable.holder;if(t===window)return;this.setBoundaries(t.getBoundingClientRect()),this.setCallback(function(e,n){e<0?t.scrollLeft-=50:e>0&&(t.scrollLeft+=50),n<0?t.scrollTop-=20:n>0&&(t.scrollTop+=20)}),this.listening=!0}},{key:"onMouseMove",value:function(t){this.listening&&this.check(t.clientX,t.clientY)}},{key:"onMouseUp",value:function(){this.listening=!1}},{key:"destroy",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(o.default);(0,f.registerPlugin)("dragToScroll",d),t.default=d},function(e,t,n){function p(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function m(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function b(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:b(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(10),o=p(s),u=n(8),a=n(2),f=n(335),l=p(f),c=n(336),h=p(c);n(337);var g=new WeakMap,y=function(e){function t(e){d(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g.set(n,{moveByFreeze:!1,afterFirstUse:!1}),n.frozenColumnsBasePositions=[],n.manualColumnMovePlugin=void 0,n}return m(t,e),r(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnFreeze}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.addHook("afterContextMenuDefaultOptions",function(e){return n.addContextMenuEntry(e)}),this.addHook("afterInit",function(){return n.onAfterInit()}),this.addHook("beforeColumnMove",function(e,t){return n.onBeforeColumnMove(e,t)}),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var n=g.get(this);n.afterFirstUse=!1,n.moveByFreeze=!1,i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"freezeColumn",value:function(t){var n=g.get(this),r=this.hot.getSettings();n.afterFirstUse||(n.afterFirstUse=!0);if(r.fixedColumnsLeft===this.hot.countCols()||t<=r.fixedColumnsLeft-1)return;n.moveByFreeze=!0,t!==this.getMovePlugin().columnsMapper.getValueByIndex(t)&&(this.frozenColumnsBasePositions[r.fixedColumnsLeft]=t),this.getMovePlugin().moveColumn(t,r.fixedColumnsLeft),r.fixedColumnsLeft+=1}},{key:"unfreezeColumn",value:function(t){var n=g.get(this),r=this.hot.getSettings();n.afterFirstUse||(n.afterFirstUse=!0);if(r.fixedColumnsLeft<=0||t>r.fixedColumnsLeft-1)return;var i=this.getBestColumnReturnPosition(t);n.moveByFreeze=!0,r.fixedColumnsLeft-=1,this.getMovePlugin().moveColumn(t,i+1)}},{key:"getMovePlugin",value:function(){return this.manualColumnMovePlugin||(this.manualColumnMovePlugin=this.hot.getPlugin("manualColumnMove")),this.manualColumnMovePlugin}},{key:"getBestColumnReturnPosition",value:function(t){var n=this.getMovePlugin(),r=this.hot.getSettings(),i=r.fixedColumnsLeft,s=n.columnsMapper.getValueByIndex(i),o=void 0;if(this.frozenColumnsBasePositions[t]===null||this.frozenColumnsBasePositions[t]===void 0){o=n.columnsMapper.getValueByIndex(t);while(s!==null&&s<=o)i+=1,s=n.columnsMapper.getValueByIndex(i)}else{o=this.frozenColumnsBasePositions[t],this.frozenColumnsBasePositions[t]=void 0;while(s!==null&&s<=o)i+=1,s=n.columnsMapper.getValueByIndex(i);i=s}return i-1}},{key:"addContextMenuEntry",value:function(t){t.items.push({name:"---------"},(0,l.default)(this),(0,h.default)(this))}},{key:"onAfterInit",value:function(){this.getMovePlugin().isEnabled()||this.getMovePlugin().enablePlugin()}},{key:"onBeforeColumnMove",value:function(t,n){var r=g.get(this);if(r.afterFirstUse&&!r.moveByFreeze){var i=this.hot.getSettings().fixedColumnsLeft,s=n<i;s||(0,a.arrayEach)(t,function(e){if(e<i)return s=!0,!1});if(s)return!1}r.moveByFreeze&&(r.moveByFreeze=!1)}},{key:"destroy",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(o.default);(0,u.registerPlugin)("manualColumnFreeze",y),t.default=y},function(e,t,n){function o(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return{key:"freeze_column",name:function(){return this.getTranslatedPhrase(s.CONTEXTMENU_ITEMS_FREEZE_COLUMN)},callback:function(n,i){var s=r(i,1),o=s[0].start.col;e.freezeColumn(o),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),n=!1;if(t===void 0)n=!0;else if(t.length>1)n=!0;else if(t[0].from.col!==t[0].to.col||t[0].from.col<=this.getSettings().fixedColumnsLeft-1)n=!0;return n}}}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=u;var i=n(7),s=o(i)},function(e,t,n){function o(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return{key:"unfreeze_column",name:function(){return this.getTranslatedPhrase(s.CONTEXTMENU_ITEMS_UNFREEZE_COLUMN)},callback:function(n,i){var s=r(i,1),o=s[0].start.col;e.unfreezeColumn(o),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),n=!1;if(t===void 0)n=!0;else if(t.length>1)n=!0;else if(t[0].from.col!==t[0].to.col||t[0].from.col>=this.getSettings().fixedColumnsLeft)n=!0;return n}}}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=u;var i=n(7),s=o(i)},function(e,t){},function(e,t,n){function E(e){return e&&e.__esModule?e:{"default":e}}function S(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function N(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function _(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:_(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(10),o=E(s),u=n(16),a=E(u),f=n(2),l=n(0),c=n(6),h=n(5),p=E(h),d=n(8),v=n(339),m=E(v),g=n(340),y=E(g),b=n(341),w=E(b);n(342),a.default.getSingleton().register("beforeColumnMove"),a.default.getSingleton().register("afterColumnMove"),a.default.getSingleton().register("unmodifyCol");var C=new WeakMap,k="ht__manualColumnMove",L="show-ui",A="on-moving--columns",O="after-selection--columns",M=function(e){function t(e){x(this,t);var n=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return C.set(n,{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,disallowMoving:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0}}),n.removedColumns=[],n.columnsMapper=new m.default(n),n.eventManager=new p.default(n),n.backlight=new y.default(e),n.guideline=new w.default(e),n}return N(t,e),r(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnMove}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.addHook("beforeOnCellMouseDown",function(e,t,r,i){return n.onBeforeOnCellMouseDown(e,t,r,i)}),this.addHook("beforeOnCellMouseOver",function(e,t,r,i){return n.onBeforeOnCellMouseOver(e,t,r,i)}),this.addHook("afterScrollVertically",function(){return n.onAfterScrollVertically()}),this.addHook("modifyCol",function(e,t){return n.onModifyCol(e,t)}),this.addHook("beforeRemoveCol",function(e,t){return n.onBeforeRemoveCol(e,t)}),this.addHook("afterRemoveCol",function(){return n.onAfterRemoveCol()}),this.addHook("afterCreateCol",function(e,t){return n.onAfterCreateCol(e,t)}),this.addHook("afterLoadData",function(){return n.onAfterLoadData()}),this.addHook("unmodifyCol",function(e){return n.onUnmodifyCol(e)}),this.registerEvents(),(0,l.addClass)(this.hot.rootElement,k),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var n=this.hot.getSettings().manualColumnMove;Array.isArray(n)&&this.columnsMapper.clearMap(),(0,l.removeClass)(this.hot.rootElement,k),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"moveColumn",value:function(t,n){this.moveColumns([t],n)}},{key:"moveColumns",value:function(t,n){var r=this,i=[].concat(S(t)),s=C.get(this),o=this.hot.runHooks("beforeColumnMove",i,n);s.disallowMoving=!o,o!==!1&&((0,f.arrayEach)(t,function(e,t,n){n[t]=r.columnsMapper.getValueByIndex(e)}),(0,f.arrayEach)(t,function(e,t){var i=r.columnsMapper.getIndexByValue(e);i!==n&&r.columnsMapper.moveColumn(i,n+t)}),this.columnsMapper.clearNull()),this.hot.runHooks("afterColumnMove",i,n)}},{key:"changeSelection",value:function(t,n){this.hot.selectColumns(t,n)}},{key:"getColumnsWidth",value:function(t,n){var r=0;for(var i=t;i<n;i++){var s=0;i<0?s=this.hot.view.wt.wtViewport.getRowHeaderWidth()||0:s=this.hot.view.wt.wtTable.getStretchedColumnWidth(i)||0,r+=s}return r}},{key:"initialSettings",value:function(){var t=this.hot.getSettings().manualColumnMove;Array.isArray(t)?this.moveColumns(t,0):t!==void 0&&this.persistentStateLoad()}},{key:"isFixedColumnsLeft",value:function(t){return t<this.hot.getSettings().fixedColumnsLeft}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.columnsMapper._arrayMap)}},{key:"persistentStateLoad",value:function(){var t={};this.hot.runHooks("persistentStateLoad","manualColumnMove",t),t.value&&(this.columnsMapper._arrayMap=t.value)}},{key:"prepareColumnsToMoving",value:function(t,n){var r=[];return(0,c.rangeEach)(t,n,function(e){r.push(e)}),r}},{key:"refreshPositions",value:function(){var t=C.get(this),n=this.hot.view.wt.wtTable.getFirstVisibleColumn(),r=this.hot.view.wt.wtTable.getLastVisibleColumn(),i=this.hot.view.wt.wtTable,s=this.hot.view.wt.wtOverlays.scrollableElement,o=typeof s.scrollX=="number"?s.scrollX:s.scrollLeft,u=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,t.coordsColumn),a=t.target.eventPageX-(t.rootElementOffset-(s.scrollX===void 0?o:0)),f=i.hider.offsetWidth,l=i.TBODY.offsetLeft,c=this.backlight.getOffset().left,h=this.backlight.getSize().width,p=0;t.rootElementOffset+i.holder.offsetWidth+o<t.target.eventPageX&&t.coordsColumn<t.countCols&&(t.coordsColumn+=1),t.hasRowHeaders&&(p=this.hot.view.wt.wtOverlays.leftOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsLeft(t.coordsColumn)&&(u+=o),u+=p;if(t.coordsColumn<0)t.fixedColumns>0?t.target.col=0:t.target.col=n>0?n-1:n;else if(t.target.TD.offsetWidth/2+u<=a){var d=t.coordsColumn>=t.countCols?t.countCols-1:t.coordsColumn;t.target.col=d+1,u+=t.target.TD.offsetWidth,t.target.col>r&&r<t.countCols&&this.hot.scrollViewportTo(void 0,r+1,void 0,!0)}else t.target.col=t.coordsColumn,t.target.col<=n&&t.target.col>=t.fixedColumns&&n>0&&this.hot.scrollViewportTo(void 0,n-1);t.target.col<=n&&t.target.col>=t.fixedColumns&&n>0&&this.hot.scrollViewportTo(void 0,n-1);var v=a,m=u;a+h+c>=f?v=f-h-c:a+c<l+p&&(v=l+p+Math.abs(c)),u>=f-1?m=f-1:m===0?m=1:s.scrollX!==void 0&&t.coordsColumn<t.fixedColumns&&(m-=t.rootElementOffset<=s.scrollX?t.rootElementOffset:0),this.backlight.setPosition(null,v),this.guideline.setPosition(null,m)}},{key:"updateColumnsMapper",value:function(){var t=this.hot.countSourceCols(),n=this.columnsMapper._arrayMap.length;if(n===0)this.columnsMapper.createMap(t||this.hot.getSettings().startCols);else if(n<t){var r=t-n;this.columnsMapper.insertItems(n,r)}else if(n>t){var i=t-1,s=[];(0,f.arrayEach)(this.columnsMapper._arrayMap,function(e,t){e>i&&s.push(t)}),this.columnsMapper.removeItems(s)}}},{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return t.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(t,n,r,i){var s=this.hot.view.wt.wtTable,o=this.hot.selection.isSelectedByColumnHeader(),u=this.hot.getSelectedRangeLast(),a=C.get(this),f=t.realTarget.className.indexOf("columnSorting")>-1;if(!u||!o||a.pressed||t.button!==0||f){a.pressed=!1,a.columnsToMove.length=0,(0,l.removeClass)(this.hot.rootElement,[A,L]);return}var c=this.guideline.isBuilt()&&!this.guideline.isAppended(),h=this.backlight.isBuilt()&&!this.backlight.isAppended();c&&h&&(this.guideline.appendTo(s.hider),this.backlight.appendTo(s.hider));var p=u.from,d=u.to,v=Math.min(p.col,d.col),m=Math.max(p.col,d.col);if(n.row<0&&n.col>=v&&n.col<=m){i.column=!0,a.pressed=!0,a.target.eventPageX=t.pageX,a.coordsColumn=n.col,a.target.TD=r,a.target.col=n.col,a.columnsToMove=this.prepareColumnsToMoving(v,m),a.hasRowHeaders=!!this.hot.getSettings().rowHeaders,a.countCols=this.hot.countCols(),a.fixedColumns=this.hot.getSettings().fixedColumnsLeft,a.rootElementOffset=(0,l.offset)(this.hot.rootElement).left;var g=a.hasRowHeaders?-1:0,y=s.holder.scrollTop+s.getColumnHeaderHeight(0)+1,b=n.col<a.fixedColumns,w=this.hot.view.wt.wtOverlays.scrollableElement,E=w.scrollX?w.scrollX-a.rootElementOffset:0,S=t.layerX-(b?E:0),x=Math.abs(this.getColumnsWidth(v,n.col)+S);this.backlight.setPosition(y,this.getColumnsWidth(g,v)+x),this.backlight.setSize(this.getColumnsWidth(v,m+1),s.hider.offsetHeight-y),this.backlight.setOffset(null,x*-1),(0,l.addClass)(this.hot.rootElement,A)}else(0,l.removeClass)(this.hot.rootElement,O),a.pressed=!1,a.columnsToMove.length=0}},{key:"onMouseMove",value:function(t){var n=C.get(this);if(!n.pressed)return;if(t.realTarget===this.backlight.element){var r=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout(function(){this.backlight.setPosition(r)})}n.target.eventPageX=t.pageX,this.refreshPositions()}},{key:"onBeforeOnCellMouseOver",value:function(t,n,r,i){var s=this.hot.getSelectedRangeLast(),o=C.get(this);if(!s||!o.pressed)return;o.columnsToMove.indexOf(n.col)>-1?(0,l.removeClass)(this.hot.rootElement,L):(0,l.addClass)(this.hot.rootElement,L),i.row=!0,i.column=!0,i.cell=!0,o.coordsColumn=n.col,o.target.TD=r}},{key:"onMouseUp",value:function(){var t=C.get(this);t.coordsColumn=void 0,t.pressed=!1,t.backlightWidth=0,(0,l.removeClass)(this.hot.rootElement,[A,L,O]),this.hot.selection.isSelectedByColumnHeader()&&(0,l.addClass)(this.hot.rootElement,O);if(t.columnsToMove.length<1||t.target.col===void 0||t.columnsToMove.indexOf(t.target.col)>-1)return;this.moveColumns(t.columnsToMove,t.target.col),this.persistentStateSave(),this.hot.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0);if(!t.disallowMoving){var n=this.columnsMapper.getIndexByValue(t.columnsToMove[0]),r=this.columnsMapper.getIndexByValue(t.columnsToMove[t.columnsToMove.length-1]);this.changeSelection(n,r)}t.columnsToMove.length=0}},{key:"onAfterScrollVertically",value:function(){var t=this.hot.view.wt.wtTable,n=t.getColumnHeaderHeight(0)+1,r=t.holder.scrollTop,i=n+r;this.backlight.setPosition(i),this.backlight.setSize(null,t.hider.offsetHeight-i)}},{key:"onAfterCreateCol",value:function(t,n){this.columnsMapper.shiftItems(t,n)}},{key:"onBeforeRemoveCol",value:function(t,n){var r=this;this.removedColumns.length=0,t!==!1&&(0,c.rangeEach)(t,t+n-1,function(e){r.removedColumns.push(r.hot.runHooks("modifyCol",e,r.pluginName))})}},{key:"onAfterRemoveCol",value:function(){this.columnsMapper.unshiftItems(this.removedColumns)}},{key:"onAfterLoadData",value:function(){this.updateColumnsMapper()}},{key:"onModifyCol",value:function(t,n){var r=t;if(n!==this.pluginName){var i=this.columnsMapper.getValueByIndex(r);r=i===null?r:i}return r}},{key:"onUnmodifyCol",value:function(t){var n=this.columnsMapper.getIndexByValue(t);return n===null?t:n}},{key:"onAfterPluginsInitialized",value:function(){this.updateColumnsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(o.default);(0,d.registerPlugin)("ManualColumnMove",M),t.default=M},function(e,t,n){function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(94),s=f(i),o=n(2),u=n(1),a=n(6),c=function(){function e(t){l(this,e),this.manualColumnMove=t}return r(e,[{key:"createMap",value:function(t){var n=this,r=t===void 0?this._arrayMap.length:t;this._arrayMap.length=0,(0,a.rangeEach)(r-1,function(e){n._arrayMap[e]=e})}},{key:"destroy",value:function(){this._arrayMap=null}},{key:"moveColumn",value:function(t,n){var r=this._arrayMap[t];this._arrayMap[t]=null,this._arrayMap.splice(n,0,r)}},{key:"clearNull",value:function(){this._arrayMap=(0,o.arrayFilter)(this._arrayMap,function(e){return e!==null})}}]),e}();(0,u.mixin)(c,s.default),t.default=c},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function d(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:d(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(204),o=a(s),u=n(0),h="ht__manualColumnMove--backlight",p=function(e){function t(){return f(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),r(t,[{key:"build",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"build",this).call(this),(0,u.addClass)(this._element,h)}}]),t}(o.default);t.default=p},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function d(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:d(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(204),o=a(s),u=n(0),h="ht__manualColumnMove--guideline",p=function(e){function t(){return f(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),r(t,[{key:"build",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"build",this).call(this),(0,u.addClass)(this._element,h)}}]),t}(o.default);t.default=p},function(e,t){},function(e,t,n){function d(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function g(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function b(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:b(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(10),o=d(s),u=n(0),a=n(5),f=d(a),l=n(13),c=n(2),h=n(6),p=n(8),y=function(e){function t(e){v(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.currentTH=null,n.currentCol=null,n.selectedCols=[],n.currentWidth=null,n.newSize=null,n.startY=null,n.startWidth=null,n.startOffset=null,n.handle=document.createElement("DIV"),n.guide=document.createElement("DIV"),n.eventManager=new f.default(n),n.pressed=null,n.dblclick=0,n.autoresizeTimeout=null,n.manualColumnWidths=[],(0,u.addClass)(n.handle,"manualColumnResizer"),(0,u.addClass)(n.guide,"manualColumnResizerGuide"),n}return g(t,e),r(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().manualColumnResize}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.manualColumnWidths=[];var r=this.hot.getSettings().manualColumnResize,s=this.loadManualColumnWidths();this.addHook("modifyColWidth",function(e,t){return n.onModifyColWidth(e,t)}),this.addHook("beforeStretchingColumnWidth",function(e,t){return n.onBeforeStretchingColumnWidth(e,t)}),this.addHook("beforeColumnResize",function(e,t,r){return n.onBeforeColumnResize(e,t,r)}),typeof s!="undefined"?this.manualColumnWidths=s:Array.isArray(r)?this.manualColumnWidths=r:this.manualColumnWidths=[],this.bindEvents(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var t=this.hot.getSettings().manualColumnResize;Array.isArray(t)?this.manualColumnWidths=t:t||(this.manualColumnWidths=[])}},{key:"disablePlugin",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualColumnWidths",value:function(){this.hot.runHooks("persistentStateSave","manualColumnWidths",this.manualColumnWidths)}},{key:"loadManualColumnWidths",value:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualColumnWidths",t),t.value}},{key:"setupHandlePosition",value:function(t){var n=this;if(!t.parentNode)return!1;this.currentTH=t;var r=this.hot.view.wt.wtTable.getCoords(t).col,i=(0,u.outerHeight)(this.currentTH);if(r>=0){var s=this.currentTH.getBoundingClientRect();this.currentCol=r,this.selectedCols=[];if(this.hot.selection.isSelected()&&this.hot.selection.isSelectedByColumnHeader()){var o=this.hot.getSelectedRangeLast(),a=o.from,f=o.to,l=a.col,c=f.col;l>=c&&(l=f.col,c=a.col),this.currentCol>=l&&this.currentCol<=c?(0,h.rangeEach)(l,c,function(e){return n.selectedCols.push(e)}):this.selectedCols.push(this.currentCol)}else this.selectedCols.push(this.currentCol);this.startOffset=s.left-6,this.startWidth=parseInt(s.width,10),this.handle.style.top=s.top+"px",this.handle.style.left=this.startOffset+this.startWidth+"px",this.handle.style.height=i+"px",this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.left=this.startOffset+this.currentWidth+"px"}},{key:"setupGuidePosition",value:function(){var t=parseInt((0,u.outerHeight)(this.handle),10),n=parseInt(this.handle.style.top,10)+t,r=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);(0,u.addClass)(this.handle,"active"),(0,u.addClass)(this.guide,"active"),this.guide.style.top=n+"px",this.guide.style.left=this.handle.style.left,this.guide.style.height=r-t+"px",this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.left=this.handle.style.left}},{key:"hideHandleAndGuide",value:function(){(0,u.removeClass)(this.handle,"active"),(0,u.removeClass)(this.guide,"active")}},{key:"checkIfColumnHeader",value:function(t){if(t!==this.hot.rootElement){var n=t.parentNode;return n.tagName==="THEAD"?!0:this.checkIfColumnHeader(n)}return!1}},{key:"getTHFromTargetElement",value:function(t){return t.tagName!=="TABLE"?t.tagName==="TH"?t:this.getTHFromTargetElement(t.parentNode):null}},{key:"onMouseOver",value:function(t){if(this.checkIfColumnHeader(t.target)){var n=this.getTHFromTargetElement(t.target);if(!n)return;var r=n.getAttribute("colspan");n&&(r===null||r===1)&&(this.pressed||this.setupHandlePosition(n))}}},{key:"afterMouseDownTimeout",value:function(){var t=this,n=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},r=function(r,i){var s=t.hot.runHooks("beforeColumnResize",r,t.newSize,!0);s!==void 0&&(t.newSize=s),t.hot.getSettings().stretchH==="all"?t.clearManualSize(r):t.setManualSize(r,t.newSize),i&&n(),t.saveManualColumnWidths(),t.hot.runHooks("afterColumnResize",r,t.newSize,!0)};if(this.dblclick>=2){var i=this.selectedCols.length;i>1?((0,c.arrayEach)(this.selectedCols,function(e){r(e)}),n()):(0,c.arrayEach)(this.selectedCols,function(e){r(e,!0)})}this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(t){var n=this;(0,u.hasClass)(t.target,"manualColumnResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,this.autoresizeTimeout===null&&(this.autoresizeTimeout=setTimeout(function(){return n.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startX=(0,l.pageX)(t),this.newSize=this.startWidth)}},{key:"onMouseMove",value:function(t){var n=this;this.pressed&&(this.currentWidth=this.startWidth+((0,l.pageX)(t)-this.startX),(0,c.arrayEach)(this.selectedCols,function(e){n.newSize=n.setManualSize(e,n.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(){var t=this,n=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},r=function(r,i){t.hot.runHooks("beforeColumnResize",r,t.newSize,!1),i&&n(),t.saveManualColumnWidths(),t.hot.runHooks("afterColumnResize",r,t.newSize)};if(this.pressed){this.hideHandleAndGuide(),this.pressed=!1;if(this.newSize!==this.startWidth){var i=this.selectedCols.length;i>1?((0,c.arrayEach)(this.selectedCols,function(e){r(e)}),n()):(0,c.arrayEach)(this.selectedCols,function(e){r(e,!0)})}this.setupHandlePosition(this.currentTH)}}},{key:"bindEvents",value:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(){return t.onMouseUp()})}},{key:"setManualSize",value:function(t,n){var r=Math.max(n,20),i=this.hot.runHooks("modifyCol",t);return this.manualColumnWidths[i]=r,r}},{key:"clearManualSize",value:function(t){var n=this.hot.runHooks("modifyCol",t);this.manualColumnWidths[n]=void 0}},{key:"onModifyColWidth",value:function(t,n){var r=t;if(this.enabled){var i=this.hot.runHooks("modifyCol",n),s=this.manualColumnWidths[i];this.hot.getSettings().manualColumnResize&&s&&(r=s)}return r}},{key:"onBeforeStretchingColumnWidth",value:function(t,n){var r=this.manualColumnWidths[n];return r===void 0&&(r=t),r}},{key:"onBeforeColumnResize",value:function(){this.hot.view.wt.wtViewport.hasOversizedColumnHeadersMarked={}}}]),t}(o.default);(0,p.registerPlugin)("manualColumnResize",y),t.default=y},function(e,t,n){function E(e){return e&&e.__esModule?e:{"default":e}}function S(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function N(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function _(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:_(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(10),o=E(s),u=n(16),a=E(u),f=n(2),l=n(0),c=n(6),h=n(5),p=E(h),d=n(8),v=n(345),m=E(v),g=n(346),y=E(g),b=n(347),w=E(b);n(348),a.default.getSingleton().register("beforeRowMove"),a.default.getSingleton().register("afterRowMove"),a.default.getSingleton().register("unmodifyRow");var C=new WeakMap,k="ht__manualRowMove",L="show-ui",A="on-moving--rows",O="after-selection--rows",M=function(e){function t(e){x(this,t);var n=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return C.set(n,{rowsToMove:[],pressed:void 0,disallowMoving:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0}}),n.removedRows=[],n.rowsMapper=new m.default(n),n.eventManager=new p.default(n),n.backlight=new y.default(e),n.guideline=new w.default(e),n}return N(t,e),r(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualRowMove}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.addHook("beforeOnCellMouseDown",function(e,t,r,i){return n.onBeforeOnCellMouseDown(e,t,r,i)}),this.addHook("beforeOnCellMouseOver",function(e,t,r,i){return n.onBeforeOnCellMouseOver(e,t,r,i)}),this.addHook("afterScrollHorizontally",function(){return n.onAfterScrollHorizontally()}),this.addHook("modifyRow",function(e,t){return n.onModifyRow(e,t)}),this.addHook("beforeRemoveRow",function(e,t){return n.onBeforeRemoveRow(e,t)}),this.addHook("afterRemoveRow",function(){return n.onAfterRemoveRow()}),this.addHook("afterCreateRow",function(e,t){return n.onAfterCreateRow(e,t)}),this.addHook("afterLoadData",function(){return n.onAfterLoadData()}),this.addHook("beforeColumnSort",function(e,t){return n.onBeforeColumnSort(e,t)}),this.addHook("unmodifyRow",function(e){return n.onUnmodifyRow(e)}),this.registerEvents(),(0,l.addClass)(this.hot.rootElement,k),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var n=this.hot.getSettings().manualRowMove;Array.isArray(n)&&this.rowsMapper.clearMap(),(0,l.removeClass)(this.hot.rootElement,k),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"moveRow",value:function(t,n){this.moveRows([t],n)}},{key:"moveRows",value:function(t,n){var r=this,i=[].concat(S(t)),s=C.get(this),o=this.hot.runHooks("beforeRowMove",i,n);s.disallowMoving=o===!1,s.disallowMoving||((0,f.arrayEach)(t,function(e,t,n){n[t]=r.rowsMapper.getValueByIndex(e)}),(0,f.arrayEach)(t,function(e,t){var i=r.rowsMapper.getIndexByValue(e);i!==n&&r.rowsMapper.moveRow(i,n+t)}),this.rowsMapper.clearNull()),this.hot.runHooks("afterRowMove",i,n)}},{key:"changeSelection",value:function(t,n){this.hot.selectRows(t,n)}},{key:"getRowsHeight",value:function(t,n){var r=0;for(var i=t;i<n;i++){var s=this.hot.view.wt.wtTable.getRowHeight(i)||23;r+=s}return r}},{key:"initialSettings",value:function(){var t=this.hot.getSettings().manualRowMove;if(Array.isArray(t))this.moveRows(t,0);else if(t!==void 0){var n=this.persistentStateLoad();n.length&&this.moveRows(n,0)}}},{key:"isFixedRowTop",value:function(t){return t<this.hot.getSettings().fixedRowsTop}},{key:"isFixedRowBottom",value:function(t){return t>this.hot.getSettings().fixedRowsBottom}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualRowMove",this.rowsMapper._arrayMap)}},{key:"persistentStateLoad",value:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualRowMove",t),t.value?t.value:[]}},{key:"prepareRowsToMoving",value:function(){var t=this.hot.getSelectedRangeLast(),n=[];if(!t)return n;var r=t.from,i=t.to,s=Math.min(r.row,i.row),o=Math.max(r.row,i.row);return(0,c.rangeEach)(s,o,function(e){n.push(e)}),n}},{key:"refreshPositions",value:function(){var t=C.get(this),n=t.target.coords,r=this.hot.view.wt.wtTable.getFirstVisibleRow(),i=this.hot.view.wt.wtTable.getLastVisibleRow(),s=this.hot.getSettings().fixedRowsTop,o=this.hot.countRows();n.row<s&&r>0&&this.hot.scrollViewportTo(r-1),n.row>=i&&i<o&&this.hot.scrollViewportTo(i+1,undefined,!0);var u=this.hot.view.wt.wtTable,a=t.target.TD,f=(0,l.offset)(this.hot.rootElement),c=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,n.row),h=t.target.eventPageY-f.top+u.holder.scrollTop,p=u.hider.offsetHeight,d=u.TBODY.offsetTop,v=this.backlight.getOffset().top,m=this.backlight.getSize().height;this.isFixedRowTop(n.row)&&(c+=u.holder.scrollTop),n.row<0?t.target.row=r>0?r-1:r:a.offsetHeight/2+c<=h?(t.target.row=n.row+1,c+=n.row===0?a.offsetHeight-1:a.offsetHeight):t.target.row=n.row;var g=h,y=c;h+m+v>=p?g=p-m-v:h+v<d&&(g=d+Math.abs(v)),c>=p-1&&(y=p-1);var b=0;this.hot.view.wt.wtOverlays.topOverlay&&(b=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.TABLE.offsetHeight),n.row>=s&&y-u.holder.scrollTop<b&&this.hot.scrollViewportTo(n.row),this.backlight.setPosition(g),this.guideline.setPosition(y)}},{key:"updateRowsMapper",value:function(){var t=this.hot.countSourceRows(),n=this.rowsMapper._arrayMap.length;if(n===0)this.rowsMapper.createMap(t||this.hot.getSettings().startRows);else if(n<t){var r=t-n;this.rowsMapper.insertItems(n,r)}else if(n>t){var i=t-1,s=[];(0,f.arrayEach)(this.rowsMapper._arrayMap,function(e,t){e>i&&s.push(t)}),this.rowsMapper.removeItems(s)}}},{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return t.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeColumnSort",value:function(t,n){var r=C.get(this);r.disallowMoving=n!==void 0}},{key:"onBeforeOnCellMouseDown",value:function(t,n,r,i){var s=this.hot.view.wt.wtTable,o=this.hot.selection.isSelectedByRowHeader(),u=this.hot.getSelectedRangeLast(),a=C.get(this);if(!u||!o||a.pressed||t.button!==0){a.pressed=!1,a.rowsToMove.length=0,(0,l.removeClass)(this.hot.rootElement,[A,L]);return}var f=this.guideline.isBuilt()&&!this.guideline.isAppended(),c=this.backlight.isBuilt()&&!this.backlight.isAppended();f&&c&&(this.guideline.appendTo(s.hider),this.backlight.appendTo(s.hider));var h=u.from,p=u.to,d=Math.min(h.row,p.row),v=Math.max(h.row,p.row);if(n.col<0&&n.row>=d&&n.row<=v){i.row=!0,a.pressed=!0,a.target.eventPageY=t.pageY,a.target.coords=n,a.target.TD=r,a.rowsToMove=this.prepareRowsToMoving();var m=s.holder.scrollLeft+this.hot.view.wt.wtViewport.getRowHeaderWidth();this.backlight.setPosition(null,m),this.backlight.setSize(s.hider.offsetWidth-m,this.getRowsHeight(d,v+1)),this.backlight.setOffset((this.getRowsHeight(d,n.row)+t.layerY)*-1,null),(0,l.addClass)(this.hot.rootElement,A),this.refreshPositions()}else(0,l.removeClass)(this.hot.rootElement,O),a.pressed=!1,a.rowsToMove.length=0}},{key:"onMouseMove",value:function(t){var n=C.get(this);if(!n.pressed)return;if(t.realTarget===this.backlight.element){var r=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout(function(){this.backlight.setPosition(null,r)})}n.target.eventPageY=t.pageY,this.refreshPositions()}},{key:"onBeforeOnCellMouseOver",value:function(t,n,r,i){var s=this.hot.getSelectedRangeLast(),o=C.get(this);if(!s||!o.pressed)return;o.rowsToMove.indexOf(n.row)>-1?(0,l.removeClass)(this.hot.rootElement,L):(0,l.addClass)(this.hot.rootElement,L),i.row=!0,i.column=!0,i.cell=!0,o.target.coords=n,o.target.TD=r}},{key:"onMouseUp",value:function(){var t=C.get(this),n=t.target.row,r=t.rowsToMove.length;t.pressed=!1,t.backlightHeight=0,(0,l.removeClass)(this.hot.rootElement,[A,L,O]),this.hot.selection.isSelectedByRowHeader()&&(0,l.addClass)(this.hot.rootElement,O);if(r<1||n===void 0||t.rowsToMove.indexOf(n)>-1||t.rowsToMove[r-1]===n-1)return;this.moveRows(t.rowsToMove,n),this.persistentStateSave(),this.hot.render();if(!t.disallowMoving){var i=this.rowsMapper.getIndexByValue(t.rowsToMove[0]),s=this.rowsMapper.getIndexByValue(t.rowsToMove[r-1]);this.changeSelection(i,s)}t.rowsToMove.length=0}},{key:"onAfterScrollHorizontally",value:function(){var t=this.hot.view.wt.wtTable,n=this.hot.view.wt.wtViewport.getRowHeaderWidth(),r=t.holder.scrollLeft,i=n+r;this.backlight.setPosition(null,i),this.backlight.setSize(t.hider.offsetWidth-i)}},{key:"onAfterCreateRow",value:function(t,n){this.rowsMapper.shiftItems(t,n)}},{key:"onBeforeRemoveRow",value:function(t,n){var r=this;this.removedRows.length=0,t!==!1&&(0,c.rangeEach)(t,t+n-1,function(e){r.removedRows.push(r.hot.runHooks("modifyRow",e,r.pluginName))})}},{key:"onAfterRemoveRow",value:function(){this.rowsMapper.unshiftItems(this.removedRows)}},{key:"onAfterLoadData",value:function(){this.updateRowsMapper()}},{key:"onModifyRow",value:function(t,n){var r=t;if(n!==this.pluginName){var i=this.rowsMapper.getValueByIndex(r);r=i===null?r:i}return r}},{key:"onUnmodifyRow",value:function(t){var n=this.rowsMapper.getIndexByValue(t);return n===null?t:n}},{key:"onAfterPluginsInitialized",value:function(){this.updateRowsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),this.rowsMapper.destroy(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(o.default);(0,d.registerPlugin)("ManualRowMove",M),t.default=M},function(e,t,n){function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(94),s=f(i),o=n(2),u=n(1),a=n(6),c=function(){function e(t){l(this,e),this.manualRowMove=t}return r(e,[{key:"createMap",value:function(t){var n=this,r=t===void 0?this._arrayMap.length:t;this._arrayMap.length=0,(0,a.rangeEach)(r-1,function(e){n._arrayMap[e]=e})}},{key:"destroy",value:function(){this._arrayMap=null}},{key:"moveRow",value:function(t,n){var r=this._arrayMap[t];this._arrayMap[t]=null,this._arrayMap.splice(n,0,r)}},{key:"clearNull",value:function(){this._arrayMap=(0,o.arrayFilter)(this._arrayMap,function(e){return e!==null})}}]),e}();(0,u.mixin)(c,s.default),t.default=c},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function d(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:d(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(205),o=a(s),u=n(0),h="ht__manualRowMove--backlight",p=function(e){function t(){return f(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),r(t,[{key:"build",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"build",this).call(this),(0,u.addClass)(this._element,h)}}]),t}(o.default);t.default=p},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function d(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:d(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(205),o=a(s),u=n(0),h="ht__manualRowMove--guideline",p=function(e){function t(){return f(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),r(t,[{key:"build",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"build",this).call(this),(0,u.addClass)(this._element,h)}}]),t}(o.default);t.default=p},function(e,t){},function(e,t,n){function d(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function g(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function b(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:b(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(10),o=d(s),u=n(0),a=n(5),f=d(a),l=n(13),c=n(2),h=n(6),p=n(8),y=function(e){function t(e){v(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.currentTH=null,n.currentRow=null,n.selectedRows=[],n.currentHeight=null,n.newSize=null,n.startY=null,n.startHeight=null,n.startOffset=null,n.handle=document.createElement("DIV"),n.guide=document.createElement("DIV"),n.eventManager=new f.default(n),n.pressed=null,n.dblclick=0,n.autoresizeTimeout=null,n.manualRowHeights=[],(0,u.addClass)(n.handle,"manualRowResizer"),(0,u.addClass)(n.guide,"manualRowResizerGuide"),n}return g(t,e),r(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().manualRowResize}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.manualRowHeights=[];var r=this.hot.getSettings().manualRowResize,s=this.loadManualRowHeights();typeof s!="undefined"?this.manualRowHeights=s:Array.isArray(r)?this.manualRowHeights=r:this.manualRowHeights=[],this.addHook("modifyRowHeight",function(e,t){return n.onModifyRowHeight(e,t)}),this.bindEvents(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var t=this.hot.getSettings().manualRowResize;Array.isArray(t)?this.manualRowHeights=t:t||(this.manualRowHeights=[])}},{key:"disablePlugin",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualRowHeights",value:function(){this.hot.runHooks("persistentStateSave","manualRowHeights",this.manualRowHeights)}},{key:"loadManualRowHeights",value:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualRowHeights",t),t.value}},{key:"setupHandlePosition",value:function(t){var n=this;this.currentTH=t;var r=this.hot.view.wt.wtTable.getCoords(t).row,i=(0,u.outerWidth)(this.currentTH);if(r>=0){var s=this.currentTH.getBoundingClientRect();this.currentRow=r,this.selectedRows=[];if(this.hot.selection.isSelected()&&this.hot.selection.isSelectedByRowHeader()){var o=this.hot.getSelectedRangeLast(),a=o.from,f=o.to,l=a.row,c=f.row;l>=c&&(l=f.row,c=a.row),this.currentRow>=l&&this.currentRow<=c?(0,h.rangeEach)(l,c,function(e){return n.selectedRows.push(e)}):this.selectedRows.push(this.currentRow)}else this.selectedRows.push(this.currentRow);this.startOffset=s.top-6,this.startHeight=parseInt(s.height,10),this.handle.style.left=s.left+"px",this.handle.style.top=this.startOffset+this.startHeight+"px",this.handle.style.width=i+"px",this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.top=this.startOffset+this.currentHeight+"px"}},{key:"setupGuidePosition",value:function(){var t=parseInt((0,u.outerWidth)(this.handle),10),n=parseInt(this.handle.style.left,10)+t,r=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);(0,u.addClass)(this.handle,"active"),(0,u.addClass)(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left=n+"px",this.guide.style.width=r-t+"px",this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.top=this.handle.style.top}},{key:"hideHandleAndGuide",value:function(){(0,u.removeClass)(this.handle,"active"),(0,u.removeClass)(this.guide,"active")}},{key:"checkIfRowHeader",value:function(t){if(t!==this.hot.rootElement){var n=t.parentNode;return n.tagName==="TBODY"?!0:this.checkIfRowHeader(n)}return!1}},{key:"getTHFromTargetElement",value:function(t){return t.tagName!=="TABLE"?t.tagName==="TH"?t:this.getTHFromTargetElement(t.parentNode):null}},{key:"onMouseOver",value:function(t){if(this.checkIfRowHeader(t.target)){var n=this.getTHFromTargetElement(t.target);n&&(this.pressed||this.setupHandlePosition(n))}}},{key:"afterMouseDownTimeout",value:function(){var t=this,n=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},r=function(r,i){var s=t.hot.runHooks("beforeRowResize",r,t.newSize,!0);s!==void 0&&(t.newSize=s),t.setManualSize(r,t.newSize),i&&n(),t.hot.runHooks("afterRowResize",r,t.newSize,!0)};if(this.dblclick>=2){var i=this.selectedRows.length;i>1?((0,c.arrayEach)(this.selectedRows,function(e){r(e)}),n()):(0,c.arrayEach)(this.selectedRows,function(e){r(e,!0)})}this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(t){var n=this;(0,u.hasClass)(t.target,"manualRowResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,this.autoresizeTimeout===null&&(this.autoresizeTimeout=setTimeout(function(){return n.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startY=(0,l.pageY)(t),this.newSize=this.startHeight)}},{key:"onMouseMove",value:function(t){var n=this;this.pressed&&(this.currentHeight=this.startHeight+((0,l.pageY)(t)-this.startY),(0,c.arrayEach)(this.selectedRows,function(e){n.newSize=n.setManualSize(e,n.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(){var t=this,n=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},r=function(r,i){t.hot.runHooks("beforeRowResize",r,t.newSize),i&&n(),t.saveManualRowHeights(),t.hot.runHooks("afterRowResize",r,t.newSize,!1)};if(this.pressed){this.hideHandleAndGuide(),this.pressed=!1;if(this.newSize!==this.startHeight){var i=this.selectedRows.length;i>1?((0,c.arrayEach)(this.selectedRows,function(e){r(e)}),n()):(0,c.arrayEach)(this.selectedRows,function(e){r(e,!0)})}this.setupHandlePosition(this.currentTH)}}},{key:"bindEvents",value:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(){return t.onMouseUp()})}},{key:"setManualSize",value:function(t,n){var r=this.hot.runHooks("modifyRow",t);return this.manualRowHeights[r]=n,n}},{key:"onModifyRowHeight",value:function(t,n){if(this.enabled){var r=this.hot.getPlugin("autoRowSize"),i=r?r.heights[n]:null,s=this.hot.runHooks("modifyRow",n),o=this.manualRowHeights[s];if(o!==void 0&&(o===i||o>(t||0)))return o}return t}}]),t}(o.default);(0,p.registerPlugin)("manualRowResize",y),t.default=y},function(e,t,n){function L(e){return e&&e.__esModule?e:{"default":e}}function A(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function _(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function H(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:H(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},o=n(10),u=L(o),a=n(16),f=L(a),l=n(8),c=n(13),h=n(4),p=n(351),d=L(p),v=n(97),m=L(v),g=n(352),y=L(g),b=n(353),w=L(b),E=n(354),S=L(E),x=n(2),T=n(1),N=n(58),C=n(6),k=n(206);n(355),f.default.getSingleton().register("beforeMergeCells"),f.default.getSingleton().register("afterMergeCells"),f.default.getSingleton().register("beforeUnmergeCells"),f.default.getSingleton().register("afterUnmergeCells");var D=new WeakMap,P=function(e){function t(e){O(this,t);var n=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return D.set(n,{lastDesiredCoords:null}),n.mergedCellsCollection=null,n.autofillCalculations=null,n.selectionCalculations=null,n}return _(t,e),i(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().mergeCells}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.mergedCellsCollection=new d.default(this),this.autofillCalculations=new y.default(this),this.selectionCalculations=new w.default(this),this.addHook("afterInit",function(){return n.onAfterInit.apply(n,arguments)}),this.addHook("beforeKeyDown",function(){return n.onBeforeKeyDown.apply(n,arguments)}),this.addHook("modifyTransformStart",function(){return n.onModifyTransformStart.apply(n,arguments)}),this.addHook("afterModifyTransformStart",function(){return n.onAfterModifyTransformStart.apply(n,arguments)}),this.addHook("modifyTransformEnd",function(){return n.onModifyTransformEnd.apply(n,arguments)}),this.addHook("modifyGetCellCoords",function(){return n.onModifyGetCellCoords.apply(n,arguments)}),this.addHook("beforeSetRangeEnd",function(){return n.onBeforeSetRangeEnd.apply(n,arguments)}),this.addHook("afterIsMultipleSelection",function(){return n.onAfterIsMultipleSelection.apply(n,arguments)}),this.addHook("afterRenderer",function(){return n.onAfterRenderer.apply(n,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return n.addMergeActionsToContextMenu.apply(n,arguments)}),this.addHook("afterGetCellMeta",function(){return n.onAfterGetCellMeta.apply(n,arguments)}),this.addHook("afterViewportRowCalculatorOverride",function(){return n.onAfterViewportRowCalculatorOverride.apply(n,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return n.onAfterViewportColumnCalculatorOverride.apply(n,arguments)}),this.addHook("modifyAutofillRange",function(){return n.onModifyAutofillRange.apply(n,arguments)}),this.addHook("afterCreateCol",function(){return n.onAfterCreateCol.apply(n,arguments)}),this.addHook("afterRemoveCol",function(){return n.onAfterRemoveCol.apply(n,arguments)}),this.addHook("afterCreateRow",function(){return n.onAfterCreateRow.apply(n,arguments)}),this.addHook("afterRemoveRow",function(){return n.onAfterRemoveRow.apply(n,arguments)}),this.addHook("afterChange",function(){return n.onAfterChange.apply(n,arguments)}),this.addHook("beforeDrawBorders",function(){return n.onBeforeDrawAreaBorders.apply(n,arguments)}),this.addHook("afterDrawSelection",function(){return n.onAfterDrawSelection.apply(n,arguments)}),this.addHook("beforeRemoveCellClassNames",function(){return n.onBeforeRemoveCellClassNames.apply(n,arguments)}),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearCollections(),this.hot.render(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var n=this.hot.getSettings().mergeCells;this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(n),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"validateSetting",value:function(t){var n=!0;return t?(m.default.containsNegativeValues(t)?((0,N.warn)(m.default.NEGATIVE_VALUES_WARNING(t)),n=!1):m.default.isOutOfBounds(t,this.hot.countRows(),this.hot.countCols())?((0,N.warn)(m.default.IS_OUT_OF_BOUNDS_WARNING(t)),n=!1):m.default.isSingleCell(t)?((0,N.warn)(m.default.IS_SINGLE_CELL(t)),n=!1):m.default.containsZeroSpan(t)&&((0,N.warn)(m.default.ZERO_SPAN_WARNING(t)),n=!1),n):!1}},{key:"generateFromSettings",value:function(t){var n=this;if(Array.isArray(t)){var r,i=[];(0,x.arrayEach)(t,function(e){if(!n.validateSetting(e))return;var t=new h.CellCoords(e.row,e.col),r=new h.CellCoords(e.row+e.rowspan-1,e.col+e.colspan-1),s=new h.CellRange(t,t,r);i.push(n.mergeRange(s,!0,!0))}),i=i.filter(function(e){return e!==!0});var s=this.getBulkCollectionData(i);(r=this.hot).populateFromArray.apply(r,A(s))}}},{key:"getBulkCollectionData",value:function(t){var n,i=this.getBulkCollectionDataRange(t),s=(n=this.hot).getData.apply(n,A(i)),o=s.splice(0);return(0,x.arrayEach)(t,function(e){var t=r(e,3),n=t[0],s=t[1],u=t[2];(0,x.arrayEach)(u,function(e,t){(0,x.arrayEach)(e,function(e,r){o[n-i[0]+t][s-i[1]+r]=e})})}),[i[0],i[1],o]}},{key:"getBulkCollectionDataRange",value:function(t){var n=[0,0],r=[0,0],i=null,s=null,o=null;return(0,x.arrayEach)(t,function(e){i=e[0],s=e[1],o=e[2],n[0]=Math.min(i,n[0]),n[1]=Math.min(s,n[1]),r[0]=Math.max(i+o.length-1,r[0]),r[1]=Math.max(s+o[0].length-1,r[1])}),[].concat(n,r)}},{key:"clearCollections",value:function(){this.mergedCellsCollection.clear()}},{key:"canMergeRange",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return n?!0:this.validateSetting(t)}},{key:"toggleMergeOnSelection",value:function(){var t=this.hot.getSelectedRangeLast();if(!t)return;t.setDirection("NW-SE");var n=t.from,r=t.to;this.toggleMerge(t),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}},{key:"mergeSelection",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.hot.getSelectedRangeLast();if(!t)return;t.setDirection("NW-SE");var n=t.from,r=t.to;this.unmergeRange(t,!0),this.mergeRange(t),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}},{key:"unmergeSelection",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.hot.getSelectedRangeLast();if(!t)return;var n=t.from,r=t.to;this.unmergeRange(t,!0),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}},{key:"mergeRange",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1,s=t.getTopLeftCorner(),o=t.getBottomRightCorner(),u={row:s.row,col:s.col,rowspan:o.row-s.row+1,colspan:o.col-s.col+1},a=[],f=null;if(!this.canMergeRange(u,r))return!1;this.hot.runHooks("beforeMergeCells",t,r),(0,C.rangeEach)(0,u.rowspan-1,function(e){(0,C.rangeEach)(0,u.colspan-1,function(t){var r=null;a[e]||(a[e]=[]),e===0&&t===0?r=n.hot.getDataAtCell(u.row,u.col):n.hot.setCellMeta(u.row+e,u.col+t,"hidden",!0),a[e][t]=r})}),this.hot.setCellMeta(u.row,u.col,"spanned",!0);var l=this.mergedCellsCollection.add(u);return l?(i?f=[u.row,u.col,a]:this.hot.populateFromArray(u.row,u.col,a,void 0,void 0,this.pluginName),this.hot.runHooks("afterMergeCells",t,u,r),f):!0}},{key:"unmergeRange",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1,i=this.mergedCellsCollection.getWithinRange(t);if(!i)return;this.hot.runHooks("beforeUnmergeCells",t,r),(0,x.arrayEach)(i,function(e){n.mergedCellsCollection.remove(e.row,e.col),(0,C.rangeEach)(0,e.rowspan-1,function(t){(0,C.rangeEach)(0,e.colspan-1,function(r){n.hot.removeCellMeta(e.row+t,e.col+r,"hidden")})}),n.hot.removeCellMeta(e.row,e.col,"spanned")}),this.hot.render(),this.hot.runHooks("afterUnmergeCells",t,r)}},{key:"toggleMerge",value:function(t){var n=this.mergedCellsCollection.get(t.from.row,t.from.col),r=n.row===t.from.row&&n.col===t.from.col&&n.row+n.rowspan-1===t.to.row&&n.col+n.colspan-1===t.to.col;r?this.unmergeRange(t):this.mergeSelection(t)}},{key:"merge",value:function(t,n,r,i){var s=new h.CellCoords(t,n),o=new h.CellCoords(r,i);this.mergeRange(new h.CellRange(s,s,o))}},{key:"unmerge",value:function(t,n,r,i){var s=new h.CellCoords(t,n),o=new h.CellCoords(r,i);this.unmergeRange(new h.CellRange(s,s,o))}},{key:"onAfterInit",value:function(){this.generateFromSettings(this.hot.getSettings().mergeCells),this.hot.render()}},{key:"onBeforeKeyDown",value:function(t){var n=(t.ctrlKey||t.metaKey)&&!t.altKey;n&&t.keyCode===77&&(this.toggleMerge(this.hot.getSelectedRangeLast()),this.hot.render(),(0,c.stopImmediatePropagation)(t))}},{key:"onAfterIsMultipleSelection",value:function(t){if(t){var n=this.mergedCellsCollection.mergedCells,r=this.hot.getSelectedRangeLast();for(var i=0;i<n.length;i+=1)if(r.highlight.row===n[i].row&&r.highlight.col===n[i].col&&r.to.row===n[i].row+n[i].rowspan-1&&r.to.col===n[i].col+n[i].colspan-1)return!1}return t}},{key:"onModifyTransformStart",value:function(t){var n=D.get(this),r=this.hot.getSelectedRangeLast(),i={row:t.row,col:t.col},s=null,o=new h.CellCoords(r.highlight.row,r.highlight.col),u=this.mergedCellsCollection.get(o.row,o.col);n.lastDesiredCoords||(n.lastDesiredCoords=new h.CellCoords(null,null));if(u){var a=new h.CellCoords(u.row,u.col),f=new h.CellCoords(u.row+u.rowspan-1,u.col+u.colspan-1),l=new h.CellRange(a,a,f);l.includes(n.lastDesiredCoords)||(n.lastDesiredCoords=new h.CellCoords(null,null)),i.row=n.lastDesiredCoords.row?n.lastDesiredCoords.row-o.row:i.row,i.col=n.lastDesiredCoords.col?n.lastDesiredCoords.col-o.col:i.col,t.row>0?i.row=u.row+u.rowspan-1-o.row+t.row:t.row<0&&(i.row=o.row-u.row+t.row),t.col>0?i.col=u.col+u.colspan-1-o.col+t.col:t.col<0&&(i.col=o.col-u.col+t.col)}s=new h.CellCoords(r.highlight.row+i.row,r.highlight.col+i.col);var c=this.mergedCellsCollection.get(s.row,s.col);c&&(n.lastDesiredCoords=s,i={row:c.row-o.row,col:c.col-o.col}),i.row!==0&&(t.row=i.row),i.col!==0&&(t.col=i.col)}},{key:"onModifyTransformEnd",value:function(t){var n=this,r=this.hot.getSelectedRangeLast(),i=(0,T.clone)(t),s=this.selectionCalculations.getUpdatedSelectionRange(r,t),o=(0,T.clone)(i),u=this.mergedCellsCollection.getWithinRange(s,!0);do o=(0,T.clone)(i),this.selectionCalculations.getUpdatedSelectionRange(r,i),(0,x.arrayEach)(u,function(e){n.selectionCalculations.snapDelta(i,r,e)});while(i.row!==o.row||i.col!==o.col);t.row=i.row,t.col=i.col}},{key:"onModifyGetCellCoords",value:function(t,n){var r=this.mergedCellsCollection.get(t,n);return r?[r.row,r.col,r.row+r.rowspan-1,r.col+r.colspan-1]:void 0}},{key:"addMergeActionsToContextMenu",value:function(t){t.items.push({name:"---------"},(0,S.default)(this))}},{key:"onAfterRenderer",value:function(t,n,r){var i=this.mergedCellsCollection.get(n,r);(0,k.applySpanProperties)(t,i,n,r)}},{key:"onBeforeSetRangeEnd",value:function(t){var n=this.hot.getSelectedRangeLast();n.highlight=new h.CellCoords(n.highlight.row,n.highlight.col),n.to=t;var r=!1;if(n.from.row===0&&n.to.row===this.hot.countRows()-1||n.from.col===0&&n.to.col===this.hot.countCols()-1)return;do{r=!1;for(var i=0;i<this.mergedCellsCollection.mergedCells.length;i+=1){var s=this.mergedCellsCollection.mergedCells[i],o=s.getRange();n.expandByRange(o)&&(t.row=n.to.row,t.col=n.to.col,r=!0)}}while(r)}},{key:"onAfterGetCellMeta",value:function(t,n,r){var i=this.mergedCellsCollection.get(t,n);i&&(i.row!==t||i.col!==n)&&(r.copyable=!1)}},{key:"onAfterViewportRowCalculatorOverride",value:function(t){var n=this,r=this.hot.countCols(),i=void 0;(0,C.rangeEach)(0,r-1,function(e){i=n.mergedCellsCollection.get(t.startRow,e);if(i&&i.row<t.startRow)return t.startRow=i.row,n.onAfterViewportRowCalculatorOverride.call(n,t);i=n.mergedCellsCollection.get(t.endRow,e);if(i){var r=i.row+i.rowspan-1;if(r>t.endRow)return t.endRow=r,n.onAfterViewportRowCalculatorOverride.call(n,t)}return!0})}},{key:"onAfterViewportColumnCalculatorOverride",value:function(t){var n=this,r=this.hot.countRows(),i=void 0;(0,C.rangeEach)(0,r-1,function(e){i=n.mergedCellsCollection.get(e,t.startColumn);if(i&&i.col<t.startColumn)return t.startColumn=i.col,n.onAfterViewportColumnCalculatorOverride.call(n,t);i=n.mergedCellsCollection.get(e,t.endColumn);if(i){var r=i.col+i.colspan-1;if(r>t.endColumn)return t.endColumn=r,n.onAfterViewportColumnCalculatorOverride.call(n,t)}return!0})}},{key:"onModifyAutofillRange",value:function(t,n){this.autofillCalculations.correctSelectionAreaSize(n);var r=this.autofillCalculations.getDirection(n,t),i=t;if(this.autofillCalculations.dragAreaOverlapsCollections(n,i,r))return i=n,i;var s=this.mergedCellsCollection.getWithinRange({from:{row:n[0],col:n[1]},to:{row:n[2],col:n[3]}});return s?(i=this.autofillCalculations.snapDragArea(n,i,r,s),i):i}},{key:"onAfterCreateCol",value:function(t,n){this.mergedCellsCollection.shiftCollections("right",t,n)}},{key:"onAfterRemoveCol",value:function(t,n){this.mergedCellsCollection.shiftCollections("left",t,n)}},{key:"onAfterCreateRow",value:function(t,n,r){if(r==="auto")return;this.mergedCellsCollection.shiftCollections("down",t,n)}},{key:"onAfterRemoveRow",value:function(t,n){this.mergedCellsCollection.shiftCollections("up",t,n)}},{key:"onAfterChange",value:function(t,n){if(n!=="Autofill.fill")return;this.autofillCalculations.recreateAfterDataPopulation(t)}},{key:"onBeforeDrawAreaBorders",value:function(t,n){if(n&&n==="area"){var r=this.hot.getSelectedRangeLast(),i=this.mergedCellsCollection.getWithinRange(r);(0,x.arrayEach)(i,function(e){r.getBottomRightCorner().row===e.getLastRow()&&r.getBottomRightCorner().col===e.getLastColumn()&&(t[2]=e.row,t[3]=e.col)})}}},{key:"onAfterModifyTransformStart",value:function(t,n,r){if(!this.enabled)return;var i=this.mergedCellsCollection.get(t.row,t.col);if(!i)return;var s=n>0,o=n<0,u=r<0,a=r>0,f=i.row+i.rowspan-1===this.hot.countRows()-1,l=i.row===0,c=i.col+i.colspan-1===this.hot.countCols()-1,h=i.col===0;if(s&&f||o&&l||a&&c||u&&h)t.row=i.row,t.col=i.col}},{key:"onAfterDrawSelection",value:function(t,n,r,i){return this.selectionCalculations.getSelectedMergedCellClassName(t,n,r,i)}},{key:"onBeforeRemoveCellClassNames",value:function(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}}]),t}(u.default);(0,l.registerPlugin)("mergeCells",P),t.default=P},function(e,t,n){function p(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(["The merged cell declared at [",", ","], overlaps with the other declared merged \n    cell. The overlapping merged cell was not added to the table, please fix your setup."],["The merged cell declared at [",", ","], overlaps with the other declared merged \n    cell. The overlapping merged cell was not added to the table, please fix your setup."]),s=n(97),o=p(s),u=n(4),a=n(6),f=n(58),l=n(2),c=n(206),h=n(42),g=function(){function e(t){m(this,e),this.plugin=t,this.mergedCells=[],this.hot=t.hot}return r(e,[{key:"get",value:function(t,n){var r=this.mergedCells,i=!1;return(0,l.arrayEach)(r,function(e){return e.row<=t&&e.row+e.rowspan-1>=t&&e.col<=n&&e.col+e.colspan-1>=n?(i=e,!1):!0}),i}},{key:"getByRange",value:function(t){var n=this.mergedCells,r=!1;return(0,l.arrayEach)(n,function(e){return e.row<=t.from.row&&e.row+e.rowspan-1>=t.to.row&&e.col<=t.from.col&&e.col+e.colspan-1>=t.to.col?(r=e,r):!0}),r}},{key:"getWithinRange",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1,r=this.mergedCells,i=[],s=t;if(!s.includesRange){var o=new u.CellCoords(s.from.row,s.from.col),a=new u.CellCoords(s.to.row,s.to.col);s=new u.CellRange(o,o,a)}return(0,l.arrayEach)(r,function(e){var t=new u.CellCoords(e.row,e.col),r=new u.CellCoords(e.row+e.rowspan-1,e.col+e.colspan-1),o=new u.CellRange(t,t,r);n?s.overlaps(o)&&i.push(e):s.includesRange(o)&&i.push(e)}),i.length?i:!1}},{key:"add",value:function(n){var r=this.mergedCells,i=n.row,s=n.col,u=n.rowspan,a=n.colspan,l=new o.default(i,s,u,a),c=this.get(i,s),h=this.isOverlapping(l);return!c&&!h?(this.hot&&l.normalize(this.hot),r.push(l),l):((0,f.warn)(e.IS_OVERLAPPING_WARNING(l)),!1)}},{key:"remove",value:function(t,n){var r=this.mergedCells,i=this.get(t,n),s=i?this.mergedCells.indexOf(i):null;return i&&s!==!1?(r.splice(s,1),i):!1}},{key:"clear",value:function(){var t=this,n=this.mergedCells,r=[],i=[];(0,l.arrayEach)(n,function(e){var n=t.hot.getCell(e.row,e.col);n&&r.push([n,t.get(e.row,e.col),e.row,e.col])}),this.mergedCells.length=0,(0,l.arrayEach)(r,function(e,n){(0,a.rangeEach)(0,e.rowspan-1,function(n){(0,a.rangeEach)(0,e.colspan-1,function(r){if(r!==0||n!==0){var s=t.hot.getCell(e.row+n,e.col+r);s&&i.push([s,null,null,null])}})}),r[n][1]=null}),(0,l.arrayEach)(r,function(e){c.applySpanProperties.apply(undefined,v(e))}),(0,l.arrayEach)(i,function(e){c.applySpanProperties.apply(undefined,v(e))})}},{key:"isOverlapping",value:function(t){var n=new u.CellRange(null,new u.CellCoords(t.row,t.col),new u.CellCoords(t.row+t.rowspan-1,t.col+t.colspan-1)),r=!1;return(0,l.arrayEach)(this.mergedCells,function(e){var t=new u.CellRange(null,new u.CellCoords(e.row,e.col),new u.CellCoords(e.row+e.rowspan-1,e.col+e.colspan-1));return t.overlaps(n)?(r=!0,!1):!0}),r}},{key:"isMergedParent",value:function(t,n){var r=this.mergedCells,i=!1;return(0,l.arrayEach)(r,function(e){return e.row===t&&e.col===n?(i=!0,!1):!0}),i}},{key:"shiftCollections",value:function(t,n,r){var i=this,s=[0,0];switch(t){case"right":s[0]+=r;break;case"left":s[0]-=r;break;case"down":s[1]+=r;break;case"up":s[1]-=r;break;default:}(0,l.arrayEach)(this.mergedCells,function(e){e.shift(s,n)}),(0,a.rangeEachReverse)(this.mergedCells.length-1,0,function(e){var t=i.mergedCells[e];t&&t.removed&&i.mergedCells.splice(i.mergedCells.indexOf(t),1)})}}],[{key:"IS_OVERLAPPING_WARNING",value:function(t){return(0,h.toSingleLine)(i,t.row,t.col)}}]),e}();t.default=g},function(e,t,n){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),o=n(4),u=n(2),f=function(){function e(t){a(this,e),this.plugin=t,this.mergedCellsCollection=this.plugin.mergedCellsCollection,this.currentFillData=null}return i(e,[{key:"correctSelectionAreaSize",value:function(t){if(t[0]===t[2]&&t[1]===t[3]){var n=this.mergedCellsCollection.get(t[0],t[1]);n&&(t[2]=t[0]+n.rowspan-1,t[3]=t[1]+n.colspan-1)}}},{key:"getDirection",value:function(t,n){var r=null;return n[0]===t[0]&&n[1]===t[1]&&n[3]===t[3]?r="down":n[2]===t[2]&&n[1]===t[1]&&n[3]===t[3]?r="up":n[1]===t[1]&&n[2]===t[2]?r="right":r="left",r}},{key:"snapDragArea",value:function(t,n,i,s){var o=n.slice(0),u=this.getAutofillSize(t,n,i),a=r(t,4),f=a[0],l=a[1],c=a[2],h=a[3],p=["up","down"].indexOf(i)>-1,d=p?c-f+1:h-l+1,v=Math.floor(u/d)*d,m=u-v,g=this.getFarthestCollection(t,n,i,s);if(g)if(i==="down"){var y=g.row+g.rowspan-f-m,b=o[2]+y;b>=this.plugin.hot.countRows()?o[2]-=m:o[2]+=m?y:0}else if(i==="right"){var w=g.col+g.colspan-l-m,E=o[3]+w;E>=this.plugin.hot.countCols()?o[3]-=m:o[3]+=m?w:0}else if(i==="up"){var S=c-m-g.row+1,x=o[0]+S;x<0?o[0]+=m:o[0]-=m?S:0}else if(i==="left"){var T=h-m-g.col+1,N=o[1]+T;N<0?o[1]+=m:o[1]-=m?T:0}return this.updateCurrentFillCache({baseArea:t,dragDirection:i,foundMergedCells:s,fillSize:u,dragArea:o,cycleLength:d}),o}},{key:"updateCurrentFillCache",value:function(t){this.currentFillData||(this.currentFillData={}),(0,s.extend)(this.currentFillData,t)}},{key:"getAutofillSize",value:function(t,n,i){var s=r(t,4),o=s[0],u=s[1],a=s[2],f=s[3],l=r(n,4),c=l[0],h=l[1],p=l[2],d=l[3];switch(i){case"up":return o-c;case"down":return p-a;case"left":return u-h;case"right":return d-f;default:return null}}},{key:"getDragArea",value:function(t,n,i){var s=r(t,4),o=s[0],u=s[1],a=s[2],f=s[3],l=r(n,4),c=l[0],h=l[1],p=l[2],d=l[3];switch(i){case"up":return[c,h,o-1,f];case"down":return[a+1,u,p,f];case"left":return[c,h,a,u-1];case"right":return[o,f+1,p,d];default:return null}}},{key:"getFarthestCollection",value:function(t,n,i,s){var o=r(t,4),a=o[0],f=o[1],l=o[2],c=o[3],h=["up","down"].indexOf(i)>-1,p=h?l:c,d=h?a:f,v=this.getAutofillSize(t,n,i),m=h?l-a+1:c-f+1,g=Math.floor(v/m)*m,y=v-g,b=null,w=null,E=null;switch(i){case"up":b="includesVertically",E=p-y+1;break;case"left":b="includesHorizontally",E=p-y+1;break;case"down":b="includesVertically",E=d+y-1;break;case"right":b="includesHorizontally",E=d+y-1;break;default:}return(0,u.arrayEach)(s,function(e){e[b](E)&&e.isFarther(w,i)&&(w=e)}),w}},{key:"recreateAfterDataPopulation",value:function(t){if(!this.currentFillData)return;var n=this.getRangeFromChanges(t),r=this.currentFillData.foundMergedCells,i=this.currentFillData.dragDirection,s=function(t,r){switch(i){case"up":return t.row-r>=n.from.row;case"down":return t.row+t.rowspan-1+r<=n.to.row;case"left":return t.col-r>=n.from.column;case"right":return t.col+t.colspan-1+r<=n.to.column;default:return null}},o=0,u=null,a=1;do for(var f=0;f<r.length;f+=1){u=r[f],o=a*this.currentFillData.cycleLength;if(s(u,o))switch(i){case"up":this.plugin.mergedCellsCollection.add({row:u.row-o,rowspan:u.rowspan,col:u.col,colspan:u.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:u.row+o,rowspan:u.rowspan,col:u.col,colspan:u.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:u.row,rowspan:u.rowspan,col:u.col-o,colspan:u.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:u.row,rowspan:u.rowspan,col:u.col+o,colspan:u.colspan});break;default:}f===r.length-1&&(a+=1)}while(s(u,o));this.currentFillData=null,this.plugin.hot.render()}},{key:"getRangeFromChanges",value:function(t){var n={min:null,max:null},r={min:null,max:null};return(0,u.arrayEach)(t,function(e){if(n.min===null||e[0]<n.min)n.min=e[0];if(n.max===null||e[0]>n.max)n.max=e[0];if(r.min===null||e[1]<r.min)r.min=e[1];if(r.max===null||e[1]>r.max)r.max=e[1]}),{from:{row:n.min,column:r.min},to:{row:n.max,column:r.max}}}},{key:"dragAreaOverlapsCollections",value:function(t,n,i){var s=this.getDragArea(t,n,i),u=r(s,4),a=u[0],f=u[1],l=u[2],c=u[3],h=new o.CellCoords(a,f),p=new o.CellCoords(l,c),d=new o.CellRange(h,h,p);return!!this.mergedCellsCollection.getWithinRange(d,!0)}}]),e}();t.default=f},function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),u=function(){function e(t){o(this,e),this.plugin=t,this.fullySelectedMergedCellClassName="fullySelectedMergedCell"}return i(e,[{key:"snapDelta",value:function(t,n,r){var i=n.to,s=i.row+t.row,o=i.col+t.col;t.row?this.jumpOverMergedCell(t,r,s):t.col&&this.jumpOverMergedCell(t,r,o)}},{key:"jumpOverMergedCell",value:function(t,n,r){var i=t.row||t.col,s=null,o=null,u=null;t.row?(s=n.includesVertically(r),o=n.row,u=n.getLastRow()):t.col&&(s=n.includesHorizontally(r),o=n.col,u=n.getLastColumn());if(i===0)return;i>0?s&&r!==o&&(i+=u-r+1):s&&r!==u&&(i-=r-o+1),t.row?t.row=i:t.col&&(t.col=i)}},{key:"getUpdatedSelectionRange",value:function(t,n){return new s.CellRange(t.highlight,t.from,new s.CellCoords(t.to.row+n.row,t.to.col+n.col))}},{key:"getSelectedMergedCellClassName",value:function(t,n,i,s){var o=r(i,4),u=o[0],a=o[1],f=o[2],l=o[3];if(s===void 0)return;if(t>=u&&t<=f&&n>=a&&n<=l){var c=this.plugin.mergedCellsCollection.isMergedParent(t,n);if(!c)return;var h=this.plugin.mergedCellsCollection.get(t,n);if(!h)return;if(h.row+h.rowspan-1<=f&&h.col+h.colspan-1<=l)return this.fullySelectedMergedCellClassName+"-"+s;if(this.plugin.selectionCalculations.isMergeCellFullySelected(h,this.plugin.hot.getSelectedRange()))return this.fullySelectedMergedCellClassName+"-multiple"}}},{key:"isMergeCellFullySelected",value:function(t,n){var r=[];if(!n||!t)return!1;for(var i=0;i<t.rowspan;i+=1)for(var o=0;o<t.colspan;o+=1)r.push(new s.CellCoords(t.row+i,t.col+o));for(var u=0;u<r.length;u+=1){var a=[];for(var f=0;f<n.length;f+=1)a[f]=n[f].includes(r[u]);if(!a.includes(!0))return!1}return!0}},{key:"getSelectedMergedCellClassNameToRemove",value:function(){var t=[];for(var n=0;n<=7;n+=1)t.push(this.fullySelectedMergedCellClassName+"-"+n);return t.push(this.fullySelectedMergedCellClassName+"-multiple"),t}}]),e}();t.default=u},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return{key:"mergeCells",name:function(){var n=this.getSelectedLast();if(n){var r=e.mergedCellsCollection.get(n[0],n[1]);if(r.row===n[0]&&r.col===n[1]&&r.row+r.rowspan-1===n[2]&&r.col+r.colspan-1===n[3])return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_UNMERGE_CELLS)}return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_MERGE_CELLS)},callback:function(){e.toggleMergeOnSelection()},disabled:function(){var t=this.getSelectedLast();if(!t)return!0;var n=o.default.isSingleCell({row:t[0],col:t[1],rowspan:t[2]-t[0]+1,colspan:t[3]-t[1]+1});return n||this.selection.isSelectedByCorner()},hidden:!1}}t.__esModule=!0,t.default=f;var r=n(7),i=a(r),s=n(97),o=u(s)},function(e,t){},function(e,t,n){function p(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function m(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function y(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:y(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(0),o=n(39),u=n(10),a=p(u),f=n(5),l=p(f),c=n(8),h=n(4),g=function(e){function t(e){d(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dragged=[],n.eventManager=null,n.lastSetCell=null,n}return m(t,e),r(t,[{key:"isEnabled",value:function(){return(0,o.isMobileBrowser)()}},{key:"enablePlugin",value:function(){if(this.enabled)return;this.eventManager||(this.eventManager=new l.default(this)),this.registerListeners(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"registerListeners",value:function(){function n(e){if(t.dragged.length===1)return t.dragged.splice(0,t.dragged.length),!0;var n=t.dragged.indexOf(e);if(n===-1)return!1;n===0?t.dragged=t.dragged.slice(0,1):n===1&&(t.dragged=t.dragged.slice(-1))}var t=this;this.eventManager.addEventListener(this.hot.rootElement,"touchstart",function(e){var n=void 0;if((0,s.hasClass)(e.target,"topLeftSelectionHandle-HitArea"))return n=t.hot.getSelectedRangeLast(),t.dragged.push("topLeft"),t.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},e.preventDefault(),!1;if((0,s.hasClass)(e.target,"bottomRightSelectionHandle-HitArea"))return n=t.hot.getSelectedRangeLast(),t.dragged.push("bottomRight"),t.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},e.preventDefault(),!1}),this.eventManager.addEventListener(this.hot.rootElement,"touchend",function(e){if((0,s.hasClass)(e.target,"topLeftSelectionHandle-HitArea"))return n.call(t,"topLeft"),t.touchStartRange=void 0,e.preventDefault(),!1;if((0,s.hasClass)(e.target,"bottomRightSelectionHandle-HitArea"))return n.call(t,"bottomRight"),t.touchStartRange=void 0,e.preventDefault(),!1}),this.eventManager.addEventListener(this.hot.rootElement,"touchmove",function(e){var n=(0,s.getWindowScrollTop)(),r=(0,s.getWindowScrollLeft)(),i=void 0,o=void 0,u=void 0,a=void 0,f=void 0,l=void 0;if(t.dragged.length===0)return;var c=document.elementFromPoint(e.touches[0].screenX-r,e.touches[0].screenY-n);if(!c||c===t.lastSetCell)return;if(c.nodeName==="TD"||c.nodeName==="TH")i=t.hot.getCoords(c),i.col===-1&&(i.col=0),o=t.hot.getSelectedRangeLast(),u=o.getWidth(),a=o.getHeight(),f=o.getDirection(),u===1&&a===1&&t.hot.selection.setRangeEnd(i),l=t.getCurrentRangeCoords(o,i,t.touchStartRange.direction,f,t.dragged[0]),l.start!==null&&t.hot.selection.setRangeStart(l.start),t.hot.selection.setRangeEnd(l.end),t.lastSetCell=c;e.preventDefault()})}},{key:"getCurrentRangeCoords",value:function(t,n,r,i,s){var o=t.getTopLeftCorner(),u=t.getBottomRightCorner(),a=t.getBottomLeftCorner(),f=t.getTopRightCorner(),l={start:null,end:null};switch(r){case"NE-SW":switch(i){case"NE-SW":case"NW-SE":s==="topLeft"?l={start:new h.CellCoords(n.row,t.highlight.col),end:new h.CellCoords(a.row,n.col)}:l={start:new h.CellCoords(t.highlight.row,n.col),end:new h.CellCoords(n.row,o.col)};break;case"SE-NW":s==="bottomRight"&&(l={start:new h.CellCoords(u.row,n.col),end:new h.CellCoords(n.row,o.col)});break;default:}break;case"NW-SE":switch(i){case"NE-SW":s==="topLeft"?l={start:n,end:a}:l.end=n;break;case"NW-SE":s==="topLeft"?l={start:n,end:u}:l.end=n;break;case"SE-NW":s==="topLeft"?l={start:n,end:o}:l.end=n;break;case"SW-NE":s==="topLeft"?l={start:n,end:f}:l.end=n;break;default:}break;case"SW-NE":switch(i){case"NW-SE":s==="bottomRight"?l={start:new h.CellCoords(n.row,o.col),end:new h.CellCoords(a.row,n.col)}:l={start:new h.CellCoords(o.row,n.col),end:new h.CellCoords(n.row,u.col)};break;case"SW-NE":s==="topLeft"?l={start:new h.CellCoords(t.highlight.row,n.col),end:new h.CellCoords(n.row,u.col)}:l={start:new h.CellCoords(n.row,o.col),end:new h.CellCoords(o.row,n.col)};break;case"SE-NW":s==="bottomRight"?l={start:new h.CellCoords(n.row,f.col),end:new h.CellCoords(o.row,n.col)}:s==="topLeft"&&(l={start:a,end:n});break;default:}break;case"SE-NW":switch(i){case"NW-SE":case"NE-SW":case"SW-NE":s==="topLeft"&&(l.end=n);break;case"SE-NW":s==="topLeft"?l.end=n:l={start:n,end:o};break;default:}break;default:}return l}},{key:"isDragged",value:function(){return this.dragged.length>0}}]),t}(a.default);(0,c.registerPlugin)("multipleSelectionHandles",g),t.default=g},function(e,t,n){function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function m(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:m(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(10),o=c(s),u=n(358),a=c(u),f=n(2),l=n(8),v=function(e){function t(e){h(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.observer=null,n}return d(t,e),r(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().observeChanges}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.observer||(this.observer=new a.default(this.hot.getSourceData()),this._exposePublicApi()),this.observer.addLocalHook("change",function(e){return n.onDataChange(e)}),this.addHook("afterCreateRow",function(){return n.onAfterTableAlter()}),this.addHook("afterRemoveRow",function(){return n.onAfterTableAlter()}),this.addHook("afterCreateCol",function(){return n.onAfterTableAlter()}),this.addHook("afterRemoveCol",function(){return n.onAfterTableAlter()}),this.addHook("afterChange",function(e,t){return n.onAfterTableAlter(t)}),this.addHook("afterLoadData",function(e){return n.onAfterLoadData(e)}),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.observer&&(this.observer.destroy(),this.observer=null,this._deletePublicApi()),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"onDataChange",value:function(t){var n=this;if(!this.observer.isPaused()){var r=this.pluginName+".change",i={add:function(t){isNaN(t.col)?n.hot.runHooks("afterCreateRow",t.row,1,r):n.hot.runHooks("afterCreateCol",t.col,1,r)},remove:function(t){isNaN(t.col)?n.hot.runHooks("afterRemoveRow",t.row,1,r):n.hot.runHooks("afterRemoveCol",t.col,1,r)},replace:function(t){n.hot.runHooks("afterChange",[[t.row,t.col,null,t.value]],r)}};(0,f.arrayEach)(t,function(e){i[e.op]&&i[e.op](e)}),this.hot.render()}this.hot.runHooks("afterChangesObserved")}},{key:"onAfterTableAlter",value:function(t){var n=this;t!=="loadData"&&(this.observer.pause(),this.hot.addHookOnce("afterChangesObserved",function(){return n.observer.resume()}))}},{key:"onAfterLoadData",value:function(t){t||this.observer.setObservedData(this.hot.getSourceData())}},{key:"destroy",value:function(){this.observer&&(this.observer.destroy(),this._deletePublicApi()),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_exposePublicApi",value:function(){var t=this,n=this.hot;n.pauseObservingChanges=function(){return t.observer.pause()},n.resumeObservingChanges=function(){return t.observer.resume()},n.isPausedObservingChanges=function(){return t.observer.isPaused()}}},{key:"_deletePublicApi",value:function(){var t=this.hot;delete t.pauseObservingChanges,delete t.resumeObservingChanges,delete t.isPausedObservingChanges}}]),t}(o.default);t.default=v,(0,l.registerPlugin)("observeChanges",v)},function(e,t,n){function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(359),s=l(i),o=n(47),u=l(o),a=n(1),f=n(360),h=function(){function e(t){c(this,e),this.observedData=null,this.observer=null,this.paused=!1,this.setObservedData(t)}return r(e,[{key:"setObservedData",value:function(t){var n=this;this.observer&&s.default.unobserve(this.observedData,this.observer),this.observedData=t,this.observer=s.default.observe(this.observedData,function(e){return n.onChange(e)})}},{key:"isPaused",value:function(){return this.paused}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}},{key:"onChange",value:function(t){this.runLocalHooks("change",(0,f.cleanPatches)(t))}},{key:"destroy",value:function(){s.default.unobserve(this.observedData,this.observer),this.observedData=null,this.observer=null}}]),e}();(0,a.mixin)(h,u.default),t.default=h},function(e,t,n){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=undefined&&undefined.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},s=Error,o;(function(e){function n(e,i){switch(typeof e=="undefined"?"undefined":r(e)){case"undefined":case"boolean":case"string":case"number":return e===i;case"object":if(e===null)return i===null;if(T(e)){if(!T(i)||e.length!==i.length)return!1;for(var s=0,o=e.length;s<o;s++)if(!n(e[s],i[s]))return!1;return!0}var u=t(i),a=u.length;if(t(e).length!==a)return!1;for(var s=0;s<a;s++)if(!n(e[s],i[s]))return!1;return!0;default:return!1}}function l(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e,t){var n;for(var i in e)if(e.hasOwnProperty(i)){if(e[i]===t)return l(i)+"/";if(r(e[i])==="object"){n=c(e[i],t);if(n!="")return l(i)+"/"+n}}return""}function h(e,t){if(e===t)return"/";var n=c(e,t);if(n==="")throw new s("Object not found in root");return"/"+n}function m(e){for(var t=0,n=p.length;t<n;t++)if(p[t].obj===e)return p[t]}function g(e,t){for(var n=0,r=e.observers.length;n<r;n++)if(e.observers[n].callback===t)return e.observers[n].observer}function y(e,t){for(var n=0,r=e.observers.length;n<r;n++)if(e.observers[n].observer===t){e.observers.splice(n,1);return}}function b(e,t){t.unobserve()}function w(e){return(typeof e=="undefined"?"undefined":r(e))==="object"?JSON.parse(JSON.stringify(e)):e}function E(e,t){var n=[],r=e,i,o=m(e);o?i=g(o,t):(o=new d(e),p.push(o));if(i)return i;i={},o.value=w(e);if(t){i.callback=t,i.next=null;var u=this.intervals||[100,1e3,1e4,6e4];if(u.push===void 0)throw new s("jsonpatch.intervals must be an array");var a=0,f=function(){S(i)},l=function(){clearTimeout(i.next),i.next=setTimeout(function(){f(),a=0,i.next=setTimeout(c,u[a++])},0)},c=function h(){f(),a==u.length&&(a=u.length-1),i.next=setTimeout(h,u[a++])};typeof window!="undefined"&&(window.addEventListener?(window.addEventListener("mousedown",l),window.addEventListener("mouseup",l),window.addEventListener("keydown",l)):(document.documentElement.attachEvent("onmousedown",l),document.documentElement.attachEvent("onmouseup",l),document.documentElement.attachEvent("onkeydown",l))),i.next=setTimeout(c,u[a++])}return i.patches=n,i.object=e,i.unobserve=function(){S(i),clearTimeout(i.next),y(o,i),typeof window!="undefined"&&(window.removeEventListener?(window.removeEventListener("mousedown",l),window.removeEventListener("mouseup",l),window.removeEventListener("keydown",l)):(document.documentElement.detachEvent("onmousedown",l),document.documentElement.detachEvent("onmouseup",l),document.documentElement.detachEvent("onkeydown",l)))},o.observers.push(new v(t,i)),i}function S(e){var t;for(var n=0,r=p.length;n<r;n++)if(p[n].obj===e.object){t=p[n];break}x(t.value,e.object,e.patches,""),e.patches.length&&C(t.value,e.patches);var i=e.patches;return i.length>0&&(e.patches=[],e.callback&&e.callback(i)),i}function x(e,n,i,s){var o=t(n),u=t(e),a=!1,f=!1;for(var c=u.length-1;c>=0;c--){var h=u[c],p=e[h];if(n.hasOwnProperty(h)){var d=n[h];(typeof p==="undefined"?"undefined":r(p))=="object"&&p!=null&&(typeof d==="undefined"?"undefined":r(d))=="object"&&d!=null?x(p,d,i,s+"/"+l(h)):p!=d&&(a=!0,i.push({op:"replace",path:s+"/"+l(h),value:w(d)}))}else i.push({op:"remove",path:s+"/"+l(h)}),f=!0}if(!f&&o.length==u.length)return;for(var c=0;c<o.length;c++){var h=o[c];e.hasOwnProperty(h)||i.push({op:"add",path:s+"/"+l(h),value:w(n[h])})}}function N(e){var t=0,n=e.length,r;while(t<n){r=e.charCodeAt(t);if(r>=48&&r<=57){t++;continue}return!1}return!0}function C(e,t,n){var r=!1,i=0,s=t.length,f,l;while(i<s){f=t[i],i++;var c=f.path||"",h=c.split("/"),p=e,d=1,v=h.length,m=undefined;for(;;){l=h[d],n&&m===undefined&&(p[l]===undefined?m=h.slice(0,d).join("/"):d==v-1&&(m=f.path),m!==undefined&&this.validator(f,i-1,e,m)),d++;if(l===undefined&&d>=v){r=a[f.op].call(f,p,l,e);break}if(T(p)){if(l==="-")l=p.length;else{if(n&&!N(l))throw new L("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i-1,f.path,f);l=parseInt(l,10)}if(d>=v){if(n&&f.op==="add"&&l>p.length)throw new L("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i-1,f.path,f);r=u[f.op].call(f,p,l,e);break}}else{l&&l.indexOf("~")!=-1&&(l=l.replace(/~1/g,"/").replace(/~0/g,"~"));if(d>=v){r=o[f.op].call(f,p,l,e);break}}p=p[l]}}return r}function k(e,t){var n=[];return x(e,t,n,""),n}function A(e){if(e===undefined)return!0;if(typeof e=="array"||(typeof e==="undefined"?"undefined":r(e))=="object")for(var t in e)if(A(e[t]))return!0;return!1}function O(t,n,i,s){if((typeof t=="undefined"?"undefined":r(t))!=="object"||t===null||T(t))throw new L("Operation is not an object","OPERATION_NOT_AN_OBJECT",n,t,i);if(!o[t.op])throw new L("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",n,t,i);if(typeof t.path!="string")throw new L("Operation `path` property is not a string","OPERATION_PATH_INVALID",n,t,i);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new L("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",n,t,i);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===undefined)throw new L("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",n,t,i);if(!(t.op!=="add"&&t.op!=="replace"&&t.op!=="test"||!A(t.value)))throw new L("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",n,t,i);if(i)if(t.op=="add"){var u=t.path.split("/").length,a=s.split("/").length;if(u!==a+1&&u!==a)throw new L("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",n,t,i)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==s)throw new L("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",n,t,i)}else if(t.op==="move"||t.op==="copy"){var f={op:"_get",path:t.from,value:undefined},l=e.validate([f],i);if(l&&l.name==="OPERATION_PATH_UNRESOLVABLE")throw new L("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",n,t,i)}}function M(e,t){try{if(!T(e))throw new L("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)t=JSON.parse(JSON.stringify(t)),C.call(this,t,e,!0);else for(var n=0;n<e.length;n++)this.validator(e[n],n)}catch(r){if(r instanceof L)return r;throw r}}var t=function(t){if(T(t)){var n=new Array(t.length);for(var r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(i);return n},o={add:function(t,n){return t[n]=this.value,!0},remove:function(t,n){return delete t[n],!0},replace:function(t,n){return t[n]=this.value,!0},move:function(t,n,r){var i={op:"_get",path:this.from};return C(r,[i]),C(r,[{op:"remove",path:this.from}]),C(r,[{op:"add",path:this.path,value:i.value}]),!0},copy:function(t,n,r){var i={op:"_get",path:this.from};return C(r,[i]),C(r,[{op:"add",path:this.path,value:i.value}]),!0},test:function(t,r){return n(t[r],this.value)},_get:function(t,n){this.value=t[n]}},u={add:function(t,n){return t.splice(n,0,this.value),!0},remove:function(t,n){return t.splice(n,1),!0},replace:function(t,n){return t[n]=this.value,!0},move:o.move,copy:o.copy,test:o.test,_get:o._get},a={add:function(t){a.remove.call(this,t);for(var n in this.value)this.value.hasOwnProperty(n)&&(t[n]=this.value[n]);return!0},remove:function(t){for(var n in t)t.hasOwnProperty(n)&&o.remove.call(this,t,n);return!0},replace:function(t){return C(t,[{op:"remove",path:this.path}]),C(t,[{op:"add",path:this.path,value:this.value}]),!0},move:o.move,copy:o.copy,test:function(t){return JSON.stringify(t)===JSON.stringify(this.value)},_get:function(t){this.value=t}},f={add:function(t,n){var r={op:"add",path:n+l(this.name),value:this.object[this.name]};t.push(r)},"delete":function(t,n){var r={op:"remove",path:n+l(this.name)};t.push(r)},update:function(t,n){var r={op:"replace",path:n+l(this.name),value:this.object[this.name]};t.push(r)}},p=[],d=function(){function e(e){this.observers=[],this.obj=e}return e}(),v=function(){function e(e,t){this.callback=e,this.observer=t}return e}();e.unobserve=b,e.observe=E,e.generate=S;var T;Array.isArray?T=Array.isArray:T=function(t){return t.push&&typeof t.length=="number"},e.apply=C,e.compare=k;var L=function(e){function t(t,n,r,i,s){e.call(this,t),this.message=t,this.name=n,this.index=r,this.operation=i,this.tree=s}return i(t,e),t}(s);e.JsonPatchError=L,e.Error=L,e.validator=O,e.validate=M})(o||(o={})),t.apply=o.apply,t.observe=o.observe,t.unobserve=o.unobserve,t.generate=o.generate,t.compare=o.compare,t.validate=o.validate,t.validator=o.validator,t.JsonPatchError=o.JsonPatchError,t.Error=o.Error},function(e,t,n){function s(e){var t=[],n=(0,i.arrayFilter)(e,function(e){return/[/]length/ig.test(e.path)?!1:o(e.path)?!0:!1});return n=(0,i.arrayMap)(n,function(e){var t=o(e.path);return e.row=t.row,e.col=t.col,e}),n=(0,i.arrayFilter)(n,function(e){if(["add","remove"].indexOf(e.op)!==-1&&!isNaN(e.col)){if(t.indexOf(e.col)!==-1)return!1;t.push(e.col)}return!0}),t.length=0,n}function o(e){var t=e.match(/^\/(\d+)\/?(.*)?$/);if(!t)return null;var n=r(t,3),i=n[1],s=n[2];return{row:parseInt(i,10),col:/^\d*$/.test(s)?parseInt(s,10):s}}t.__esModule=!0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.cleanPatches=s,t.parsePath=o;var i=n(2)},function(e,t,n){function c(e){return e&&e.__esModule?e:{"default":e}}function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function v(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function w(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:w(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(10),o=c(s),u=n(8),a=n(1),f=n(6),l=n(11),m="htSearchResult",g=function(t,n,r,i,s){t.getCellMeta(n,r).isSearchResult=s},y=function(t,n){return(0,l.isUndefined)(t)||t===null||!t.toLowerCase||t.length===0?!1:(0,l.isUndefined)(n)||n===null?!1:n.toString().toLowerCase().indexOf(t.toLowerCase())!==-1},b=function(e){function t(e){p(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.callback=g,n.queryMethod=y,n.searchResultClass=m,n}return v(t,e),r(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().search}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;var r=this.hot.getSettings().search;this.updatePluginSettings(r),this.addHook("beforeRenderer",function(){return n.onBeforeRenderer.apply(n,arguments)}),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var n=this,r=function(){return n.onBeforeRenderer.apply(n,arguments)};this.hot.addHook("beforeRenderer",r),this.hot.addHookOnce("afterRender",function(){n.hot.removeHook("beforeRenderer",r)}),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"query",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.getCallback(),i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.getQueryMethod(),s=this.hot.countRows(),o=this.hot.countCols(),u=[],a=this.hot;return(0,f.rangeEach)(0,s-1,function(e){(0,f.rangeEach)(0,o-1,function(s){var o=n.hot.getDataAtCell(e,s),f=n.hot.getCellMeta(e,s),l=f.search.callback||r,c=f.search.queryMethod||i,h=c(t,o);if(h){var p={row:e,col:s,data:o};u.push(p)}l&&l(a,e,s,o,h)})}),u}},{key:"getCallback",value:function(){return this.callback}},{key:"setCallback",value:function(t){this.callback=t}},{key:"getQueryMethod",value:function(){return this.queryMethod}},{key:"setQueryMethod",value:function(t){this.queryMethod=t}},{key:"getSearchResultClass",value:function(){return this.searchResultClass}},{key:"setSearchResultClass",value:function(t){this.searchResultClass=t}},{key:"updatePluginSettings",value:function(t){(0,a.isObject)(t)&&(t.searchResultClass&&this.setSearchResultClass(t.searchResultClass),t.queryMethod&&this.setQueryMethod(t.queryMethod),t.callback&&this.setCallback(t.callback))}},{key:"onBeforeRenderer",value:function(t,n,r,i,s,o){var u=o.className||[],a=[];if(typeof u=="string")a=u.split(" ");else{var f;(f=a).push.apply(f,h(u))}this.isEnabled()&&o.isSearchResult?a.includes(this.searchResultClass)||a.push(""+this.searchResultClass):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),o.className=a.join(" ")}},{key:"destroy",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(o.default);(0,u.registerPlugin)("search",b),t.default=b},function(e,t,n){function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function m(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:m(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},s=n(0),o=n(2),u=n(10),a=c(u),f=n(8),l=n(40),v=function(e){function t(e){h(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollbars=[],n.clones=[],n.lockedCollection=!1,n.freezeOverlays=!1,n}return d(t,e),r(t,[{key:"isEnabled",value:function(){return(0,l.isTouchSupported)()}},{key:"enablePlugin",value:function(){var n=this;if(this.enabled)return;this.addHook("afterRender",function(){return n.onAfterRender()}),this.registerEvents(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.lockedCollection=!1,i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var t=this;this.addHook("beforeTouchScroll",function(){return t.onBeforeTouchScroll()}),this.addHook("afterMomentumScroll",function(){return t.onAfterMomentumScroll()})}},{key:"onAfterRender",value:function(){if(this.lockedCollection)return;var t=this.hot.view.wt.wtOverlays,n=t.topOverlay,r=t.bottomOverlay,i=t.leftOverlay,s=t.topLeftCornerOverlay,o=t.bottomLeftCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(n),r.clone&&this.scrollbars.push(r),this.scrollbars.push(i),s&&this.scrollbars.push(s),o&&o.clone&&this.scrollbars.push(o),this.clones.length=0,n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),r.needFullRender&&this.clones.push(r.clone.wtTable.holder.parentNode),i.needFullRender&&this.clones.push(i.clone.wtTable.holder.parentNode),s&&this.clones.push(s.clone.wtTable.holder.parentNode),o&&o.clone&&this.clones.push(o.clone.wtTable.holder.parentNode)}},{key:"onBeforeTouchScroll",value:function(){this.freezeOverlays=!0,(0,o.arrayEach)(this.clones,function(e){(0,s.addClass)(e,"hide-tween")})}},{key:"onAfterMomentumScroll",value:function(){var t=this;this.freezeOverlays=!1,(0,o.arrayEach)(this.clones,function(e){(0,s.removeClass)(e,"hide-tween"),(0,s.addClass)(e,"show-tween")}),setTimeout(function(){(0,o.arrayEach)(t.clones,function(e){(0,s.removeClass)(e,"show-tween")})},400),(0,o.arrayEach)(this.scrollbars,function(e){e.refresh(),e.resetFixedPosition()}),this.hot.view.wt.wtOverlays.syncScrollWithMaster()}}]),t}(a.default);(0,f.registerPlugin)("touchScroll",v),t.default=v},function(e,t,n){function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e){var t=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,e.addHook("afterChange",function(e,n){e&&n!=="UndoRedo.undo"&&n!=="UndoRedo.redo"&&n!=="MergeCells"&&t.done(new v.ChangeAction(e))}),e.addHook("afterCreateRow",function(e,n,r){if(r==="UndoRedo.undo"||r==="UndoRedo.undo"||r==="auto")return;var i=new v.CreateRowAction(e,n);t.done(i)}),e.addHook("beforeRemoveRow",function(e,n,r,i){if(i==="UndoRedo.undo"||i==="UndoRedo.redo"||i==="auto")return;var s=t.instance.getSourceDataArray(),o=(s.length+e)%s.length,u=(0,a.deepClone)(s.slice(o,o+n));t.done(new v.RemoveRowAction(o,u))}),e.addHook("afterCreateCol",function(e,n,r){if(r==="UndoRedo.undo"||r==="UndoRedo.redo"||r==="auto")return;t.done(new v.CreateColumnAction(e,n))}),e.addHook("beforeRemoveCol",function(n,r,i,s){if(s==="UndoRedo.undo"||s==="UndoRedo.redo"||s==="auto")return;var o=t.instance.getSourceDataArray(),a=(t.instance.countCols()+n)%t.instance.countCols(),f=[],l=[],c=[];(0,u.rangeEach)(o.length-1,function(t){var n=[],i=o[t];(0,u.rangeEach)(a,a+(r-1),function(t){n.push(i[e.runHooks("modifyCol",t)])}),f.push(n)}),(0,u.rangeEach)(r-1,function(t){c.push(e.runHooks("modifyCol",a+t))}),Array.isArray(e.getSettings().colHeaders)&&(0,u.rangeEach)(r-1,function(t){l.push(e.getSettings().colHeaders[e.runHooks("modifyCol",a+t)]||null)});var h=t.instance.getPlugin("manualColumnMove"),p=h.isEnabled()?h.columnsMapper.__arrayMap:[],d=new v.RemoveColumnAction(a,c,f,l,p);t.done(d)}),e.addHook("beforeCellAlignment",function(e,n,r,i){var s=new v.CellAlignmentAction(e,n,r,i);t.done(s)}),e.addHook("beforeFilter",function(e){t.done(new v.FiltersAction(e))}),e.addHook("beforeRowMove",function(e,n){if(e===!1)return;t.done(new v.RowMoveAction(e,n))}),e.addHook("beforeMergeCells",function(n,r){if(r)return;t.done(new v.MergeCellsAction(e,n))}),e.addHook("afterUnmergeCells",function(n,r){if(r)return;t.done(new v.UnmergeCellsAction(e,n))})}function y(){var e=this,t=typeof e.getSettings().undo=="undefined"||e.getSettings().undo;t?e.undoRedo||(e.undoRedo=new v(e),E(e),e.addHook("beforeKeyDown",b),e.addHook("afterChange",w)):e.undoRedo&&(delete e.undoRedo,S(e),e.removeHook("beforeKeyDown",b),e.removeHook("afterChange",w))}function b(e){var t=this,n=(e.ctrlKey||e.metaKey)&&!e.altKey;n&&(e.keyCode===89||e.shiftKey&&e.keyCode===90?(t.undoRedo.redo(),(0,f.stopImmediatePropagation)(e)):e.keyCode===90&&(t.undoRedo.undo(),(0,f.stopImmediatePropagation)(e)))}function w(e,t){var n=this;if(t==="loadData")return n.undoRedo.clear()}function E(e){e.undo=function(){return e.undoRedo.undo()},e.redo=function(){return e.undoRedo.redo()},e.isUndoAvailable=function(){return e.undoRedo.isUndoAvailable()},e.isRedoAvailable=function(){return e.undoRedo.isRedoAvailable()},e.clearUndo=function(){return e.undoRedo.clear()}}function S(e){delete e.undo,delete e.redo,delete e.isUndoAvailable,delete e.isRedoAvailable,delete e.clearUndo}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(16),s=c(i),o=n(2),u=n(6),a=n(1),f=n(13),l=n(19);v.prototype.done=function(e){this.ignoreNewActions||(this.doneActions.push(e),this.undoneActions.length=0)},v.prototype.undo=function(){if(this.isUndoAvailable()){var e=this.doneActions.pop(),t=(0,a.deepClone)(e),n=this.instance,r=n.runHooks("beforeUndo",t);if(r===!1)return;this.ignoreNewActions=!0;var i=this;e.undo(this.instance,function(){i.ignoreNewActions=!1,i.undoneActions.push(e)}),n.runHooks("afterUndo",t)}},v.prototype.redo=function(){if(this.isRedoAvailable()){var e=this.undoneActions.pop(),t=(0,a.deepClone)(e),n=this.instance,r=n.runHooks("beforeRedo",t);if(r===!1)return;this.ignoreNewActions=!0;var i=this;e.redo(this.instance,function(){i.ignoreNewActions=!1,i.doneActions.push(e)}),n.runHooks("afterRedo",t)}},v.prototype.isUndoAvailable=function(){return this.doneActions.length>0},v.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},v.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},v.Action=function(){},v.Action.prototype.undo=function(){},v.Action.prototype.redo=function(){},v.ChangeAction=function(e){this.changes=e,this.actionType="change"},(0,a.inherit)(v.ChangeAction,v.Action),v.ChangeAction.prototype.undo=function(e,t){var n=(0,a.deepClone)(this.changes),r=e.countEmptyRows(!0),i=e.countEmptyCols(!0);for(var s=0,o=n.length;s<o;s++)n[s].splice(3,1);e.addHookOnce("afterChange",t),e.setDataAtRowProp(n,null,null,"UndoRedo.undo");for(var u=0,f=n.length;u<f;u++)e.getSettings().minSpareRows&&n[u][0]+1+e.getSettings().minSpareRows===e.countRows()&&r===e.getSettings().minSpareRows&&(e.alter("remove_row",parseInt(n[u][0]+1,10),e.getSettings().minSpareRows),e.undoRedo.doneActions.pop()),e.getSettings().minSpareCols&&n[u][1]+1+e.getSettings().minSpareCols===e.countCols()&&i===e.getSettings().minSpareCols&&(e.alter("remove_col",parseInt(n[u][1]+1,10),e.getSettings().minSpareCols),e.undoRedo.doneActions.pop())},v.ChangeAction.prototype.redo=function(e,t){var n=(0,a.deepClone)(this.changes);for(var r=0,i=n.length;r<i;r++)n[r].splice(2,1);e.addHookOnce("afterChange",t),e.setDataAtRowProp(n,null,null,"UndoRedo.redo")},v.CreateRowAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_row"},(0,a.inherit)(v.CreateRowAction,v.Action),v.CreateRowAction.prototype.undo=function(e,t){var n=e.countRows(),r=e.getSettings().minSpareRows;this.index>=n&&this.index-r<n&&(this.index-=r),e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},v.CreateRowAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateRow",t),e.alter("insert_row",this.index,this.amount,"UndoRedo.redo")},v.RemoveRowAction=function(e,t){this.index=e,this.data=t,this.actionType="remove_row"},(0,a.inherit)(v.RemoveRowAction,v.Action),v.RemoveRowAction.prototype.undo=function(e,t){e.alter("insert_row",this.index,this.data.length,"UndoRedo.undo"),e.addHookOnce("afterRender",t),e.populateFromArray(this.index,0,this.data,void 0,void 0,"UndoRedo.undo")},v.RemoveRowAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},v.CreateColumnAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_col"},(0,a.inherit)(v.CreateColumnAction,v.Action),v.CreateColumnAction.prototype.undo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},v.CreateColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateCol",t),e.alter("insert_col",this.index,this.amount,"UndoRedo.redo")},v.RemoveColumnAction=function(e,t,n,r,i){this.index=e,this.indexes=t,this.data=n,this.amount=this.data[0].length,this.headers=r,this.columnPositions=i.slice(0),this.actionType="remove_col"},(0,a.inherit)(v.RemoveColumnAction,v.Action),v.RemoveColumnAction.prototype.undo=function(e,t){var n=this,r=void 0,i=this.indexes.slice(0).sort(),s=function(t,r,s){return s[n.indexes.indexOf(i[r])]},a=[];(0,u.rangeEach)(this.data.length-1,function(e){a[e]=(0,o.arrayMap)(n.data[e],s)});var f=[];f=(0,o.arrayMap)(this.headers,s);var l=[];e.runHooks("beforeCreateCol",this.indexes[0],this.indexes.length,"UndoRedo.undo"),(0,u.rangeEach)(this.data.length-1,function(t){r=e.getSourceDataAtRow(t),(0,u.rangeEach)(i.length-1,function(e){r.splice(i[e],0,a[t][e]),l.push([t,i[e],null,a[t][e]])})}),e.getPlugin("formulas")&&e.getPlugin("formulas").onAfterSetDataAtCell(l),typeof this.headers!="undefined"&&(0,u.rangeEach)(f.length-1,function(t){e.getSettings().colHeaders.splice(i[t],0,f[t])}),e.getPlugin("manualColumnMove")&&(e.getPlugin("manualColumnMove").columnsMapper.__arrayMap=this.columnPositions),e.addHookOnce("afterRender",t),e.runHooks("afterCreateCol",this.indexes[0],this.indexes.length,"UndoRedo.undo"),e.getPlugin("formulas")&&e.getPlugin("formulas").recalculateFull(),e.render()},v.RemoveColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},v.CellAlignmentAction=function(e,t,n,r){this.stateBefore=e,this.range=t,this.type=n,this.alignment=r},v.CellAlignmentAction.prototype.undo=function(e,t){var n=this;(0,o.arrayEach)(this.range,function(t){var r=t.from,i=t.to;for(var s=r.row;s<=i.row;s+=1)for(var o=r.col;o<=i.col;o+=1)e.setCellMeta(s,o,"className",n.stateBefore[s][o]||" htLeft")}),e.addHookOnce("afterRender",t),e.render()},v.CellAlignmentAction.prototype.redo=function(e,t){(0,l.align)(this.range,this.type,this.alignment,function(t,n){return e.getCellMeta(t,n)},function(t,n,r,i){return e.setCellMeta(t,n,r,i)}),e.addHookOnce("afterRender",t),e.render()},v.FiltersAction=function(e){this.conditionsStack=e,this.actionType="filter"},(0,a.inherit)(v.FiltersAction,v.Action),v.FiltersAction.prototype.undo=function(e,t){var n=e.getPlugin("filters");e.addHookOnce("afterRender",t),n.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),n.filter()},v.FiltersAction.prototype.redo=function(e,t){var n=e.getPlugin("filters");e.addHookOnce("afterRender",t),n.conditionCollection.importAllConditions(this.conditionsStack),n.filter()};var m=function(e){function t(e,n){h(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.cellRange=n,r.rangeData=e.getData(n.from.row,n.from.col,n.to.row,n.to.col),r}return d(t,e),r(t,[{key:"undo",value:function(t,n){var r=t.getPlugin("mergeCells");t.addHookOnce("afterRender",n),r.unmergeRange(this.cellRange,!0),t.populateFromArray(this.cellRange.from.row,this.cellRange.from.col,this.rangeData,void 0,void 0,"MergeCells")}},{key:"redo",value:function(t,n){var r=t.getPlugin("mergeCells");t.addHookOnce("afterRender",n),r.mergeRange(this.cellRange)}}]),t}(v.Action);v.MergeCellsAction=m;var g=function(e){function t(e,n){h(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.cellRange=n,r}return d(t,e),r(t,[{key:"undo",value:function(t,n){var r=t.getPlugin("mergeCells");t.addHookOnce("afterRender",n),r.mergeRange(this.cellRange,!0)}},{key:"redo",value:function(t,n){var r=t.getPlugin("mergeCells");t.addHookOnce("afterRender",n),r.unmergeRange(this.cellRange,!0),t.render()}}]),t}(v.Action);v.UnmergeCellsAction=g,v.RowMoveAction=function(e,t){this.rows=e.slice(),this.target=t},(0,a.inherit)(v.RowMoveAction,v.Action),v.RowMoveAction.prototype.undo=function(e,t){var n=e.getPlugin("manualRowMove");e.addHookOnce("afterRender",t);var r=this.rows[0]<this.target?-1*this.rows.length:0,i=this.rows[0]>this.target?this.rows[0]+this.rows.length:this.rows[0],s=[],o=this.rows.length+r;for(var u=r;u<o;u+=1)s.push(this.target+u);n.moveRows(s.slice(),i),e.render(),e.selectCell(this.rows[0],0,this.rows[this.rows.length-1],e.countCols()-1,!1,!1)},v.RowMoveAction.prototype.redo=function(e,t){var n=e.getPlugin("manualRowMove");e.addHookOnce("afterRender",t),n.moveRows(this.rows.slice(),this.target),e.render();var r=this.rows[0]<this.target?this.target-this.rows.length:this.target;e.selectCell(r,0,r+this.rows.length-1,e.countCols()-1,!1,!1)};var x=s.default.getSingleton();x.add("afterInit",y),x.add("afterUpdateSettings",y),x.register("beforeUndo"),x.register("afterUndo"),x.register("beforeRedo"),x.register("afterRedo"),t.default=v}])["default"]}),define("table/CellSelection",["exports"],function(e){"use strict";function t(e){var t=e.getSelected()||[[0,0,0,0]],n=t[0][0],r=t[0][1];return{row:n,col:r}}function n(e,n,r){var i=t(e);return i.row===n&&i.col===r}function r(e,t,n){e.selectCell(t,n,undefined,undefined,!1,!1),e.runHooks("immediatelyAfterSelect",t,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectedCoords=t,e.isCoordsSelected=n,e.selectCell=r}),define("table/CellNavigation",["exports","constants/KeyCodes","table/CellSelection"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e){return e.which===r.default.ARROW_LEFT?a:e.which===r.default.ARROW_UP?f:e.which===r.default.ARROW_RIGHT?l:e.which===r.default.ARROW_DOWN?c:null}function o(e){return!!s(e)}function u(e,t){var r=s(t);if(!r)return null;var i=e.countRows()-1,o=e.countCols()-1,u=(0,n.getSelectedCoords)(e);return r(u.row,u.col,i,o,e)}function a(e,t,n,r){return t===0?e===0?{row:n,col:r}:{row:e-1,col:r}:{row:e,col:t-1}}function f(e,t,n,r){return e===0?t===0?{row:n,col:r}:{row:n,col:t-1}:{row:e-1,col:t}}function l(e,t,n,r){return t===r?e===n?{row:0,col:0}:{row:e+1,col:0}:{row:e,col:t+1}}function c(e,t,n,r){return e===n?t===r?{row:0,col:0}:{row:0,col:t+1}:{row:e+1,col:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.isMoveKey=o,e.getNextCell=u;var r=i(t)}),define("lib/controller/TableController",["exports","jquery","Handsontable","table/CellNavigation"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(){this._settings=h.call(this),this.table=new s.default(this.tableRenderer.$el[0],this._settings),this.table.render()}function h(){return{data:i.default.extend(!0,[],this.state.data),rowHeaders:this.state.showHeaders,colHeaders:this.state.showHeaders,allowInvalid:!1,manualRowResize:!0,manualColumnResize:!0,manualRowMove:this.allowEdit,manualColumnMove:this.allowEdit,undo:!0,fillHandle:this.allowEdit?{autoInsertRow:!1}:!1,outsideClickDeselects:!1,contextMenu:this.allowEdit?p.call(this):!1,width:this.tableRenderer.$el.width(),height:this.tableRenderer.$el.height(),enterBeginsEditing:!0,copyPaste:!!this.allowEdit}}function p(){return{items:{row_above:{name:"Insert row"},col_left:{name:"Insert column"},hsep1:"---------",remove_row:{disabled:function(){var t=this.getSelectedLast();return Math.abs(t[2]-t[0])+1>=this.countRows()}},remove_col:{disabled:function(){var t=this.getSelectedLast();return Math.abs(t[3]-t[1])+1>=this.countCols()}}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var i=o(t),s=o(n),l=function(){function e(){u(this,e),this.tableRenderer=null,this.table=null,this.allowEdit=!0}return f(e,[{key:"start",value:function(){c.call(this)}},{key:"destroy",value:function(){this.table&&this.table.destroy(),this._tableDestroyed=!0}},{key:"isTableDestroyed",value:function(){return this._tableDestroyed}}]),e}();e.default=l}),define("util/htmlUtils",["exports"],function(e){"use strict";function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}Object.defineProperty(e,"__esModule",{value:!0}),e.escTextContent=t}),define("table/CellAccessibility",["exports","util/htmlUtils"],function(e,t){"use strict";function n(e,t,n,r,i){var s=a(i);return'<span class="sr-only"><span class="sr-cell-row">'+'<span lang="'.concat(s,'">').concat(u(l(e,t)),"</span>")+"<span> row ".concat(t+1,", </span>")+"</span>"+'<span class="sr-cell-col">'+'<span lang="'.concat(s,'">').concat(u(f(e,n)),"</span>")+"<span> column ".concat(n+1,", </span>")+"</span>"+'<span lang="'.concat(r?s:"en",'"> ').concat(u(r)||"Blank","</span>")+"</span>"}function r(e,t){return'<span lang="'.concat(a(t),'">').concat(u(e),"</span>")}function i(e){return'<span class="cell-text" aria-hidden="true">'.concat(u(e),"</span>")}function s(e,t){e.find(".sr-cell-row").attr("aria-hidden",!t)}function o(e,t){e.find(".sr-cell-col").attr("aria-hidden",!t)}function u(e){return(0,t.escTextContent)(e||"")}function a(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return e.lang||"en"}function f(e,t){return e.getDataAtCell(0,t)||""}function l(e,t){return e.getDataAtCell(t,0)||""}Object.defineProperty(e,"__esModule",{value:!0}),e.srCellContext=n,e.srCellText=r,e.visibleCellText=i,e.srToggleRow=s,e.srToggleCol=o}),define("lib/controller/TableAccessibility",["exports","jquery","table/CellNavigation","table/CellAccessibility","constants/KeyCodes"],function(e,t,n,r,i){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function h(){var e=(0,s.default)(this.tableController.table.rootElement),t=(0,s.default)(this.tableController.table.table);t.find("thead").remove(),e.find(".ht_clone_top").attr("aria-hidden",!0),e.find(".ht_clone_left").attr("aria-hidden",!0)}function p(){var e=this.tableController.table.getActiveEditor(),t=e&&e.TEXTAREA;t&&t.setAttribute("aria-hidden","true")}function d(e,t){var n=(0,s.default)(this.tableController.table.getCell(e,t));n.length&&((0,r.srToggleRow)(n,e!==this._activeCell.row),(0,r.srToggleCol)(n,t!==this._activeCell.col),n[0]!==document.activeElement&&n.focus()),this._activeCell={row:e,col:t}}function v(e){var t=this.tableController.table.getActiveEditor();if(t&&t.isOpened()){(e.which===o.default.BACKSPACE||e.which===o.default.DELETE)&&e.stopImmediatePropagation();return}if(e.which===o.default.TAB){e.stopImmediatePropagation();return}if(!(0,n.isMoveKey)(e))return;e.stopImmediatePropagation();var r=(0,n.getNextCell)(this.tableController.table,e);if(!r)return;this.tableController.table.selectCell(r.row,r.col),d.call(this,r.row,r.col),e.preventDefault()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var s=u(t),o=u(i),c=function(){function e(){a(this,e),this.$container=null,this.tableController=null,this._activeCell={row:0,col:0}}return l(e,[{key:"start",value:function(){h.call(this),p.call(this),this.$container.on("keydown.".concat(this.UID),v.bind(this)),this.tableController.table.addHook("immediatelyAfterSelect",d.bind(this))}},{key:"destroy",value:function(){this.$container.off("keydown.".concat(this.UID))}}]),e}();e.default=c}),define("lib/controller/TextFormatting",["exports","jquery","constants/TextAlign","underscore"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function h(){var e=this;this.state.metadata.forEach(function(t,n){t.forEach(function(t,r){p.call(e,null,n,r)})})}function p(e,t,n){if(!this.state.metadata[t]||!this.state.metadata[t][n])return;var r=this.state.metadata[t][n],s=e?(0,i.default)(e):(0,i.default)(this.tableController.table.getCell(t,n));s.css("font-weight",v(r.bold)),s.css("font-style",m(r.italic)),s.css("text-decoration",g(r.strikethrough)),r.textAlign&&s.css("text-align",y(r.textAlign)),r.fontSize&&s.css("font-size",d(r.fontSize)),r.numeralStyle&&s.data("numeralStyle",r.numeralStyle)}function d(e){return"".concat(e,"px")}function v(e){return e?"bold":"400"}function m(e){return e?"italic":"normal"}function g(e){return e?"line-through":"normal"}function y(e){return e===s.default.LEFT?"left":e===s.default.CENTER?"center":"right"}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var i=u(t),s=u(n),o=u(r),c=function(){function e(){a(this,e),this.tableController=null}return l(e,[{key:"start",value:function(){this.tableController.table.addHook("afterRenderer",p.bind(this)),h.call(this)}},{key:"stateUpdated",value:function(t,n){o.default.isEqual(t.metadata,n.metadata)||h.call(this)}},{key:"destroy",value:function(){if(this.tableController.isTableDestroyed())return;this.tableController.table.removeHook("afterRenderer",p.bind(this))}}]),e}();e.default=c}),define("constants/ActionTypes",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={SET_SHOW_TOOLBAR:"Set show toolbar",SET_METADATA:"Set metadata",SET_MERGED_CELLS:"Set merged cells",SET_ROW_HEIGHTS:"Set row heights",SET_COLUMN_WIDTHS:"Set column widths",SET_ROW_HEADER_WIDTH:"Set row header width",SET_DATA:"Set data",SET_ANSWERS:"Set answer data",SET_INPUTS_DATA:"Set inputs data",SET_CELL_DATA:"Set cell data",NEW_CELL_SELECTION:"New cell selection",ADD_CELL_SELECTION:"Add cell selection",ADD_ANSWER:"Add answer to answer data",REMOVE_ANSWER:"Remove answer to answer data",UPDATE_ANSWER:"Update answer to answer data",UPDATE_CORRECT:"Update correct on answer data",SET_DATA_FROM_CAPI:"Set data from capi",SET_ROW_HEADERS:"Set row headers",SET_COLUMN_HEADERS:"Set column headers",EDIT_ROW_HEADER:"Edit row header",EDIT_COLUMN_HEADER:"Edit column header",ADD_ROW:"Add row",ADD_COLUMN:"Add Column",INSERT_ROW:"Insert row at",INSERT_COLUMN:"Insert column at",MOVE_ROWS:"Move rows",MOVE_COLUMNS:"Move columns",REMOVE_ROWS:"Remove rows at",REMOVE_COLUMNS:"Remove columns at",SET_CAPI_DATA:"Set capi data",SET_CAPI_LANGUAGE_FORMATTING:"Set capi language formatting",SET_CAPI_DIRECTION:"Set capi direction",SET_CAPI_CONFIG:"Set capi config",SET_CAPI_CSS:"Set capi css",SET_CAPI_MODE:"Set capi mode",SET_CAPI_CURRENCY_FORMAT:"Set capi currency format",SET_CAPI_DATE_FORMAT:"Set capi date format",SET_CAPI_NUMBER_FORMAT:"Set capi number format",SET_CAPI_SCIENTIFIC_FORMAT:"Set capi scientific format",SET_CAPI_SCIENTIFIC_MAGNITUDE:"Set capi scientific magnitude",SET_CAPI_LANGUAGE:"Set capi language",SET_CELL_FORMAT:"Set cell format",SET_CELL_TYPE:"Set cell type",SET_FILL_COLOR:"Set fill color",SET_BORDER_COLOR:"Set border color",SET_TEXT_COLOR:"Set text color",SET_TEXT_BOLD:"Set text bold",SET_TEXT_ITALIC:"Set text italic",SET_TEXT_STRIKETHROUGH:"Set text strikethrough",SET_TEXT_ALIGN:"Set text align",SET_TEXT_ALIGN_TOOLBAR_STATE:"Set text align toolbar state",SET_FONT_SIZE:"Set font size",TOGGLE_CELL_TYPE_VISIBILITY:"Toggle cell type visibility",MERGE_SELECTED_CELLS:"Merge selected cells",SET_CAPI_CORRECT:"Set capi correct",SET_CAPI_SHOW_CORRECT:"Set capi show correct",SET_CAPI_SHOW_HINTS:"Set capi show hints",SET_CAPI_IS_CASE_SENSITIVE:"SET_CAPI_IS_CASE_SENSITIVE",SET_CAPI_ALTERATE_CORRECT_DELIMITER:"SET_CAPI_ALTERATE_CORRECT_DELIMITER",SET_CAPI_INPUTS:"SET_CAPI_INPUTS",SET_STUDENT_EDITING:"Set student editing",UPDATE_UNDO_REDO_AVAILABILITY:"Update undo/redo availability",UNDO:"Undo",REDO:"Redo",SET_TABLE_TITLE:"Set table title",SET_TABLE_SUMMARY:"Set table summary",SET_OPTIONS_MENU_VISIBLE:"Set options menu visible"}}),define("lib/controller/UpdateTable",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=function(){function e(){i(this,e),this.table=null,this.store=null}return o(e,[{key:"start",value:function(){var t=this;this.table.table.addHook("afterColumnMove",this.actions.moveColumns),this.table.table.addHook("afterRowMove",this.actions.moveRows),this.table.table.addHook("afterRemoveCol",this.actions.removeColumns),this.table.table.addHook("afterRemoveRow",this.actions.removeRows),this.table.table.addHook("afterCreateCol",this.actions.insertColumn),this.table.table.addHook("afterCreateRow",this.actions.insertRow),this.unsubscribeRow=this.store.subscribe(n.default.ADD_ROW,function(){var e=t.store.getState().table.data;t.table.table.alter("insert_row",e.length)},this),this.unsubscribeColumn=this.store.subscribe(n.default.ADD_COLUMN,function(){var e=t.store.getState().table.data;t.table.table.alter("insert_col",e[0].length)},this)}},{key:"destroy",value:function(){if(!this.unsubscribeRow)return;this.unsubscribeRow(),this.unsubscribeColumn();if(this.table.isTableDestroyed())return;this.table.table.removeHook("beforeColumnMove",this.actions.moveRows),this.table.table.removeHook("beforeRowMove",this.actions.moveColumns),this.table.table.removeHook("beforeRemoveCol",this.actions.removeColumns),this.table.table.removeHook("beforeRemoveRow",this.actions.removeRows),this.table.table.removeHook("afterCreateCol",this.actions.insertColumn),this.table.table.removeHook("beforeCreateRow",this.actions.insertRow)}}]),e}();e.default=u}),define("config/SvgImages",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={warning:'<svg fill="#FFFFFF" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>'}}),define("lib/controller/MessageDisplayer",["exports","config/SvgImages"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=function(){function e(){i(this,e),this.errorFactory=null}return o(e,[{key:"initialize",value:function(){this._pendingTimeouts={}}},{key:"destroy",value:function(){for(var t in this._pendingTimeouts)clearTimeout(t)}},{key:"displayMessage",value:function(t){var r=this,i=t.visibleDuration||1500,s=t.fadeDuration||1500,o=this.errorFactory.create({references:{message:t.message,type:t.type,svg:n.default[t.type]}});this.entity.addChild(o);var u=setTimeout(function(){o.renderer.$el.css("animation","remove-message ".concat(s/1e3,"s ease")),delete r._pendingTimeouts[u]},i),a=setTimeout(function(){r.entity.removeChild(o),delete r._pendingTimeouts[a]},i+s);this._pendingTimeouts[u]=!0,this._pendingTimeouts[a]=!0}}]),e}();e.default=u}),define("lib/controller/ShowCorrectAnswers",["exports","underscore"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(){var e=this,t=this.state.showCorrect;this.state.inputs.forEach(function(r){var i=r.rowIndex,s=r.colIndex;e.tableController.table.setCellMeta(i,s,"answer-correct",t);if(!t)return;e.tableController.table.setCellMeta(i,s,"readOnly",t);var o=e.tableController.table.toPhysicalRow(i),u=e.tableController.table.toPhysicalColumn(s),a=n.default.findWhere(e.state.answers,{rowIndex:i,colIndex:s,correct:!0}),f=a?a.value:"";e.tableController.table.setDataAtCell(o,u,f)}),this.tableController.table.render()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=function(){function e(){i(this,e),this.tableController=null}return o(e,[{key:"start",value:function(){a.call(this)}},{key:"stateUpdated",value:function(t,n){if(t.showCorrect===n.showCorrect)return;a.call(this)}}]),e}();e.default=u}),define("util/correctness",["exports","underscore","constants/CellTypes"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e){return l(e)||f(e)||a(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if(typeof e=="string")return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);n==="Object"&&e.constructor&&(n=e.constructor.name);if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}function f(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function l(e){if(Array.isArray(e))return c(e)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.compareAllCorrectAnswers=e.makeCompareWithCorrectAnswer=e.getAllCorrectAnswers=undefined;var r=s(t),i=s(n),h=function(t,n,i){var s=r.default.findWhere(t,{rowIndex:n,colIndex:i,correct:!0});return s&&s.value},p=function(t,n){return t.split(n)||[]},d=e.getAllCorrectAnswers=function(t,n,r,i,s){var u=h(r,t,n),a=u?[u]:[];if(i.length===0)return a;var f=p(i,s);return[].concat(a,o(f))},v=e.makeCompareWithCorrectAnswer=function(t,n,r){return function(e){return t===i.default.NUMBER?parseFloat(r)===parseFloat(e):n?e===r:e.toLowerCase()===r.toLowerCase()}},m=e.compareAllCorrectAnswers=function(t,n){return r.default.some(t,n)}}),define("lib/controller/ShowAnswersHint",["exports","underscore","util/correctness"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function f(){var e=this;if(!this.state.data)return;this.state.inputs.forEach(function(t){var r=t.rowIndex,i=t.colIndex,s=e.tableController.table.toPhysicalRow(r),o=e.tableController.table.toPhysicalColumn(i),u=e.state.data[s];if(!u)return;if(!e.state.showHints)return e.tableController.table.setCellMeta(s,o,"answer-hint-correct",null);var a=u[o],f=e.state.metadata[s][o],l=(0,n.getAllCorrectAnswers)(s,o,e.state.answers,t.altCorrect,e.state.alternateCorrectDelimiter),c=a==="";if(l&&l.length){var h=(0,n.makeCompareWithCorrectAnswer)(f.type,e.state.isCaseSensitive,a);c=(0,n.compareAllCorrectAnswers)(l,h)}e.tableController.table.setCellMeta(s,o,"answer-hint-correct",c)}),this.tableController.table.render()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var r=i(t),a=function(){function e(){s(this,e),this.tableController=null}return u(e,[{key:"start",value:function(){f.call(this)}},{key:"stateUpdated",value:function(t,n){if(t.showHints===n.showHints)return;f.call(this)}}]),e}();e.default=a}),function(e){"use strict";function o(){var r=e.crypto||e.msCrypto;if(!t&&r&&r.getRandomValues)try{var s=new Uint8Array(16);i=t=function(){return r.getRandomValues(s),s},t()}catch(o){}if(!t){var u=new Array(16);n=t=function(){for(var e=0,t;e<16;e++)(e&3)===0&&(t=Math.random()*4294967296),u[e]=t>>>((e&3)<<3)&255;return u},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function u(){if("function"==typeof require)try{var e=require("crypto").randomBytes;r=t=e&&function(){return e(16)},t()}catch(n){}}function h(e,t,n){var r=t&&n||0,i=0;t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[r+i++]=l[e])});while(i<16)t[r+i++]=0;return t}function p(e,t){var n=t||0,r=f;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function b(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var s=e.clockseq!=null?e.clockseq:m,o=e.msecs!=null?e.msecs:(new Date).getTime(),u=e.nsecs!=null?e.nsecs:y+1,a=o-g+(u-y)/1e4;a<0&&e.clockseq==null&&(s=s+1&16383),(a<0||o>g)&&e.nsecs==null&&(u=0);if(u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=o,y=u,m=s,o+=122192928e5;var f=((o&268435455)*1e4+u)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;var l=o/4294967296*1e4&268435455;i[r++]=l>>>8&255,i[r++]=l&255,i[r++]=l>>>24&15|16,i[r++]=l>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;var c=e.node||v;for(var h=0;h<6;h++)i[r+h]=c[h];return t?t:p(i)}function w(e,n,r){var i=n&&r||0;typeof e=="string"&&(n=e==="binary"?new a(16):null,e=null),e=e||{};var s=e.random||(e.rng||t)();s[6]=s[6]&15|64,s[8]=s[8]&63|128;if(n)for(var o=0;o<16;o++)n[i+o]=s[o];return n||p(s)}var t,n,r,i,s;e?o():u();var a="function"==typeof Buffer?Buffer:Array,f=[],l={};for(var c=0;c<256;c++)f[c]=(c+256).toString(16).substr(1),l[f[c]]=c;var d=t(),v=[d[0]|1,d[1],d[2],d[3],d[4],d[5]],m=(d[6]<<8|d[7])&16383,g=0,y=0,E=w;E.v1=b,E.v4=w,E.parse=h,E.unparse=p,E.BufferClass=a,E._rng=t,E._mathRNG=n,E._nodeRNG=r,E._whatwgRNG=i,"undefined"!=typeof module&&module.exports?module.exports=E:typeof define=="function"&&define.amd?define("node-uuid",[],function(){return E}):(s=e.uuid,E.noConflict=function(){return e.uuid=s,E},e.uuid=E)}("undefined"!=typeof window?window:null),define("lib/controller/AddNewOption",["exports","underscore","node-uuid"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var r=s(t),i=s(n),f=function(){function e(){o(this,e),this.rowIndex=-1,this.colIndex=-1,this.text="Option 1"}return a(e,[{key:"start",value:function(){var t=r.default.where(this.state.answers,{rowIndex:this.rowIndex,colIndex:this.colIndex});if(t.length)return;this.actions.addAnswer(i.default.v4(),this.rowIndex,this.colIndex,this.text,!0)}}]),e}();e.default=f}),define("lib/controller/Dropdown",["exports","underscore"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e){var t=this,r=this.rowIndex,i=this.colIndex,s=n.default.where(this.state.answers,{rowIndex:r,colIndex:i});e=e||[];var o=s.map(function(e){return e.uuid}),u=e.map(function(e){return e.uuid}),a=n.default.difference(u,o).map(function(t){return n.default.findWhere(e,{uuid:t})});a.forEach(function(e){t._cache[e.uuid].destroy()});var f=n.default.difference(o,u).map(function(e){return n.default.findWhere(s,{uuid:e})});f.forEach(function(e,r){var i=t.optionFactory.create({references:{parent:t.renderer,uuid:e.uuid,text:e.value,focus:r===f.length-1,correctSelector:function(r){var i=n.default.findWhere(r.answers,{uuid:e.uuid});return i?i.correct:!1}}});t._cache[e.uuid]=i})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=function(){function e(){i(this,e),this.renderer=null,this.optionFactory=null,this.rowIndex=-1,this.colIndex=-1}return o(e,[{key:"start",value:function(){this._cache={},a.call(this)}},{key:"stateUpdated",value:function(t,r){var i=this.rowIndex,s=this.colIndex,o=n.default.where(t.answers,{rowIndex:i,colIndex:s}),u=n.default.where(r.answers,{rowIndex:i,colIndex:s});if(n.default.isEqual(o,u))return;a.call(this,u)}}]),e}();e.default=u}),define("lib/controller/DropdownOption",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function s(){var e=document.createRange();e.selectNodeContents(this.renderer.$el.get(0));var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(){t(this,e),this.renderer=null,this.focused=!1}return r(e,[{key:"start",value:function(){this.renderer.$el.on("focus.".concat(this.UID),s.bind(this));if(!this.focused)return;this.renderer.$el[0].focus()}}]),e}();e.default=i}),define("lib/controller/DropdownPositioner",["exports","jquery"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(){return this.originalPosition+this.renderer.$el[u[this.property]]()>(0,n.default)(window)[this.property]()}function l(){this._cachedValue=this.renderer.$el[u[this.property]](),this.renderer.$el.toggleClass(this.classWhenOutside,f.call(this))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u={width:"outerWidth",height:"outerHeight"},a=function(){function e(){i(this,e),this.renderer=null,this.classWhenOutside="",this.originalPosition="",this.property=""}return o(e,[{key:"start",value:function(){l.call(this)}},{key:"update",value:function(){if(this.renderer.$el[u[this.property]]()===this._cachedValue)return;l.call(this)}}]),e}();e.default=a}),define("componentLibrary-Sync/ModelToModel",["exports","sim-utils/event/DeregisterEvent"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=Symbol("syncFromPrimaryModel"),s=Symbol("syncFromSecondaryModel"),o=function(){function e(){n(this,e),this.primaryModel=null,this.primaryModelKey=null,this.secondaryModel=null,this.secondaryModelKey=null}return r(e,[{key:"start",value:function(){this.primaryModel.on("change:"+this.primaryModelKey,this[i],this),this.secondaryModel.on("change:"+this.secondaryModelKey,this[s],this),this[i](),this[s]()}},{key:"destroy",value:function(){(0,t.deregisterBackboneEvent)(this.primaryModel,this),(0,t.deregisterBackboneEvent)(this.secondaryModel,this)}},{key:i,value:function(){this.secondaryModel.setValue(this.secondaryModelKey,this.primaryModel.getValue(this.primaryModelKey))}},{key:s,value:function(){this.primaryModel.setValue(this.primaryModelKey,this.secondaryModel.getValue(this.secondaryModelKey))}}]),e}();e.default=o}),define("lib/sync/CellSelection",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function s(){this.actions.clearSelection()}function o(){var e=this.tableController.table.getSelected(),t=e[e.length-1];e.length===1?this.actions.newSelection(t[0],t[1],t[2],t[3]):this.actions.addSelection(t[0],t[1],t[2],t[3])}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(){t(this,e),this.tableController=null}return r(e,[{key:"start",value:function(){this.tableController.table.addHook("afterSelectionEnd",o.bind(this)),this.tableController.table.addHook("afterDeselect",s.bind(this))}},{key:"destroy",value:function(){if(this.tableController.isTableDestroyed())return;this.tableController.table.removeHook("afterSelectionEnd",o.bind(this)),this.tableController.table.removeHook("afterDeselect",s.bind(this))}}]),e}();e.default=i}),define("lib/sync/CellEditor",["exports","jquery"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){var r=this.state.metadata[e][t],i=(0,n.default)(this.tableController.table.getActiveEditor().TEXTAREA);i.css({color:r.textColor,"font-weight":r.bold?"bold":"normal","font-style":r.italic?"italic":"normal","text-decoration":r.strikethrough?"line-through":"normal"}),r.textAlign&&(0,n.default)(this.tableController.table.getActiveEditor().TEXTAREA).css("text-align",r.textAlign),r.fontSize&&(0,n.default)(this.tableController.table.getActiveEditor().TEXTAREA).css("font-size",r.fontSize+"px")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=function(){function e(){i(this,e),this.tableController=null}return o(e,[{key:"start",value:function(){this.tableController.table.addHook("afterBeginEditing",a.bind(this))}},{key:"destroy",value:function(){if(this.tableController.isTableDestroyed())return;this.tableController.table.removeHook("afterBeginEditing",a.bind(this))}}]),e}();e.default=u}),define("lib/sync/ColumnsWidth",["exports","underscore"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(){var e=this.tableController.table.getSettings().rowHeaderWidth,t=e!==this.state.rowHeaderWidth;t&&this.actions.setRowHeaderWidth(e)}function f(e,t){var n=[];for(var r=0;r<this.tableController.table.countCols();r++)n[r]=this.tableController.table.getColWidth(r);n[e]=t,this.actions.setColWidths(n)}function l(){this.tableController.table.updateSettings({rowHeaderWidth:this.state.rowHeaderWidth,colWidths:this.state.colWidths&&this.state.colWidths.length>0?this.state.colWidths:c.call(this)})}function c(){var e=this.state.rowHeaderWidth,t=this.tableController.tableRenderer.$el.outerWidth()-e,n=this.state.numberOfColumns;if(n===0)return[];var r=t/n,i=[];for(var s=0;s<n;s++)i.push(r);return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=function(){function e(){i(this,e),this.tableController=null}return o(e,[{key:"start",value:function(){this.tableController.table.addHook("afterUpdateSettings",a.bind(this)),this.tableController.table.addHook("afterColumnResize",f.bind(this)),l.call(this)}},{key:"stateUpdated",value:function(t,r){var i=t.rowHeaderWidth!==r.rowHeaderWidth||!n.default.isEqual(t.colWidths,r.colWidths)||t.numberOfColumns!==r.numberOfColumns;i&&l.call(this)}}]),e}();e.default=u}),define("lib/sync/Correct",["exports","underscore"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(){var e=this.state.inputs;this.actions.setCorrect(e.length>0&&e.every(function(e){return e.correct}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=function(){function e(){i(this,e)}return o(e,[{key:"start",value:function(){a.call(this)}},{key:"stateUpdated",value:function(t,r){if(n.default.isEqual(t.data,r.data))return;a.call(this)}}]),e}();e.default=u}),define("lib/sync/MergedCells",["exports","underscore"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(){this._table.updateSettings({mergeCells:this.state.mergedCells})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=function(){function e(){i(this,e),this.tableController=null}return o(e,[{key:"start",value:function(){this._table=this.tableController.table,this._table.addHook("afterCreateRow",a.bind(this)),this._table.addHook("afterRowMove",a.bind(this)),this._table.addHook("afterRemoveRow",a.bind(this)),this._table.addHook("afterCreateCol",a.bind(this)),this._table.addHook("afterColMove",a.bind(this)),this._table.addHook("afterRemoveCol",a.bind(this)),a.call(this)}},{key:"stateUpdated",value:function(t,r){if(t.mergedCells.length===r.mergedCells.length&&!n.default.difference(t.mergedCells,r.mergedCells).length)return;a.call(this)}},{key:"destroy",value:function(){if(this.tableController.isTableDestroyed())return;this._table.removeHook("afterCreateRow",a.bind(this)),this._table.removeHook("afterRowMove",a.bind(this)),this._table.removeHook("afterRemoveRow",a.bind(this)),this._table.removeHook("afterCreateCol",a.bind(this)),this._table.removeHook("afterColMove",a.bind(this)),this._table.removeHook("afterRemoveCol",a.bind(this)),this._table=null}}]),e}();e.default=u}),define("table/TextInput",["exports","jquery","Handsontable","constants/KeyCodes","constants/NumeralStyle","table/CellSelection","table/CellAccessibility"],function(e,t,n,r,i,s,o){"use strict";function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t,n,r,i,a,f){var l=(0,u.default)(t);l.attr("tabindex","0"),l.html((0,o.srCellContext)(e,n,r,a,f)),p(l,a,f),l.append((0,o.visibleCellText)(a)),f.fragmentSelection=!0,l.addClass("text-input-cell-type"),l.toggleClass("answer-correct answer-readonly",!!f["answer-correct"]),f["answer-correct"]||(l.toggleClass("answer-correct",f["answer-hint-correct"]===!0),l.toggleClass("answer-incorrect",f["answer-hint-correct"]===!1)),l.off("focus.text-input").on("focus.text-input",function(){(0,s.isCoordsSelected)(e,n,r)||(0,s.selectCell)(e,n,r)}),t.customChangeListener||(t.customChangeListener=function(t){var i=t.find(function(e){return e[0]===n&&e[1]===r});if(!i||i[2]===i[3])return;if(l.hasClass("answer-correct")&&!l.hasClass("answer-readonly")||l.hasClass("answer-incorrect"))l.removeClass("answer-correct answer-incorrect"),e.setCellMeta(n,r,"answer-hint-correct",null)},e.addHook("afterChange",t.customChangeListener))}function p(e,t,n){var r=(0,u.default)('<span class="sr-only sr-only-instructions"></span>');e.append(r),n["answer-correct"]||n["answer-hint-correct"]===!0?r.text("This entry is correct."):n["answer-hint-correct"]===!1?r.html("This entry is incorrect. Press Enter to replace ".concat(t?(0,o.srCellText)(t,n):"blank",".")):t?r.html("Press Enter to replace ".concat((0,o.srCellText)(t,n),".")):r.text("Press Enter to complete the blank.")}function v(e){var t={0:"Ù ",1:"Ù¡",2:"Ù¢",3:"Ù£",4:"Ù¤",5:"Ù¥",6:"Ù¦",7:"Ù§",8:"Ù¨",9:"Ù©"};if(t.hasOwnProperty(e.key)){e.preventDefault();var n=this.TEXTAREA.selectionStart,r=this.TEXTAREA.selectionEnd,i=this.TEXTAREA.scrollTop;this.TEXTAREA.value=this.TEXTAREA.value.substring(0,n)+t[e.key]+this.TEXTAREA.value.substring(r),this.TEXTAREA.setSelectionRange(n+t[e.key].length,n+t[e.key].length),this.TEXTAREA.scrollTop=i}}Object.defineProperty(e,"__esModule",{value:!0}),e.TextInputEditor=undefined,e.TextInputRenderer=h;var u=c(t),a=c(n),f=c(r),l=c(i),d=e.TextInputEditor=a.default.editors.TextEditor.prototype.extend();d.prototype.createElements=function(){a.default.editors.TextEditor.prototype.createElements.apply(this,arguments),this.TEXTAREA=document.createElement("textarea"),this.TEXTAREA.className="handsontableInput textInput",(0,u.default)(this.TEXTAREA).attr("tabindex","-1"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=100,this.textareaStyle.height=25,a.default.dom.empty(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)},d.prototype.open=function(e){var t=this;a.default.editors.TextEditor.prototype.open.apply(this,arguments);var n=a.default.dom.outerWidth(this.TD),r=a.default.dom.outerHeight(this.TD);(0,u.default)(this.TEXTAREA_PARENT).css({width:"".concat(n,"px"),height:"".concat(r,"px")}),e instanceof KeyboardEvent&&e.type==="keydown"&&(0,u.default)(this.TD).data("numeralStyle")===l.default.ARABIC_INDIC&&v.call(this,e),(0,u.default)(this.TEXTAREA).on("keydown.TextInputEditor",function(e){e.which===f.default.ENTER?(e.preventDefault(),e.stopPropagation(),t.finishEditing()):(0,u.default)(t.TD).data("numeralStyle")===l.default.ARABIC_INDIC&&v.call(t,e)})},d.prototype.focus=function(){this.state==="STATE_EDITING"&&a.default.editors.TextEditor.prototype.focus.apply(this,arguments)},d.prototype.close=function(){a.default.editors.TextEditor.prototype.close.apply(this,arguments),(0,u.default)(this.TEXTAREA).off("keydown.TextInputEditor"),this.TD.focus(),this.instance.runHooks("immediatelyAfterSelect",this.row,this.col)}}),function(e,t){typeof define=="function"&&define.amd?define("SceneManager",["jquery","ComponentSystem","ComponentLibrary"],t):e.SceneManager=t()}(this,function(e,t,n){var r,i,s;return function(e){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v=t&&t.split("/"),m=l.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e=v.concat(e);for(c=0;c<e.length;c+=1){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===1&&(e[2]===".."||e[0]===".."))break;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(v)for(h=v.length;h>0;h-=1){i=m[v.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&g&&g[r]&&(a=g[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(t,r){return function(){return n.apply(e,p.call(arguments,0).concat([t,r]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(n){if(v(f,n)){var r=f[n];delete f[n],c[n]=!0,t.apply(e,r)}if(!v(a,n)&&!v(c,n))throw new Error("No "+n);return a[n]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var t,n,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:S(e)}}},t=function(t,n,r,i){var s,l,h,p,d,m=[],y=typeof r,E;i=i||t;if(y==="undefined"||y==="function"){n=!n.length&&r.length?["require","exports","module"]:n;for(d=0;d<n.length;d+=1){p=o(n[d],i),l=p.f;if(l==="require")m[d]=u.require(t);else if(l==="exports")m[d]=u.exports(t),E=!0;else if(l==="module")s=m[d]=u.module(t);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(t+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=r?r.apply(a[t],m):undefined;if(t)if(s&&s.exports!==e&&s.exports!==a[t])a[t]=s.exports;else if(h!==e||!E)a[t]=h}else t&&(a[t]=r)},r=i=n=function(r,i,s,a,f){if(typeof r=="string")return u[r]?u[r](i):w(o(r,i).f);if(!r.splice){l=r,l.deps&&n(l.deps,l.callback);if(!i)return;i.splice?(r=i,i=s,s=null):r=e}return i=i||function(){},typeof s=="function"&&(s=a,a=f),a?t(e,r,i,s):setTimeout(function(){t(e,r,i,s)},4),n},n.config=function(e){return n(e)},r._defined=a,s=function(e,t,n){t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},s.amd={jQuery:!0}}(),s("../../bower_components/almond/almond",function(){}),s("constants",[],function(){var e={};return Object.defineProperty(e,"FACTORY",{value:"+",enumerable:!0}),Object.defineProperty(e,"REFERENCE",{value:"&",enumerable:!0}),Object.defineProperty(e,"INJECTION",{value:"~",enumerable:!0}),Object.defineProperty(e,"MEMBER",{value:".",enumerable:!0}),Object.defineProperty(e,"PATTERN_ALL",{value:"*",enumerable:!0}),Object.defineProperty(e,"PATTERN_SELF",{value:"",enumerable:!0}),Object.defineProperty(e,"PATTERN_PARENT",{value:"^",enumerable:!0}),e}),s("ResolutionProperty",["require","constants"],function(e){function r(){return typeof this.componentObject=="string"?this.componentObject:this.componentObject[this.propName]}function i(e,n,r){if(typeof e!="string")return e;var i=e.substr(1).split(t.MEMBER),o=e[0],a=i.pop();if(o===t.FACTORY)return r[a]||null;if(o===t.REFERENCE&&(i.length===0||i[0]===t.PATTERN_SELF&&i.length===1))return u(this.entity,a);if(o===t.REFERENCE){var f=s(this.entity,n,i);return u(f,a)}return e}function s(e,n,r){var i=r.shift(),s=n[i]||null;return i===t.PATTERN_PARENT?s=e.parent||null:i===t.PATTERN_SELF&&(s=e||null),o(s,r)}function o(e,n){if(e===null||!n.length)return e;var r=n.shift();return r===t.PATTERN_PARENT?o(e.parent,n):o(e.children[r]||null,n)}function u(e,n){return e?n===t.PATTERN_ALL?e:e[n]||null:null}var t=e("constants"),n=function(e,t,n){this.componentObject=t,this.propName=n,this.entity=e};return n.prototype.resolve=function(e,t){var n=this.isInjection()?this.injectedValue:r.call(this);return i.call(this,n,e,t)},n.prototype.isInjection=function(){var e=r.call(this);return e[0]===t.INJECTION},n.prototype.resolveInjection=function(e){if(!this.isInjection()||this.injectedValue&&this.injectedValue[0]!==t.INJECTION)return;var n=r.call(this);this.injectedValue=e[n.substr(1)]},n}),s("ComponentQuery",["require","constants","ResolutionProperty"],function(e){function s(e,t,r,o){if(!r||o&&!r[i])return;for(var a in r){if(!r.hasOwnProperty(a))continue;if(u(r[a]))e.push(new n(t,r,a));else if(Array.isArray(r[a])){var f=r[a];for(var l in f)u(f[l])&&e.push(new n(t,f,l))}else s(e,t,r[a],!0)}}var t=e("constants"),n=e("ResolutionProperty"),r=[t.REFERENCE,t.FACTORY,t.INJECTION],i="resolveReferences",o={addResolutionProperties:function(e,t){return s(e,t.entity,t,!1),e},resolveComponentReferences:function(e,t,n){var r;try{while(n.length)r=n[0],r.componentObject[r.propName]=r.resolve(e,t),n.shift()}catch(i){throw new Error("Error in input: "+i.message)}}},u=function(e){return typeof e=="string"&&e.length>0&&r.reduce(function(t,n){return n===e[0]||t},!1)};return o}),s("EntityFactory",["require","constants","jquery"],function(e){var t=e("constants"),n=e("jquery"),r=function(e,t){this.scene=e,this.config=t};r.prototype.create=function(e){e=e||{};var t=this.scene.addEntity(e.name,n.extend(!0,{},this.config,e.config)),r=i(e.references);return this.scene.injectReferences(t,r),t};var i=function(e){var n={};for(var r in e)if(r){var i=r[0]===t.INJECTION?r.substr(1):r;n[i]=e[r]}return n};return r}),s("Scene",["require","ComponentSystem","ComponentLibrary","ComponentQuery","EntityFactory","jquery"],function(e){var t=e("ComponentSystem"),n=e("ComponentLibrary"),r=e("ComponentQuery"),i=e("EntityFactory"),s=e("jquery"),o=1,u=function(e){this.config=a(e),this.id=this.config.id,Object.defineProperty(this,"Entities",{get:function(){return t.Entities}}),this.Factories={},this.references=[],this.$el=c(this.id)};u.prototype.addEntity=function(e,n,r){var i,s;if(n.factory){var o=this.Factories[n.factory];if(!o)throw new Error("Cannot create entity, factory does not exist: "+n.factory);return s=o.create({name:e,config:{components:n.components,children:n.children},references:n.references}),r&&r.addChild(e,s),s}s=t.createEntity(e),s.Scene=this;for(i in n.components){if(!n.components.hasOwnProperty(i))continue;try{this.addComponent(s,i,n.components[i])}catch(u){throw console.warn("Component "+i+" was not attached.\n"+u.message),u}}r&&r.addChild(e,s);for(i in n.children){if(!n.children.hasOwnProperty(i))continue;this.addEntity(i,n.children[i],s)}return s},u.prototype.addComponent=function(e,t,i){var o,u,a;return i=s.extend({},i),u=i.componentName||t,delete i.componentName,o=n.getComponent(u),a=e.addComponent(t,o,i),r.addResolutionProperties(this.references,a),a},u.prototype.start=function(){l.call(this),f.call(this)},u.prototype.unload=function(){var e;this.$el.remove();for(e in this.Entities){if(!this.Entities.hasOwnProperty(e))continue;this.Entities[e].destroy(),delete this.Entities[e]}for(e in this.Factories)delete this.Factories[e]},u.prototype.resolveReferences=function(){r.resolveComponentReferences(this.Entities,this.Factories,this.references)},u.prototype.injectReferences=function(e,t){for(var n=0;n<this.references.length;++n)e===this.references[n].entity&&this.references[n].resolveInjection(t);for(var r in e.children){if(!e.children.hasOwnProperty(r))continue;this.injectReferences(e.children[r],t)}},u.create=function(e){return new u(e)};var a=function(e){var t={};return t.id=e&&e.id||o++,t.entities=e?s.extend(!0,{},e.entities):{},t.factories=e?s.extend(!0,{},e.factories):{},t},f=function(){var e,t;t=this.config.entities;for(e in t){if(!t.hasOwnProperty(e))continue;this.addEntity(e,t[e])}},l=function(){var e,t,n;n=this.config.factories;for(e in n){if(!n.hasOwnProperty(e))continue;this.Factories[e]=new i(this,n[e])}},c=function(e){return s('<div id="scene_'+e+'" class="scene" />')};return u}),s("Time",["require","ComponentSystem","jquery"],function(e){var t=e("ComponentSystem"),n=e("jquery"),r=function(e){this.playing=!0,this.ts=0,this.lastTs=0,this.elapsed=0,this.sinceAppStart=0,this.sinceSceneStart=0,this.pauseStartTs=null,this.playStateOverwrite=!0,e&&(n(window).on("focus",n.proxy(o,this,!0)),n(window).on("blur",n.proxy(o,this,!1)))};r.prototype.resetSceneTimer=function(){this.sinceSceneStart=0},r.prototype.pause=function(){this.playing=!1,this.playStateOverwrite=!1},r.prototype.play=function(){this.playing=!0,this.playStateOverwrite=!0},r.prototype.update=function(e){this.ts=e,this.playing?(s.call(this),t.update(this)):i.call(this)},r.create=function(e){return new r(e)};var i=function(){this.pauseStartTs===null&&(this.pauseStartTs=this.ts)},s=function(){this.lastTs||(this.lastTs=this.ts),this.pauseStartTs&&(this.lastTs=this.ts,this.pauseStartTs=null),this.elapsed=this.ts-this.lastTs,this.sinceAppStart+=this.elapsed,this.sinceSceneStart+=this.elapsed,this.lastTs=this.ts},o=function(e){this.playStateOverwrite&&(this.playing=e)};return r}),s("PerformancePolyfill",[],function(){(function(){if(!("performance"in window)){window.performance={},Date.now=Date.now||function(){return(new Date).getTime()};if(!("now"in window.performance)){var e=Date.now();performance.timing!==undefined&&performance.timing.navigationStart!==undefined&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}}})()}),s("Manager",["require","ComponentSystem","Scene","Time","jquery","./PerformancePolyfill"],function(e){"use strict";var t=e("ComponentSystem"),n=e("Scene"),r=e("Time"),i=e("jquery");e("./PerformancePolyfill");var s=0,o=0,u=500,a={Scenes:{},ActiveScene:null,parent:null,$el:null,startTime:0,sceneStartTime:0,lastUpdate:0,create:function(e){h(),this.parent=e.parent||document.body,this.$el=i(this.parent),this._requestAnimationFrameCallback=i.proxy(l,this),this._setTimeoutCallback=i.proxy(c,this),this.Time=r.create(e.pauseOnBlur===!1?!1:e.pauseOnBlur||!0),f(e),t.start()},startScene:function(e){h();var t=this.Scenes[e]||this.Scenes[Object.keys(this.Scenes)[0]];return this.ActiveScene&&this.ActiveScene.unload(),this.$el.append(t.$el),this.ActiveScene=t,s=window.requestAnimationFrame(this._requestAnimationFrameCallback),o=window.setTimeout(this._setTimeoutCallback,u),this.Time.resetSceneTimer(),t.start(),this.update(),this.ActiveScene},update:function(e){e=e||performance.now(),this.ActiveScene&&this.ActiveScene.resolveReferences(),this.Time.update(e)}},f=function(e){if(!(e instanceof Object&&e.scenes instanceof Object&&Object.keys(e.scenes).length!==0))throw new Error("No scenes detected on the config file.");var t,r,i;for(t in e.scenes){if(!e.scenes.hasOwnProperty(t))continue;r=e.scenes[t],i=n.create(r);if(a.Scenes[i.id])throw new Error("A scene with the same ID already exists");a.Scenes[i.id]=i}},l=function(e){s=window.requestAnimationFrame(this._requestAnimationFrameCallback),o>0&&(window.clearTimeout(o),o=0),this.update(e)},c=function(){o=window.setTimeout(this._setTimeoutCallback,u),this.update()},h=function(){window.cancelAnimationFrame(s),window.clearTimeout(o),s=0,o=0};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){window.clearTimeout(e)},a}),s("jquery",function(){return e}),s("ComponentSystem",function(){return t}),s("ComponentLibrary",function(){return n}),i("Manager")}),define("table/DropdownInput",["exports","jquery","Handsontable","SceneManager"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n,r,s,o,u){var c=(0,i.default)(t);c.html(""),c.attr("tabindex","-1"),f(c),l(c,o||"Select an option"),c.toggleClass("dropdown-input-cell-type--empty",!o),c.addClass("dropdown-input-cell-type"),c.toggleClass("answer-correct answer-readonly",!!u["answer-correct"]),c.off("click.dropdown-input").on("click.dropdown-input",function(){if(e.getCellRenderer(n,r)!==a){c.off("click.dropdown-input");return}var t=e.getActiveEditor();t.enableFullEditMode(),t.beginEditing()})}function f(e){e.append((0,i.default)('<span class="sr-only sr-only-context"></span>'))}function l(e,t){var n=(0,i.default)('<span class="cell-text"></span>');e.append(n),n.text(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownInputEditor=undefined,e.DropdownInputRenderer=a;var i=u(t),s=u(n),o=u(r),c=e.DropdownInputEditor=s.default.editors.BaseEditor.prototype.extend();c.prototype.init=function(){this.createElements()},c.prototype.createElements=function(){this.DROPDOWN_PARENT=document.createElement("div"),this.$DROPDOWN_PARENT=(0,i.default)(this.DROPDOWN_PARENT),this.$DROPDOWN_PARENT.addClass("dropdown-input-editor"),this.instance.rootElement.appendChild(this.DROPDOWN_PARENT)},c.prototype.open=function(){var e=(0,i.default)(this.instance.rootElement).offset(),t=(0,i.default)(this.TD).offset(),n=this.instance.getSelectedLast()[0],r=this.instance.getSelectedLast()[1],s=n!==0,o=r!==0;this.$DROPDOWN_PARENT.css("position","absolute"),this.$DROPDOWN_PARENT.css("top",t.top-e.top-(s?1:0)),this.$DROPDOWN_PARENT.css("left",t.left-(o?1:0)),this.$DROPDOWN_PARENT.css("width",(0,i.default)(this.TD).outerWidth()+(o?1:0)),this.$DROPDOWN_PARENT.css("display","block")},c.prototype.setValue=function(e){this.entity&&this.entity.destroy();var t=(0,i.default)(this.TD).offset(),n=this.instance.getSelectedLast()[0],r=n!==0;this.entity=o.default.ActiveScene.addEntity("dropdown",{factory:"dropdownInput",references:{parent:{$el:this.$DROPDOWN_PARENT},left:t.left,top:t.top,rowIndex:this.row,colIndex:this.col,selectedValue:e,selectedValueHeight:(0,i.default)(this.TD).outerHeight()+(r?1:0),selectValueFontSize:(0,i.default)(this.TD).css("font-size")}}),this.entity.children.selectedValue.renderer.$el.on("click",this.close.bind(this))},c.prototype.getValue=function(){return this.entity?this.entity.children.selectedValue.renderer.$el.text():""},c.prototype.focus=function(){this.DROPDOWN_PARENT.focus()},c.prototype.close=function(){this.$DROPDOWN_PARENT.css("display","none")}}),define("table/StudentDropdownInput",["exports","jquery","Handsontable","SceneManager","constants/KeyCodes","table/CellSelection","table/CellAccessibility"],function(e,t,n,r,i,s,o){"use strict";function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t,n,r,i,a,f){var l=(0,u.default)(t);l.attr("tabindex","0"),l.html((0,o.srCellContext)(e,n,r,a,f)),p(l,a,f),l.append((0,o.visibleCellText)(a)),l.addClass("dropdown-input-cell-type"),l.toggleClass("answer-correct answer-readonly",!!f["answer-correct"]),f["answer-correct"]||(l.toggleClass("answer-correct",f["answer-hint-correct"]===!0),l.toggleClass("answer-incorrect",f["answer-hint-correct"]===!1)),l.off("focus.dropdown-input").on("focus.dropdown-input",function(){(0,s.isCoordsSelected)(e,n,r)||(0,s.selectCell)(e,n,r)}),l.off("click.student-dropdown-input");if(!!f["answer-correct"])return;l.on("click.student-dropdown-input",function(){if(e.getCellRenderer(n,r)!==h){l.off("click.student-dropdown-input");return}var t=e.getActiveEditor();t.enableFullEditMode(),t.beginEditing()}),t.customChangeListener||(t.customChangeListener=function(t){var i=t.find(function(e){return e[0]===n&&e[1]===r});if(!i||i[2]===i[3])return;l.removeClass("answer-correct answer-incorrect"),e.setCellMeta(n,r,"answer-hint-correct",null)},e.addHook("afterChange",t.customChangeListener))}function p(e,t,n){var r=(0,u.default)('<span class="sr-only sr-only-instructions"></span>');e.append(r),n["answer-correct"]||n["answer-hint-correct"]===!0?r.text("This selection is correct."):n["answer-hint-correct"]===!1?r.html("This selection is incorrect. Press Enter to replace ".concat(t?(0,o.srCellText)(t,n):"blank",".")):t?r.html("Press Enter to replace ".concat((0,o.srCellText)(t,n),".")):r.text("Press Enter to complete the blank.")}function v(){this.finishEditing()}Object.defineProperty(e,"__esModule",{value:!0}),e.StudentDropdownInputEditor=undefined,e.StudentDropdownInputRenderer=h;var u=c(t),a=c(n),f=c(r),l=c(i),d=e.StudentDropdownInputEditor=a.default.editors.BaseEditor.prototype.extend();d.prototype.init=function(){this.createElements()},d.prototype.createElements=function(){this.DROPDOWN_PARENT=document.createElement("div"),this.$DROPDOWN_PARENT=(0,u.default)(this.DROPDOWN_PARENT),this.$DROPDOWN_PARENT.addClass("dropdown-input-editor"),this.instance.rootElement.appendChild(this.DROPDOWN_PARENT)},d.prototype.open=function(){var e=(0,u.default)(this.instance.rootElement).offset(),t=(0,u.default)(this.TD).offset(),n=this.instance.getSelectedLast()[0],r=this.instance.getSelectedLast()[1],i=n!==0,s=r!==0;this.$DROPDOWN_PARENT.css("position","absolute"),this.$DROPDOWN_PARENT.css("top",t.top-e.top-(i?1:0)),this.$DROPDOWN_PARENT.css("left",t.left-(s?1:0)),this.$DROPDOWN_PARENT.css("width",(0,u.default)(this.TD).outerWidth()+(s?1:0)),this.$DROPDOWN_PARENT.css("display","block"),this.instance.unlisten()},d.prototype.setValue=function(e){var t=this;this.entity&&this.entity.destroy();var n=(0,u.default)(this.TD).offset(),r=this.instance.getSelectedLast()[0],i=r!==0;this.entity=f.default.ActiveScene.addEntity("dropdown",{factory:"dropdownInput",references:{parent:{$el:this.$DROPDOWN_PARENT},left:n.left,rowIndex:this.row,colIndex:this.col,selectedValue:e,selectedValueHeight:(0,u.default)(this.TD).outerHeight()+(i?1:0),selectValueFontSize:(0,u.default)(this.TD).css("font-size")}}),this.entity.renderer.$el.on("select2:select",v.bind(this)),this.entity.renderer.$el.on("select2:close",v.bind(this)),this.entity.renderer.$el.keydown(function(e){e.which===l.default.ENTER&&v.bind(t)})},d.prototype.getValue=function(){return this.entity?this.entity.renderer.$el.val():""},d.prototype.focus=function(){this.DROPDOWN_PARENT.focus()},d.prototype.close=function(){this.instance.listen(),this.$DROPDOWN_PARENT.css("display","none"),this.entity&&(this.entity.renderer.$el.select2("destroy"),this.$DROPDOWN_PARENT.empty()),this.TD.focus(),this.instance.runHooks("immediatelyAfterSelect",this.row,this.col)}}),define("table/NotEditable",["exports","Handsontable","table/CellAccessibility"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t,n,i,s,o,u){a(r.default.cellTypes.text.renderer,e,t,n,i,s,o,u)}function o(e,t,n,i,s,o,u){a(r.default.cellTypes.numeric.renderer,e,t,n,i,s,o,u)}function u(e,t,n,i,s,o,u){a(r.default.cellTypes.date.renderer,e,t,n,i,s,o,u)}function a(e,t,r,i,s,o,u,a){e(t,r,i,s,o,u,a),r.setAttribute("tabindex","-1"),r.innerHTML=(0,n.srCellContext)(t,i,s,u,a)+(0,n.visibleCellText)(u)}Object.defineProperty(e,"__esModule",{value:!0}),e.NotEditableTextRenderer=s,e.NotEditableNumericRenderer=o,e.NotEditableDateRenderer=u;var r=i(t)}),define("table/CellTypeProps",["exports","Handsontable","constants/CellTypes","constants/Mode","table/TextInput","table/DropdownInput","table/StudentDropdownInput","table/NotEditable"],function(e,t,n,r,i,s,o,u){"use strict";function c(e){return e&&e.__esModule?e:{"default":e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){t(!0)}function m(e,t){if(e===null||e===void 0)e="";this.allowEmpty&&e===""?t(!0):e===""?t(!1):t(/^-?(\d|[\u0660-\u0669])*(\.|,)?(\d|[\u0660-\u0669])*$/.test(e))}Object.defineProperty(e,"__esModule",{value:!0});var a=c(t),f=c(n),l=c(r),h,p;e.default=(p={},d(p,f.default.NOT_EDITABLE,{cellType:f.default.NOT_EDITABLE,editor:a.default.cellTypes.text.editor,renderer:u.NotEditableTextRenderer,validator:v}),d(p,f.default.TEXT_INPUT,{cellType:f.default.TEXT_INPUT,editor:i.TextInputEditor,renderer:i.TextInputRenderer,validator:v}),d(p,f.default.NUMBER,{cellType:f.default.NUMBER,editor:i.TextInputEditor,renderer:i.TextInputRenderer,validator:m}),d(p,f.default.DROPDOWN,(h={},d(h,l.default.CONFIG,{cellType:f.default.DROPDOWN,editor:s.DropdownInputEditor,renderer:s.DropdownInputRenderer,validator:v}),d(h,l.default.STUDENT,{cellType:f.default.DROPDOWN,editor:o.StudentDropdownInputEditor,renderer:o.StudentDropdownInputRenderer,validator:v}),h)),d(p,f.default.CURRENCY,{cellType:f.default.CURRENCY,editor:a.default.cellTypes.numeric.editor,renderer:u.NotEditableNumericRenderer,validator:a.default.cellTypes.numeric.validator}),d(p,f.default.DATE,{cellType:f.default.DATE,editor:a.default.cellTypes.date.editor,renderer:u.NotEditableDateRenderer,validator:a.default.cellTypes.date.validator}),p)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("languages/de-DE.min",[],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).numbro||(t.numbro={})).deDE=e()}}(function(){return function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var f="function"==typeof require&&require;if(!u&&f)return f(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";t.exports={languageTag:"de-DE",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},spaceSeparated:!0,currency:{symbol:"â¬",position:"postfix",code:"EUR"},currencyFormat:{totalLength:4,thousandSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0,average:!0},fullWithTwoDecimals:{output:"currency",mantissa:2,spaceSeparated:!0,thousandSeparated:!0},fullWithTwoDecimalsNoCurrency:{mantissa:2,thousandSeparated:!0},fullWithNoDecimals:{output:"currency",spaceSeparated:!0,thousandSeparated:!0,mantissa:0}}}},{}]},{},[1])(1)}),define("table/CellFormat",["exports","underscore","constants/CellTypes","constants/Format","numbro","languages/de-DE.min"],function(e,t,n,r,i,s){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return p.indexOf(e)>=0?u.default.DATE:d.indexOf(e)>=0?u.default.CURRENCY:u.default.NOT_EDITABLE}Object.defineProperty(e,"__esModule",{value:!0}),e.getCellType=v;var o=l(t),u=l(n),a=l(i),f=l(s),c;a.default.registerLanguage(f.default),e.default=(c={},h(c,r.TextFormat.DEFAULT,{}),h(c,r.DateFormat.DAY_MONTH_YEAR,{dateFormat:"DD/MM/YY"}),h(c,r.DateFormat.MONTH_DAY_YEAR,{dateFormat:"MM/DD/YY"}),h(c,r.DateFormat.YEAR_MONTH_DAY,{dateFormat:"YY/MM/DD"}),h(c,r.CurrencyFormat.DOLLARS_CENTS,{numericFormat:{pattern:"$0,0.00",culture:"en-US"}}),h(c,r.CurrencyFormat.DOLLARS,{numericFormat:{pattern:"$0,0",culture:"en-US"}}),h(c,r.CurrencyFormat.EUROS_CENTS,{numericFormat:{pattern:"$0,0.00",culture:"de-DE"}}),h(c,r.CurrencyFormat.EUROS,{numericFormat:{pattern:"$0,0",culture:"de-DE"}}),c);var p=o.default.values(r.DateFormat),d=o.default.values(r.CurrencyFormat)}),define("storage/selectors",["exports","underscore","SceneManager","constants/Mode","constants/CellTypes"],function(e,t,n,r,i){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.isNavigationEnabled=e.getBlankCount=e.getCompletedBlankCount=e.getTableSummary=e.getTableTitle=e.getColumnCount=e.getRowCount=e.getCellIsAssessed=e.getCellMetadata=e.cellIsAssessed=e.getIncorrectCount=e.getCorrectCount=e.isShowHints=e.isShowCorrect=e.isCorrect=e.getNumberOfRows=e.getNumberOfColumns=e.getColumns=e.getRows=e.getColHeaders=e.getRowHeaders=e.isHeadersEditable=e.isHeadersVisible=e.getTableHeaders=e.getDirection=e.getLanguageFormatting=e.getLanguage=e.getCss=e.getConfigJSON=e.getGlobalEditing=e.getStudentEditing=e.getMode=e.getSimConfig=e.getInputs=e.getAlternateCorrectDelimiter=e.getIsCaseSensitive=e.getCorrectnessDomain=e.isToolbarVisible=e.getRowHeights=e.getColWidths=e.getRowHeaderWidth=e.getMetadata=e.getAnswers=e.getMergedCells=e.getTableData=e.getTable=undefined;var s=f(t),o=f(n),u=f(r),a=f(i),l=e.getTable=function(t){return t.table},c=e.getTableData=function(t){return l(t).data},h=e.getMergedCells=function(t){return l(t).mergedCells},p=e.getAnswers=function(t){return l(t).answers},d=e.getMetadata=function(t){return l(t).metadata},v=e.getRowHeaderWidth=function(t){return l(t).rowHeaderWidth},m=e.getColWidths=function(t){return l(t).colWidths},g=e.getRowHeights=function(t){return l(t).rowHeights},y=e.isToolbarVisible=function(t){return l(t).showToolbar},b=e.getCorrectnessDomain=function(t){return t.correctness},w=e.getIsCaseSensitive=function(t){return b(t).isCaseSensitive},E=e.getAlternateCorrectDelimiter=function(t){return b(t).alternateCorrectDelimiter||","},S=e.getInputs=function(t){return b(t).inputs||[]},x=e.getSimConfig=function(t){return t.simConfig},T=e.getMode=function(t){return o.default.ActiveScene.id},N=e.getStudentEditing=function(t){return x(t).studentEditing},C=e.getGlobalEditing=function(t){return T(t)===u.default.CONFIG},k=e.getConfigJSON=function(t){return x(t).configJSON},L=e.getCss=function(t){return x(t).css},A=e.getLanguage=function(t){return x(t).language},O=e.getLanguageFormatting=function(t){return x(t).languageFormatting},M=e.getDirection=function(t){return x(t).direction},_=e.getTableHeaders=function(t){return t.tableHeaders},D=e.isHeadersVisible=function(t){return C(t)},P=e.isHeadersEditable=function(t){return N(t)},H=e.getRowHeaders=function(t){return _(t).rowHeaders},B=e.getColHeaders=function(t){return _(t).colHeaders},j=e.getRows=function(t){return c(t)},F=e.getColumns=function(t){return s.default.unzip(c(t))},I=e.getNumberOfColumns=function(t){return F(t).length},q=e.getNumberOfRows=function(t){return j(t).length},R=e.isCorrect=function(t){return l(t).correct},U=e.isShowCorrect=function(t){return l(t).showCorrect},z=e.isShowHints=function(t){return l(t).showHints},W=e.getCorrectCount=function(t){return s.default.where(S(t),{correct:!0}).length},X=e.getIncorrectCount=function(t){return s.default.where(S(t),{correct:!1}).length},V=e.cellIsAssessed=function(t){return t.type===a.default.TEXT_INPUT||t.type===a.default.DROPDOWN||t.type===a.default.NUMBER},$=e.getCellMetadata=function(t,n,r){return d(t)[n]&&d(t)[n][r]||{}},J=e.getCellIsAssessed=function(t,n,r){return V($(t,n,r))},K=e.getRowCount=function(t){var n=d(t);return n?n.length:0},Q=e.getColumnCount=function(t){var n=d(t);return n&&n.length&&n[0]?n[0].length:0},G=e.getTableTitle=function(t){return t.tableTitle},Y=e.getTableSummary=function(t){return t.tableSummary},Z=e.getCompletedBlankCount=function(t){var n=c(t);return s.default.reduce(n,function(e,n,r){return e+s.default.reduce(n,function(e,n,i){return e+(J(t,r,i)&&!!n?1:0)},0)},0)},et=e.getBlankCount=function(t){var n=d(t);return s.default.reduce(n,function(e,t){return e+s.default.reduce(t,function(e,t){return e+(V(t)?1:0)},0)},0)},tt=e.isNavigationEnabled=function(t){return N(t)}}),define("constants/Language",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={Arabic:"ar",English:"en",French:"fr",Italian:"it",Japanese:"ja",Portuguese:"pt",Russian:"ru",Spanish:"es"}}),define("util/languageUtils",["exports","constants/Language"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e?n.default.hasOwnProperty(e)?n.default[e]:e:n.default.English}Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguage=i;var n=r(t)}),define("lib/sync/MetadataToTable",["exports","jquery","constants/CellTypes","table/CellTypeProps","table/CellFormat","storage/selectors","util/languageUtils","underscore"],function(e,t,n,r,i,s,o,u){"use strict";function p(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function y(e){var t=this,n=e.metadata,r=e.globalEditing,i=e.language,u=this.tableController.table.countRows(),h=this.tableController.table.countCols();n.filter(function(e,t){return t<u}).forEach(function(e,n){e.filter(function(e,t){return t<h}).forEach(function(e,u){var h=l.default[e.type];h=e.type===f.default.DROPDOWN?h[t.sceneName]:h;var p=c.default[e.format],d=r?!0:(0,s.cellIsAssessed)(e),v=a.default.extend({readOnly:!d,lang:(0,o.getLanguage)(i)},h,p);t.tableController.table.setCellMetaObject(n,u,v)})}),this.tableController.table.render()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var a=p(t),f=p(n),l=p(r),c=p(i),h=p(u),g=function(){function e(){d(this,e),this.tableController=null,this.sceneName=null}return m(e,[{key:"start",value:function(){y.call(this,this.state)}},{key:"stateUpdated",value:function(t,n){!t.showCorrect&&(!h.default.isEqual(t.metadata,n.metadata)||t.language!==n.language)&&y.call(this,t)}}]),e}();e.default=g}),define("lib/sync/RowsHeight",["exports","underscore"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){var n=[];for(var r=0;r<this.tableController.table.countRows();r++)n[r]=this.tableController.table.getRowHeight(r);n[e]=t,this.actions.setRowHeights(n)}function f(){this.tableController.table.updateSettings({rowHeights:this.state.rowHeights})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=function(){function e(){i(this,e),this.tableController=null}return o(e,[{key:"start",value:function(){this.tableController.table.addHook("afterRowResize",a.bind(this)),f.call(this)}},{key:"stateUpdated",value:function(t,r){n.default.isEqual(t.rowHeights,r.rowHeights)||f.call(this)}}]),e}();e.default=u}),define("lib/sync/TableData",["exports","jquery","underscore","storage/selectors"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function h(e,t){var n=this;if(t===l)return;var r=i.default.extend(!0,[],this.state.data);e.forEach(function(e){var i=e[0],s=t==="undo"?e[1]:n.tableController.table.toVisualColumn(e[1]),o=e[3];if(r.length<=i)return;r[i][s]=o}),this.actions.setData(r)}function p(){var e=this;this.state.data.forEach(function(t,n){t.forEach(function(t,r){if(t){var i=e.tableController.table.getDataAtCell(n,r);i!==t&&e.tableController.table.setDataAtCell(n,r,t,l)}})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var i=o(t),s=o(n),l={internalUpdate:"TableData"},c=function(){function e(){u(this,e),this.tableController=null,this.storeInputChanges=!1}return f(e,[{key:"start",value:function(){this.tableController.table.addHook("afterChange",h.bind(this)),p.call(this)}},{key:"stateUpdated",value:function(t,n){if(s.default.isEqual(t.data,n.data))return;p.call(this)}},{key:"destroy",value:function(){if(this.tableController.isTableDestroyed())return;this.tableController.table.removeHook("afterChange",h.bind(this))}}]),e}();e.default=c}),define("lib/sync/UpdateAnswers",["exports","jquery","underscore","constants/CellTypes","storage/selectors","node-uuid"],function(e,t,n,r,i,s){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function m(e,t){var n=this;if(t===d)return;var r=o.default.extend(!0,[],this.state.answers);e.forEach(function(e){var s=t==="undo"?e[0]:n.tableController.table.toVisualRow(e[0]),o=t==="undo"?e[1]:n.tableController.table.toVisualColumn(e[1]),a=e[3];if(n.state.metadata.length<=s||a===null)return;if((0,i.cellIsAssessed)(n.state.metadata[s][o])){var l=u.default.findWhere(r,{rowIndex:s,colIndex:o,correct:!0});l?l.value=a:r.push({uuid:f.default.v4(),rowIndex:s,colIndex:o,value:a,correct:!0})}}),this.actions.setAnswerData(r)}function g(){var e=this;this.state.answers.filter(function(e){return e.correct}).forEach(function(t){e.tableController.table.setDataAtCell(t.rowIndex,t.colIndex,t.value,d)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var o=l(t),u=l(n),a=l(r),f=l(s),d={internalUpdate:"Answers"},v=function(){function e(){c(this,e),this.tableController=null}return p(e,[{key:"start",value:function(){this.tableController.table.addHook("afterChange",m.bind(this)),g.call(this)}},{key:"stateUpdated",value:function(t,n){if(u.default.isEqual(t.answers,n.answers))return;g.call(this)}},{key:"destroy",value:function(){if(this.tableController.isTableDestroyed())return;this.tableController.table.removeHook("afterChange",m.bind(this))}}]),e}();e.default=v}),define("lib/sync/InputCorrectness",["exports","underscore","storage/selectors","util/correctness"],function(e,t,n,r){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e){return l(e)||f(e)||a(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if(typeof e=="string")return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);n==="Object"&&e.constructor&&(n=e.constructor.name);if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}function f(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function l(e){if(Array.isArray(e))return c(e)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function m(){var e=this;return i.default.reduce(this.state.metadata,function(t,r,s){var u=i.default.reduce(r,function(t,r,u){if((0,n.cellIsAssessed)(r)){var a=i.default.findWhere(e.state.inputs,{rowIndex:s,colIndex:u})||{},f=a.altCorrect,l=f===void 0?"":f,c=a.label,h=c===void 0?"":c,p=a.correct,d=p===void 0?!1:p;return[].concat(o(t),[{rowIndex:s,colIndex:u,label:h,correct:d,altCorrect:l}])}return t},[]);return[].concat(o(t),o(u))},[])}function g(e){var t=this;return i.default.map(e,function(e){var n=e.rowIndex,i=e.colIndex,s=e.label,o=e.altCorrect,u=t.state.metadata[n][i],a=t.state.data[n][i],f=(0,r.getAllCorrectAnswers)(n,i,t.state.answers,o,t.state.alternateCorrectDelimiter),l=(0,r.makeCompareWithCorrectAnswer)(u.type,t.state.isCaseSensitive,a),c=(0,r.compareAllCorrectAnswers)(f,l);return{rowIndex:n,colIndex:i,label:s,correct:c,altCorrect:o}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var i=s(t),v=function(){function e(){h(this,e)}return d(e,[{key:"start",value:function(){var t=g.call(this,m.call(this));this.actions.setInputs(t)}},{key:"stateUpdated",value:function(t,n){var r=!i.default.isEqual(t.metadata,n.metadata)||!i.default.isEqual(t.inputs,n.inputs),s=!i.default.isEqual(t.data,n.data)||!i.default.isEqual(t.answers,n.answers)||t.isCaseSensitive!==n.isCaseSensitive||t.alternateCorrectDelimiter!==n.alternateCorrectDelimiter;if(!r&&!s)return;var o=g.call(this,r?m.call(this):this.state.inputs);this.actions.setInputs(o)}}]),e}();e.default=v}),define("lib/sync/Inputs",["exports","underscore","storage/selectors"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e){return f(e)||a(e)||u(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if(typeof e=="string")return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);n==="Object"&&e.constructor&&(n=e.constructor.name);if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}function a(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function f(e){if(Array.isArray(e))return l(e)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function v(){var e=this,t=r.default.reduce(this.state.metadata,function(t,i,o){var u=r.default.reduce(i,function(t,i,u){if((0,n.cellIsAssessed)(i)){var a=r.default.findWhere(e.state.inputs,{rowIndex:o,colIndex:u})||{},f=a.altCorrect,l=f===void 0?"":f,c="".concat(e.tableController.table.getColHeader(u)).concat(e.tableController.table.getRowHeader(o)),h=!1;return[].concat(s(t),[{rowIndex:o,colIndex:u,label:c,correct:h,altCorrect:l}])}return t},[]);return[].concat(s(t),s(u))},[]);this.actions.setInputs(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var r=i(t),d=function(){function e(){c(this,e),this.tableController=null}return p(e,[{key:"start",value:function(){v.call(this)}},{key:"stateUpdated",value:function(t,n){if(r.default.isEqual(t.metadata,n.metadata)&&r.default.isEqual(t.inputs,n.inputs))return;v.call(this)}}]),e}();e.default=d}),define("lib/sync/DropdownOptionText",["exports","jquery","underscore"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(){var e=i.default.findWhere(this.state.answers,{uuid:this.uuid});if(!e)return;this.renderer.$el.text(e.value)}function c(e){e.which===13&&this.renderer.$el.trigger("blur")}function h(e){this._text=(0,r.default)(e.target).text()}function p(e){var t=(0,r.default)(e.target).text();if(t===""){this.renderer.$el.text(this._text);return}this.actions.updateOptionText(this.uuid,this.renderer.$el.text())}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var r=s(t),i=s(n),f=function(){function e(){o(this,e),this.renderer=null,this.uuid=-1}return a(e,[{key:"start",value:function(){l.call(this),this.renderer.$el.on("keypress",c.bind(this)),this.renderer.$el.on("focus",h.bind(this)),this.renderer.$el.on("blur",p.bind(this))}},{key:"stateUpdated",value:function(t,n){var r=this.uuid,s=i.default.findWhere(t.answers,{uuid:r}),o=i.default.findWhere(n.answers,{uuid:r});if(i.default.isEqual(s,o))return;l.call(this)}},{key:"destroy",value:function(){this.renderer.$el.off("change")}}]),e}();e.default=f}),define("lib/sync/SelectedDropdownOptionText",["exports","underscore"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(){var e=n.default.findWhere(this.state.answers,{rowIndex:this.rowIndex,colIndex:this.colIndex,correct:!0});if(!e)return;this.renderer.$el.text(e.value)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=function(){function e(){i(this,e),this.renderer=null,this.rowIndex=-1,this.colIndex=-1}return o(e,[{key:"start",value:function(){a.call(this)}},{key:"stateUpdated",value:function(t,r){var i=this.rowIndex,s=this.colIndex,o=n.default.where(t.answers,{rowIndex:i,colIndex:s}),u=n.default.where(r.answers,{rowIndex:i,colIndex:s});if(n.default.isEqual(o,u))return;a.call(this)}}]),e}();e.default=u}),define("lib/sync/SelectedValueCss",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(){t(this,e),this.renderer=null,this.cssName="",this.value=-1,this.suffix="px"}return r(e,[{key:"start",value:function(){this.renderer.$el.css(this.cssName,"".concat(this.value).concat(this.suffix))}}]),e}();e.default=i}),define("componentLibrary-Redux/interaction/ActionOnEvent",["exports","sim-utils/event/DeregisterEvent","jquery"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){this.actions[this.actionName](this.actionValue)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){s(this,e),this.renderer=null,this.eventName="click",this.actionName="",this.actionValue=""}return o(e,[{key:"start",value:function(){this.renderer.$el?this.renderer.$el.on(this.eventName+"."+this.UID,a.bind(this)):(0,r.default)(this.renderer).on(this.eventName+"."+this.UID,a.bind(this))}},{key:"destroy",value:function(){this.renderer&&this.renderer.$el?(0,t.deregisterRendererEvent)(this.renderer,this.UID):this.renderer&&(0,t.deregisterJQueryEvent)(this.renderer,this.UID)}}]),e}();e.default=u}),define("lib/interaction/SetCorrectOnClick",["exports","sim-utils/event/DeregisterEvent"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(){if(this.selector(this.state))return;this.actions[this.actionName](this.uuid)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var s=function(){function e(){n(this,e),this.renderer=null,this.selector=null,this.actionName="",this.uuid=-1}return i(e,[{key:"start",value:function(){this.renderer.$el.on("click.".concat(this.UID),o.bind(this))}},{key:"destroy",value:function(){this.renderer&&this.renderer.$el&&(0,t.deregisterRendererEvent)(this.renderer,this.UID)}}]),e}();e.default=s}),define("lib/interaction/AddOptionOnClick",["exports","underscore","node-uuid"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(){var e=this.rowIndex,t=this.colIndex,n=r.default.where(this.state.answers,{rowIndex:e,colIndex:t}).length+1,s=n===1;this.actions.addAnswer(i.default.v4(),this.rowIndex,this.colIndex,"Option ".concat(n),s)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var r=s(t),i=s(n),f=function(){function e(){o(this,e),this.rowIndex=-1,this.colIndex=-1,this.renderer=null}return a(e,[{key:"start",value:function(){this.renderer.$el.on("click.".concat(this.UID),l.bind(this))}}]),e}();e.default=f}),define("lib/interaction/RemoveOptionOnClick",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function s(){this.actions.removeAnswer(this.uuid)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(){t(this,e),this.uuid=-1,this.renderer=null}return r(e,[{key:"start",value:function(){this.renderer.$el.on("click.".concat(this.UID),s.bind(this))}}]),e}();e.default=i}),function(t,n){typeof exports=="object"&&typeof module=="object"?module.exports=n():typeof define=="function"&&define.amd?define("CDP",[],n):typeof exports=="object"?exports.CDP=n():t.CDP=n()}(typeof self!="undefined"?self:this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.CDP="CDP",i=t.PARENT="PARENT",s=t.STATE_RESOURCE="STATE_RESOURCE",o=t.CHILD_RESOURCE="CHILD_RESOURCE",u=t.DRAG_STATE_RESOURCE="DRAG_STATE_RESOURCE",a=t.EDITOR_RESOURCE="EDITOR_RESOURCE",f=t.LEARNER_RESOURCE="LEARNER_RESOURCE",l=t.THEME_RESOURCE="THEME_RESOURCE",c=t.PROGRESS_RESOURCE="PROGRESS_RESOURCE",h=t.ACCESS_RESOURCE="ACCESS_RESOURCE",p=t.CLASS_RESOURCE="CLASS_RESOURCE",d=t.USER_RESOURCE="USER_RESOURCE",v=t.CONTEXT_RESOURCE="CONTEXT_RESOURCE",m=t.FEATURE_TOGGLE_RESOURCE="FEATURE_TOGGLE_RESOURCE",g=t.ASSET_RESOURCE="ASSET_RESOURCE",y=t.SUBSCRIPTION_RESOURCE="SUBSCRIPTION_RESOURCE",b=t.DEPRECATED_RESOURCE="DEPRECATED_RESOURCE",w=t.COMPETENCY_RESOURCE="COMPETENCY_RESOURCE",E=t.QUERY_RESOURCE="QUERY_RESOURCE",S=t.ANNOTATIONS_RESOURCE="ANNOTATIONS_RESOURCE",x=t.HISTORY_RESOURCE="HISTORY_RESOURCE",T=t.ROUTE_RESOURCE="ROUTE_RESOURCE",N=t.SELECTION_RESOURCE="SELECTION_RESOURCE",C=t.EXECUTE_QUERY="EXECUTE_QUERY",k=t.SUBSCRIPTION="SUBSCRIPTION",L=t.SUBSCRIBE="SUBSCRIBE",A=t.SET="SET",O=t.GET="GET",M=t.REGISTER="REGISTER",_=t.IS="IS",D=t.INIT_CHILD="INIT_CHILD",P=t.GET_NONCE="GET_NONCE",H=t.REMOVE_CHILD="REMOVE_CHILD",B=t.CREATE_CHILD="CREATE_CHILD",j=t.DELETE_CHILD="DELETE_CHILD",F=t.SUBSCRIBE_TO_DRAGGABLES="SUBSCRIBE_TO_DRAGGABLES",I=t.UNSUBSCRIBE_FROM_DRAGGABLES="UNSUBSCRIBE_FROM_DRAGGABLES",q=t.SELECT="SELECT",R=t.SUBSCRIBE_TO_SELECTION="SUBSCRIBE_TO_SELECTION",U=t.OPEN="OPEN",z=t.EVALUATE="EVALUATE",W=t.RESTART="RESTART",X=t.SUBSCRIBE_TO_THEME_CSS="SUBSCRIBE_TO_THEME_CSS",V=t.PROVISION_UPLOAD="PROVISION_UPLOAD",$=t.GET_RESOURCE="GET_RESOURCE",J=t.ADD_ASSET="ADD_ASSET",K=t.GET_SUBSCRIPTION="GET_SUBSCRIPTION",Q=t.INFORM_ASSET_USAGE="INFORM_ASSET_USAGE",G=t.DEPRECATED_CONTINUE="DEPRECATED_CONTINUE",Y=t.DEPRECATED_SUBSCRIBE_TO_MOVE_ON="DEPRECATED_SUBSCRIBE_TO_MOVE_ON",Z=t.DEPRECATED_UNSUBSCRIBE_FROM_MOVE_ON="DEPRECATED_UNSUBSCRIBE_FROM_MOVE_ON",et=t.SUBSCRIBE_ANNOTATION="SUBSCRIBE_ANNOTATION",tt=t.GET_ANNOTATION="GET_ANNOTATION",nt=t.SET_ANNOTATION="SET_ANNOTATION",rt=t.CREATE_ANNOTATION="CREATE_ANNOTATION",it=t.IS_EXACT_ROUTE="IS_EXACT_ROUTE",st=t.IS_CURRENT_ROUTE="IS_CURRENT_ROUTE"},function(e,t,n){function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=void 0;try{t=!!e.frameElement}catch(n){t=!1}return t}function h(){var e=window;while(c(e)&&e!==window.top)e=e.parent;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.listenOnce=t.createListener=t.post=undefined,t.frameElementIsAccessible=c;var r=n(17),i=f(r),s=n(19),o=n(0),u=n(3),a=f(u),p=h(),d=function(){var t,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:o.CDP,r=(t={},l(t,o.CDP,p.parent),l(t,o.PARENT,window.parent),t)[n];if(r===window)throw new Error("can't find target window");return r},v=t.post=function(t){var n=t.targetResource,r=t.fnName,o=t.payload,u=t.targetWindow,f=o,l=a.default.getContext();return l&&(f=f||{},f.localContext=l),i.default.send(d(u),(0,s.buildName)(n,r),f)},m=t.createListener=function(t){var n=t.resource,r=t.fnName,o=t.callback;return i.default.on((0,s.buildName)(n,r),o)},g=t.listenOnce=function(t){var n=t.fnName,r=t.window,s=t.callback;return i.default.once(n,{window:r},s)}},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){var r=this;i(this,e),this.queue=[],this.waiting=[],this.unsubscribeFn=n,t({next:function(t){if(r.waiting.length>0){var n=r.waiting.shift();return n.resolve({done:!1,value:t})}return r.queue.push({type:"next",value:t})},"throw":function(t){if(r.waiting.length>0){var n=r.waiting.shift();return n.reject(t)}return r.queue.push({value:t,type:"error"})},"return":function(t){if(r.waiting.length>0){var n=r.waiting.shift();return n.resolve({done:!0,value:t})}return r.queue.push({value:t,type:"return"})}})}return r(e,[{key:"unsubscribe",value:function(){this.unsubscribeFn()}},{key:"next",value:function(){if(this.queue.length>1){var t=this.queue.shift();return t.type==="return"?Promise.resolve({done:!0,value:t.value}):t.type==="error"?Promise.reject(t.value):Promise.resolve({done:!1,value:t.value})}var n=s();return this.waiting.push(n),n.promise}},{key:Symbol.asyncIterator,value:function(){return this}}]),e}();t.default=o,e.exports=t["default"]},function(e,t,n){function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(20),o=function(){function e(){s(this,e)}return r(e,[{key:"setContext",value:function(t){if(this.localContext)throw new Error("Cannot override existing localContext");var n=t.context;if(!i.ALL.includes(n))throw new Error("Invalid context type "+n+". expecting one of "+i.ALL.join(", "));this.localContext=t}},{key:"getContext",value:function(){return this.localContext}}]),e}();t.default=new o,e.exports=t["default"]},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),s=n(2),o=a(s),u=n(5),f=function(t,n,r,i){var s=i.file,o=i.metadata;return(0,u.uploadResource)(n,r,s,o).then(function(e){return e.urn}).then(function(e){return(0,u.informAssetUsage)(e)})},l=function(t,n){return(0,u.provisionUpload)().then(function(e){var r=e.data,i=r.nonce,s=r.uploadURL,o=n.map(function(e){return f(t,s,i,e)});return Promise.all(o)})},c=function(t,n){return new o.default(function(e){(0,r.createListener)({resource:i.SUBSCRIPTION,fnName:t,callback:function(n){e.next(n.data)}})},n)},h=function(t,n){return{get:function(){return(0,r.post)({targetResource:i.STATE_RESOURCE,fnName:i.GET,payload:{path:n,targetSelector:t}}).then(function(e){return e.data})},set:function(s){return(0,r.post)({targetResource:i.STATE_RESOURCE,fnName:i.SET,payload:{path:n,value:s,targetSelector:t}})},setImage:function(s){return l(t,[s]).then(function(e){return(0,r.post)({targetResource:i.STATE_RESOURCE,fnName:i.SET,payload:{path:n,value:e.length?e[0]:undefined,id:t}})})},setImages:function(s){return l(t,s).then(function(e){return(0,r.post)({targetResource:i.STATE_RESOURCE,fnName:i.SET,payload:{path:n,value:e.length?e:undefined,id:t}})})},subscribe:function(s){return(0,r.post)({targetResource:i.STATE_RESOURCE,fnName:i.SUBSCRIBE,payload:{path:n,optionalCallbackFn:s,targetSelector:t}}).then(function(e){var t=e.data,n=t.subscriptionId,r=t.unsubscribe;return s?{subscriptionId:n,unsubscribe:r}:c(n,r)})}}},p=function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return function(e){var r=h(t,e),i=r.get,s=r.set,o=r.setImage,u=r.setImages,a=r.subscribe;return n?{get:i,subscribe:a}:{get:i,set:s,setImage:o,setImages:u,subscribe:a}}};t.default=p,e.exports=t["default"]},function(e,t,n){function s(){}function o(){return(0,r.post)({targetResource:i.ASSET_RESOURCE,fnName:i.PROVISION_UPLOAD})}function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return(0,r.post)({targetResource:i.ASSET_RESOURCE,fnName:i.GET_SUBSCRIPTION}).then(function(n){var r=n.data,i=new FormData;return i.append("file",e),i.append("visibility","GLOBAL"),i.append("subscriptionId",r),i.append("metadata",JSON.stringify(t)),i})}function a(e,t,n,r){return u(n,r).then(function(n){return fetch(""+e,{method:"POST",headers:{Authorization:"Bearer "+t},body:n})}).then(function(e){return e.json()})}function f(e){return(0,r.post)({targetResource:i.ASSET_RESOURCE,fnName:i.INFORM_ASSET_USAGE,payload:e}).then(function(){return e})}function l(){s()}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveAsset=t.informAssetUsage=t.uploadResource=t.provisionAssetData=t.provisionUpload=undefined,n(21);var r=n(1),i=n(0);t.provisionUpload=o,t.provisionAssetData=u,t.uploadResource=a,t.informAssetUsage=f,t.resolveAsset=l},function(e,t,n){function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7),s=o(i);t.default=(0,s.default)(r.ACCESS_RESOURCE),e.exports=t["default"]},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),s=u(i),o=n(0),a=function(t){return new s.default(function(e){(0,r.createListener)({resource:o.SUBSCRIPTION,fnName:t,callback:function(n){e.next(n.data)}})})},f=function(t){return function(e){return{get:function(){return(0,r.post)({targetResource:t,fnName:o.GET,payload:{path:e}}).then(function(e){return e.data})},subscribe:function(i){return(0,r.post)({targetResource:t,fnName:o.SUBSCRIBE,payload:{path:e,optionalCallbackFn:i}}).then(function(e){var t=e.data;return i?t:a(t)})}}}};t.default=f,e.exports=t["default"]},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),s=u(i),o=n(0),a=function(t){return new s.default(function(e){(0,r.createListener)({resource:o.SUBSCRIPTION,fnName:t,callback:function(n){e.next(n.data)}})})},f=function(t){return function(e){return{get:function(){return(0,r.post)({targetResource:o.PROGRESS_RESOURCE,fnName:o.GET,payload:{targetSelector:t,path:e}}).then(function(e){return e.data})},subscribe:function(i){return(0,r.post)({targetResource:o.PROGRESS_RESOURCE,fnName:o.SUBSCRIBE,payload:{targetSelector:t,path:e,optionalCallbackFn:i}}).then(function(e){var t=e.data;return i?t:a(t)})}}}};t.default=f,e.exports=t["default"]},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),s=u(i),o=n(0),a=function(t){return new s.default(function(e){(0,r.createListener)({resource:o.SUBSCRIPTION,fnName:t,callback:function(n){e.next(n.data)}})})},f=function(t){return function(e,n){return{get:function(){return(0,r.post)({targetResource:o.COMPETENCY_RESOURCE,fnName:o.GET,payload:{targetSelector:t,documentId:e,itemId:n}}).then(function(e){return e.data})},subscribe:function(s){return(0,r.post)({targetResource:o.COMPETENCY_RESOURCE,fnName:o.SUBSCRIBE,payload:{targetSelector:t,documentId:e,itemId:n,optionalCallbackFn:s}}).then(function(e){var t=e.data;return s?t:a(t)})}}}};t.default=f,e.exports=t["default"]},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),s=u(i),o=n(0),a=function(t){return new s.default(function(e){(0,r.createListener)({resource:o.SUBSCRIPTION,fnName:t,callback:function(n){e.next(n.data)}})})},f=function(t){return{set:function(n){return(0,r.post)({targetResource:o.ANNOTATIONS_RESOURCE,fnName:o.SET_ANNOTATION,payload:{annotationId:t,body:n}}).then(function(e){return e.data})}}},l=function(t){return function(e){return{get:function(){return(0,r.post)({targetResource:o.ANNOTATIONS_RESOURCE,fnName:o.GET,payload:{targetSelector:t,motivation:e}}).then(function(e){return e.data})},subscribe:function(i){return(0,r.post)({targetResource:o.ANNOTATIONS_RESOURCE,fnName:o.SUBSCRIBE,payload:{targetSelector:t,motivation:e,optionalCallbackFn:i}}).then(function(e){var t=e.data;return i?t:a(t)})},create:function(i,s){return(0,r.post)({targetResource:o.ANNOTATIONS_RESOURCE,fnName:o.CREATE_ANNOTATION,payload:{targetSelector:t,motivation:e,body:i,subTarget:s}}).then(function(e){return e.data})},annotation:f}}};t.default=l,e.exports=t["default"]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=function(t){return function(){return{evaluate:function(n){return(0,i.post)({targetResource:r.LEARNER_RESOURCE,fnName:r.EVALUATE,payload:{id:t||n}}).then(function(e){return e.data})},restart:function(n){return(0,i.post)({targetResource:r.LEARNER_RESOURCE,fnName:r.RESTART,payload:{activityId:t||n}}).then(function(e){return e.data})}}}};t.default=s,e.exports=t["default"]},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),s=u(i),o=n(0),a=function(t){return new s.default(function(e){(0,r.createListener)({resource:o.SUBSCRIPTION,fnName:t,callback:function(n){e.next(n.data)}})})},f=function(t){return function(){return{get:function(){return(0,r.post)({targetResource:o.HISTORY_RESOURCE,fnName:o.GET,payload:{targetSelector:t}}).then(function(e){return e.data})},subscribe:function(n){return(0,r.post)({targetResource:o.HISTORY_RESOURCE,fnName:o.SUBSCRIBE,payload:{targetSelector:t,optionalCallbackFn:n}}).then(function(e){var t=e.data;return n?t:a(t)})}}}};t.default=f,e.exports=t["default"]},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),s=u(i),o=n(0),a=function(t){return new s.default(function(e){(0,r.createListener)({resource:o.SUBSCRIPTION,fnName:t,callback:function(n){e.next(n.data)}})})},f=function(t){return function(){return{get:function(){return(0,r.post)({targetResource:o.ROUTE_RESOURCE,fnName:o.GET,payload:{targetSelector:t}}).then(function(e){return e.data})},set:function(n){return(0,r.post)({targetResource:o.ROUTE_RESOURCE,fnName:o.SET,payload:{targetSelector:t,subTarget:n}}).then(function(e){return e.data})},subscribe:function(n){return(0,r.post)({targetResource:o.ROUTE_RESOURCE,fnName:o.SUBSCRIBE,payload:{targetSelector:t,optionalCallbackFn:n}}).then(function(e){var t=e.data;return n?t:a(t)})},isCurrent:function(){return(0,r.post)({targetResource:o.ROUTE_RESOURCE,fnName:o.IS_CURRENT_ROUTE,payload:{targetSelector:t}}).then(function(e){return e.data})},isExact:function(){return(0,r.post)({targetResource:o.ROUTE_RESOURCE,fnName:o.IS_EXACT_ROUTE,payload:{targetSelector:t}}).then(function(e){return e.data})}}}};t.default=f,e.exports=t["default"]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1);t.default=function(e){return function(){return{moveOn:function(){return(0,i.post)({targetResource:r.DEPRECATED_RESOURCE,fnName:r.DEPRECATED_CONTINUE,payload:{}}).then(function(e){return e.data})},subscribeToMoveOn:function(n){return(0,i.post)({targetResource:r.DEPRECATED_RESOURCE,fnName:r.DEPRECATED_SUBSCRIBE_TO_MOVE_ON,payload:{targetId:e,notify:n}})},unsubscribeFromMoveOn:function(){return(0,i.post)({targetResource:r.DEPRECATED_RESOURCE,fnName:r.DEPRECATED_UNSUBSCRIBE_FROM_MOVE_ON,payload:{targetId:e}})}}}},e.exports=t["default"]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i={register:r.register,state:r.state,child:r.child,courseware:r.child,editor:r.editor,learner:r.learner,dragState:r.dragState,theme:r.theme,context:r.context,user:r.user,access:r.access,progress:r.progress,cohort:r.cohort,features:r.featureToggle,__query:r.query,__deprecated:r.__deprecated,competency:r.competency,annotations:r.annotations,history:r.history,route:r.route,selection:r.selection};t.default=i,e.exports=t["default"]},function(e,t,n){function J(e){return e&&e.__esModule?e:{"default":e}}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.__deprecated=t.selection=t.route=t.history=t.annotations=t.query=t.competency=t.asset=t.featureToggle=t.context=t.cohort=t.progress=t.access=t.user=t.dragState=t.child=t.theme=t.learner=t.editor=t.state=t.register=t.registerAsChildPlugin=undefined;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),s=J(i),o=n(22),u=J(o),a=n(23),f=J(a),l=n(11),c=J(l),h=n(24),p=J(h),d=n(28),v=J(d),m=n(1),g=n(0),y=n(29),b=J(y),w=n(30),E=J(w),S=n(6),x=J(S),T=n(8),N=J(T),C=n(31),k=J(C),L=n(32),A=J(L),O=n(5),M=J(O),_=n(33),D=J(_),P=n(14),H=J(P),B=n(9),j=J(B),F=n(10),I=J(F),q=n(12),R=J(q),U=n(13),z=J(U),W=n(34),X=J(W),V=n(3),$=J(V),Q=void 0,G=function(t){return t&&t.data&&t.data.services,t},Y=t.registerAsChildPlugin=function(){if(!Q)try{Q=(0,m.post)({fnName:g.GET_NONCE,targetWindow:g.PARENT,payload:{}}).then(function(e){e.data.localContext&&$.default.setContext(e.data.localContext),(0,m.post)({targetResource:g.REGISTER,fnName:e.data.nonce,payload:e.data})}).then(function(e){return G(e)})}catch(t){Q=new Promise(function(e,n){return setTimeout(function(){return n(t)},0)})}return Q},Z=function(){if(!Q)try{Q=(0,m.post)({fnName:g.REGISTER,payload:{}}).then(function(e){return G(e)})}catch(t){Q=new Promise(function(e,n){return setTimeout(function(){return n(t)},0)})}return Q},et=function(){function e(){K(this,e),this.childResources={}}return r(e,[{key:"createChildResource",value:function(t){if(this.childResources[t])return this.childResources[t];var n=new u.default(t);return this.childResources[t]=n,n}}]),e}(),tt=new et,nt=t.register=(0,m.frameElementIsAccessible)(window)?Y:Z,rt=t.state=function(t){return(0,s.default)()(t)},it=t.editor=function(){return(0,f.default)()},st=t.learner=function(){return(0,c.default)()()},ot=t.theme=function(t){return(0,v.default)(t)},ut=t.child=function(t){return tt.createChildResource(t)},at=t.dragState=p.default,ft=t.user=function(t){return(0,b.default)(t)},lt=t.access=function(t){return(0,x.default)(t)},ct=t.progress=function(t){return(0,N.default)()(t)},ht=t.cohort=function(t){return(0,E.default)(t)},pt=t.context=function(){return(0,k.default)()},dt=t.featureToggle=function(t){return(0,A.default)(t)},vt=t.asset=function(){return M.default},mt=t.competency=function(t,n){return(0,j.default)()(t,n)},gt=t.query=D.default,yt=t.annotations=function(){return(0,I.default)().apply(undefined,arguments)},bt=t.history=function(){return(0,R.default)().apply(undefined,arguments)},wt=t.route=function(){return(0,z.default)().apply(undefined,arguments)},Et=t.selection=function(){return(0,X.default)().apply(undefined,arguments)},St=t.__deprecated=function(){return(0,H.default)()()}},function(e,t,n){e.exports=n(18),e.exports.default=e.exports},function(module,exports,__webpack_require__){!function(e,t){module.exports=t()}("undefined"!=typeof self?self:this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.js")}({"./node_modules/cross-domain-safe-weakmap/src/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/cross-domain-safe-weakmap/src/interface.js");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r);t.default=i},"./node_modules/cross-domain-safe-weakmap/src/interface.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/cross-domain-safe-weakmap/src/weakmap.js");Object.defineProperty(t,"WeakMap",{enumerable:!0,get:function(){return r.CrossDomainSafeWeakMap}})},"./node_modules/cross-domain-safe-weakmap/src/native.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNativeWeakMap=function(){if(!window.WeakMap)return!1;if(!window.Object.freeze)return!1;try{var e=new window.WeakMap,t={};return window.Object.freeze(t),e.set(t,"__testvalue__"),"__testvalue__"===e.get(t)}catch(n){return!1}}},"./node_modules/cross-domain-safe-weakmap/src/util.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeIndexOf=function(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(r){}return-1},t.noop=function(){}},"./node_modules/cross-domain-safe-weakmap/src/weakmap.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrossDomainSafeWeakMap=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("./node_modules/cross-domain-utils/src/index.js"),s=n("./node_modules/cross-domain-safe-weakmap/src/native.js"),o=n("./node_modules/cross-domain-safe-weakmap/src/util.js"),u=Object.defineProperty,a=Date.now()%1e9;t.CrossDomainSafeWeakMap=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a+=1,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__"+a;if((0,s.hasNativeWeakMap)())try{this.weakmap=new window.WeakMap}catch(t){}this.keys=[],this.values=[]}return r(e,[{key:"_cleanupClosedWindows",value:function(){for(var e=this.weakmap,t=this.keys,n=0;n<t.length;n++){var r=t[n];if((0,i.isWindow)(r)&&(0,i.isWindowClosed)(r)){if(e)try{e.delete(r)}catch(s){}t.splice(n,1),this.values.splice(n,1),n-=1}}}},{key:"isSafeToReadWrite",value:function(e){if((0,i.isWindow)(e))return!1;try{(0,o.noop)(e&&e.self),(0,o.noop)(e&&e[this.name])}catch(t){return!1}return!0}},{key:"set",value:function(e,t){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.set(e,t)}catch(r){delete this.weakmap}if(this.isSafeToReadWrite(e)){var i=this.name,s=e[i];s&&s[0]===e?s[1]=t:u(e,i,{value:[e,t],writable:!0})}else{this._cleanupClosedWindows();var a=this.keys,f=this.values,l=(0,o.safeIndexOf)(a,e);-1===l?(a.push(e),f.push(t)):f[l]=t}}},{key:"get",value:function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return t.get(e)}catch(n){delete this.weakmap}if(!this.isSafeToReadWrite(e)){this._cleanupClosedWindows();var r=this.keys,i=(0,o.safeIndexOf)(r,e);if(-1===i)return;return this.values[i]}var s=e[this.name];if(s&&s[0]===e)return s[1]}},{key:"delete",value:function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.delete(e)}catch(n){delete this.weakmap}if(this.isSafeToReadWrite(e)){var r=e[this.name];r&&r[0]===e&&(r[0]=r[1]=void 0)}else{this._cleanupClosedWindows();var i=this.keys,s=(0,o.safeIndexOf)(i,e);-1!==s&&(i.splice(s,1),this.values.splice(s,1))}}},{key:"has",value:function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{return t.has(e)}catch(n){delete this.weakmap}if(this.isSafeToReadWrite(e)){var r=e[this.name];return!!r&&r[0]===e}return this._cleanupClosedWindows(),-1!==(0,o.safeIndexOf)(this.keys,e)}}]),e}()},"./node_modules/cross-domain-utils/src/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/cross-domain-utils/src/utils.js");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n("./node_modules/cross-domain-utils/src/types.js");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})})},"./node_modules/cross-domain-utils/src/types.js":function(e,t,n){"use strict";},"./node_modules/cross-domain-utils/src/util.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRegex=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.noop=function(){}},"./node_modules/cross-domain-utils/src/utils.js":function(e,t,n){"use strict";function o(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===i.ABOUT_PROTOCOL}function u(e){if(e)try{if(e.parent&&e.parent!==e)return e.parent}catch(t){}}function a(e){if(e&&!u(e))try{return e.opener}catch(t){}}function f(e){try{return(0,r.noop)(e&&e.location&&e.location.href),!0}catch(t){}return!1}function l(e){var t=e.location;if(!t)throw new Error("Can not read window location");var n=t.protocol;if(!n)throw new Error("Can not read window protocol");if(n===i.FILE_PROTOCOL)return i.FILE_PROTOCOL+"//";if(n===i.ABOUT_PROTOCOL){var r=u(e);return r&&f(e)?l(r):i.ABOUT_PROTOCOL+"//"}var s=t.host;if(!s)throw new Error("Can not read window host");return n+"//"+s}function c(e){var t=l(e=e||window);return t&&e.mockDomain&&0===e.mockDomain.indexOf(i.MOCK_PROTOCOL)?e.mockDomain:t}function h(e){try{if(e===window)return!0}catch(t){}try{var n=Object.getOwnPropertyDescriptor(e,"location");if(n&&!1===n.enumerable)return!1}catch(t){}try{if(o(e)&&f(e))return!0}catch(t){}try{if(l(e)===l(window))return!0}catch(t){}return!1}function p(e){if(!h(e))return!1;try{if(e===window)return!0;if(o(e)&&f(e))return!0;if(c(window)===c(e))return!0}catch(t){}return!1}function d(e){var t=[];try{for(;e.parent!==e;)t.push(e.parent),e=e.parent}catch(n){}return t}function v(e,t){if(!e||!t)return!1;var n=u(t);return n?n===e:-1!==d(t).indexOf(e)}function m(e){var t=[],n=void 0;try{n=e.frames}catch(r){n=e}var i=void 0;try{i=n.length}catch(r){}if(0===i)return t;if(i){for(var s=0;s<i;s++){var o=void 0;try{o=n[s]}catch(r){continue}t.push(o)}return t}for(var u=0;u<100;u++){var a=void 0;try{a=n[u]}catch(r){return t}if(!a)return t;t.push(a)}return t}function g(e){var t=[],n=m(e),r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(i>=n.length)break;s=n[i++]}else{if((i=n.next()).done)break;s=i.value}var o=s;t.push(o);var u=g(o),a=Array.isArray(u),f=0;for(u=a?u:u[Symbol.iterator]();;){var l;if(a){if(f>=u.length)break;l=u[f++]}else{if((f=u.next()).done)break;l=f.value}var c=l;t.push(c)}}return t}function y(e){if(e){try{if(e.top)return e.top}catch(t){}if(u(e)===e)return e;try{if(v(window,e)&&window.top)return window.top}catch(t){}try{if(v(e,window)&&window.top)return window.top}catch(t){}var n=g(e),r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(i>=n.length)break;s=n[i++]}else{if((i=n.next()).done)break;s=i.value}var o=s;try{if(o.top)return o.top}catch(t){}if(u(o)===o)return o}}}function b(e){var t=y(e);return g(t).concat(t)}function w(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var t=e.ownerDocument;return!(!t||!t.body||t.body.contains(e))}function x(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(e===window)return!1}catch(n){return!0}try{if(!e)return!0}catch(n){return!0}try{if(e.closed)return!0}catch(n){return!n||n.message!==s}if(t&&p(e))try{if(e.mockclosed)return!0}catch(n){}try{if(!e.parent||!e.top)return!0}catch(n){}try{(0,r.noop)(e==e)}catch(n){return!0}var i=function(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(r){}return-1}(E,e);if(-1!==i){var o=S[i];if(o&&w(o))return!0}return!1}function T(e,t){var n=m(e),r=n,i=Array.isArray(r),s=0;for(r=i?r:r[Symbol.iterator]();;){var o;if(i){if(s>=r.length)break;o=r[s++]}else{if((s=r.next()).done)break;o=s.value}var u=o;try{if(p(u)&&u.name===t&&-1!==n.indexOf(u))return u}catch(a){}}try{if(-1!==n.indexOf(e.frames[t]))return e.frames[t]}catch(a){}try{if(-1!==n.indexOf(e[t]))return e[t]}catch(a){}}function N(e,t){var n=T(e,t);if(n)return n;var r=m(e),i=Array.isArray(r),s=0;for(r=i?r:r[Symbol.iterator]();;){var o;if(i){if(s>=r.length)break;o=r[s++]}else{if((s=r.next()).done)break;o=s.value}var u=N(o,t);if(u)return u}}function C(e){var t=a(e=e||window);if(t)return t;var n=u(e);return n||void 0}function k(){return Boolean(a(window))}function L(){return Boolean(u(window))}function A(e,t){var n=e,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(i>=n.length)break;s=n[i++]}else{if((i=n.next()).done)break;s=i.value}var o=s,u=t,a=Array.isArray(u),f=0;for(u=a?u:u[Symbol.iterator]();;){var l;if(a){if(f>=u.length)break;l=u[f++]}else{if((f=u.next()).done)break;l=f.value}if(o===l)return!0}}return!1}function O(){for(var e=0,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;t;)(t=u(t))&&(e+=1);return e}function M(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e,r=0;r<t;r++){if(!n)return;n=u(n)}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.isFileProtocol=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===i.FILE_PROTOCOL},t.isAboutProtocol=o,t.getParent=u,t.getOpener=a,t.canReadFromWindow=f,t.getActualDomain=l,t.getDomain=c,t.isBlankDomain=function(e){try{if(!e.location.href)return!0;if("about:blank"===e.location.href)return!0}catch(t){}return!1},t.isActuallySameDomain=h,t.isSameDomain=p,t.getParents=d,t.isAncestorParent=v,t.getFrames=m,t.getAllChildFrames=g,t.getTop=y,t.getAllFramesInWindow=b,t.isTop=function(e){return e===y(e)},t.isFrameWindowClosed=w,t.isWindowClosed=x,t.linkFrameWindow=function(e){!function(){for(var e=0;e<S.length;e++)w(S[e])&&(S.splice(e,1),E.splice(e,1));for(var t=0;t<E.length;t++)x(E[t])&&(S.splice(t,1),E.splice(t,1))}();if(e&&e.contentWindow)try{E.push(e.contentWindow),S.push(e)}catch(t){}},t.getUserAgent=function(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent},t.getFrameByName=T,t.findChildFrameByName=N,t.findFrameByName=function(e,t){var n=void 0;return(n=T(e,t))?n:N(y(e)||e,t)},t.isParent=function(e,t){var n=u(t);if(n)return n===e;for(var r=m(e),i=Array.isArray(r),s=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(s>=r.length)break;o=r[s++]}else{if((s=r.next()).done)break;o=s.value}var a=o;if(a===t)return!0}return!1},t.isOpener=function(e,t){return e===a(t)},t.getAncestor=C,t.getAncestors=function(e){var t=[],n=e;for(;n;)(n=C(n))&&t.push(n);return t},t.isAncestor=function(e,t){var n=C(t);if(n)return n===e;if(t===e)return!1;if(y(t)===t)return!1;for(var r=m(e),i=Array.isArray(r),s=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(s>=r.length)break;o=r[s++]}else{if((s=r.next()).done)break;o=s.value}var u=o;if(u===t)return!0}return!1},t.isPopup=k,t.isIframe=L,t.isFullpage=function(){return Boolean(!L()&&!k())},t.getDistanceFromTop=O,t.getNthParent=M,t.getNthParentFromTop=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return M(e,O(e)-t)},t.isSameTopWindow=function(e,t){var n=y(e)||e,r=y(t)||t;try{if(n&&r)return n===r}catch(i){}var s=b(e),o=b(t);if(A(s,o))return!0;var u=a(n),f=a(r);return u&&A(b(u),o)?!1:f&&A(b(f),s)?!1:!1},t.matchDomain=function _(e,t){if("string"==typeof e){if("string"==typeof t)return e===i.WILDCARD||t===e;if((0,r.isRegex)(t))return!1;if(Array.isArray(t))return!1}return(0,r.isRegex)(e)?(0,r.isRegex)(t)?e.toString()===t.toString():!Array.isArray(t)&&Boolean(t.match(e)):Array.isArray(e)?Array.isArray(t)?JSON.stringify(e)===JSON.stringify(t):!(0,r.isRegex)(t)&&e.some(function(e){return _(e,t)}):!1},t.stringifyDomainPattern=function(e){return Array.isArray(e)?"("+e.join(" | ")+")":(0,r.isRegex)(e)?"RegExp("+e.toString():e.toString()},t.getDomainFromUrl=function(e){var t=void 0;return e.match(/^(https?|mock|file):\/\//)?(t=e,t=t.split("/").slice(0,3).join("/")):c()},t.onCloseWindow=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=void 0;return!function s(){if(x(e))return i&&clearTimeout(i),t();r<=0?clearTimeout(i):(r-=n,i=setTimeout(s,n))}(),{cancel:function(){i&&clearTimeout(i)}}},t.isWindow=function(e){try{if(e===window)return!0}catch(t){if(t&&t.message===s)return!0}try{if("[object Window]"===Object.prototype.toString.call(e))return!0}catch(t){if(t&&t.message===s)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(t){if(t&&t.message===s)return!0}try{if(e&&e.self===e)return!0}catch(t){if(t&&t.message===s)return!0}try{if(e&&e.parent===e)return!0}catch(t){if(t&&t.message===s)return!0}try{if(e&&e.top===e)return!0}catch(t){if(t&&t.message===s)return!0}try{(0,r.noop)(e==e)}catch(t){return!0}try{(0,r.noop)(e&&e.__cross_domain_utils_window_check__)}catch(t){return!0}return!1};var r=n("./node_modules/cross-domain-utils/src/util.js"),i={MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",ABOUT_PROTOCOL:"about:",WILDCARD:"*"},s="Call was rejected by callee.\r\n",E=[],S=[]},"./node_modules/webpack/buildin/global.js":function(module,exports,__webpack_require__){"use strict";var g,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(g=window)}module.exports=g},"./node_modules/zalgo-promise/src/exceptions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchPossiblyUnhandledError=function(e){if(-1!==(0,r.getGlobal)().dispatchedErrors.indexOf(e))return;(0,r.getGlobal)().dispatchedErrors.push(e),setTimeout(function(){throw e},1);for(var t=0;t<(0,r.getGlobal)().possiblyUnhandledPromiseHandlers.length;t++)(0,r.getGlobal)().possiblyUnhandledPromiseHandlers[t](e)},t.onPossiblyUnhandledException=function(e){return(0,r.getGlobal)().possiblyUnhandledPromiseHandlers.push(e),{cancel:function(){(0,r.getGlobal)().possiblyUnhandledPromiseHandlers.splice((0,r.getGlobal)().possiblyUnhandledPromiseHandlers.indexOf(e),1)}}};var r=n("./node_modules/zalgo-promise/src/global.js")},"./node_modules/zalgo-promise/src/global.js":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=function(){var t=void 0;if("undefined"!=typeof window)t=window;else{if(void 0===e)throw new TypeError("Can not find global");t=e}var n=t.__zalgopromise__=t.__zalgopromise__||{};return n.flushPromises=n.flushPromises||[],n.activeCount=n.activeCount||0,n.possiblyUnhandledPromiseHandlers=n.possiblyUnhandledPromiseHandlers||[],n.dispatchedErrors=n.dispatchedErrors||[],n}}).call(t,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/zalgo-promise/src/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/zalgo-promise/src/promise.js");Object.defineProperty(t,"ZalgoPromise",{enumerable:!0,get:function(){return r.ZalgoPromise}})},"./node_modules/zalgo-promise/src/promise.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZalgoPromise=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("./node_modules/zalgo-promise/src/utils.js"),s=n("./node_modules/zalgo-promise/src/exceptions.js"),o=n("./node_modules/zalgo-promise/src/global.js"),u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[];if(t){var r=void 0,i=void 0,s=!1,o=!1,u=!1;try{t(function(e){u?n.resolve(e):(s=!0,r=e)},function(e){u?n.reject(e):(o=!0,i=e)})}catch(a){this.reject(a);return}u=!0,s?this.resolve(r):o&&this.reject(i)}}return r(e,[{key:"resolve",value:function(e){if(this.resolved||this.rejected)return this;if((0,i.isPromise)(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this}},{key:"reject",value:function(e){var t=this;if(this.resolved||this.rejected)return this;if((0,i.isPromise)(e))throw new Error("Can not reject promise with another promise");if(!e){var n=e&&"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e);e=new Error("Expected reject to be called with Error, got "+n)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout(function(){t.errorHandled||(0,s.dispatchPossiblyUnhandledError)(e)},1),this.dispatch(),this}},{key:"asyncReject",value:function(e){this.errorHandled=!0,this.reject(e)}},{key:"dispatch",value:function(){var t=this,n=this.dispatching,r=this.resolved,s=this.rejected,u=this.handlers;if(!n&&(r||s)){this.dispatching=!0,(0,o.getGlobal)().activeCount+=1;for(var a=function(n){var o=u[n],a=o.onSuccess,f=o.onError,l=o.promise,c=void 0;if(r)try{c=a?a(t.value):t.value}catch(h){return l.reject(h),"continue"}else if(s){if(!f)return l.reject(t.error),"continue";try{c=f(t.error)}catch(h){return l.reject(h),"continue"}}c instanceof e&&(c.resolved||c.rejected)?(c.resolved?l.resolve(c.value):l.reject(c.error),c.errorHandled=!0):(0,i.isPromise)(c)?c instanceof e&&(c.resolved||c.rejected)?c.resolved?l.resolve(c.value):l.reject(c.error):c.then(function(e){l.resolve(e)},function(e){l.reject(e)}):l.resolve(c)},f=0;f<u.length;f++)a(f);u.length=0,this.dispatching=!1,(0,o.getGlobal)().activeCount-=1,0===(0,o.getGlobal)().activeCount&&e.flushQueue()}}},{key:"then",value:function(t,n){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for success handler");if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for error handler");var r=new e;return this.handlers.push({promise:r,onSuccess:t,onError:n}),this.errorHandled=!0,this.dispatch(),r}},{key:"catch",value:function(e){return this.then(void 0,e)}},{key:"finally",value:function(t){return this.then(function(n){return e.try(t).then(function(){return n})},function(n){return e.try(t).then(function(){throw n})})}},{key:"timeout",value:function(e,t){var n=this;if(this.resolved||this.rejected)return this;var r=setTimeout(function(){n.resolved||n.rejected||n.reject(t||new Error("Promise timed out after "+e+"ms"))},e);return this.then(function(e){return clearTimeout(r),e})}},{key:"toPromise",value:function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)}}],[{key:"resolve",value:function(t){return t instanceof e?t:(0,i.isPromise)(t)?new e(function(e,n){return t.then(e,n)}):(new e).resolve(t)}},{key:"reject",value:function(t){return(new e).reject(t)}},{key:"all",value:function(t){var n=new e,r=t.length,s=[];if(!r)return n.resolve(s),n;for(var o=function(o){var u=t[o];if(u instanceof e){if(u.resolved)return s[o]=u.value,r-=1,"continue"}else if(!(0,i.isPromise)(u))return s[o]=u,r-=1,"continue";e.resolve(u).then(function(e){s[o]=e,0===(r-=1)&&n.resolve(s)},function(e){n.reject(e)})},u=0;u<t.length;u++)o(u);return 0===r&&n.resolve(s),n}},{key:"hash",value:function(t){var n={};return e.all(Object.keys(t).map(function(r){return e.resolve(t[r]).then(function(e){n[r]=e})})).then(function(){return n})}},{key:"map",value:function(t,n){return e.all(t.map(n))}},{key:"onPossiblyUnhandledException",value:function(e){return(0,s.onPossiblyUnhandledException)(e)}},{key:"try",value:function(t,n,r){var i=void 0;try{i=t.apply(n,r||[])}catch(s){return e.reject(s)}return e.resolve(i)}},{key:"delay",value:function(t){return new e(function(e){setTimeout(e,t)})}},{key:"isPromise",value:function(t){return!!(t&&t instanceof e)||(0,i.isPromise)(t)}},{key:"flush",value:function(){var t=new e;return(0,o.getGlobal)().flushPromises.push(t),0===(0,o.getGlobal)().activeCount&&e.flushQueue(),t}},{key:"flushQueue",value:function(){var e=(0,o.getGlobal)().flushPromises;(0,o.getGlobal)().flushPromises=[];var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}i.resolve()}}}]),e}();t.ZalgoPromise=u},"./node_modules/zalgo-promise/src/utils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=function(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&window.constructor&&e instanceof window.constructor)return!1;var t={}.toString;if(t){var n=t.call(e);if("[object Window]"===n||"[object global]"===n||"[object DOMWindow]"===n)return!1}if("function"==typeof e.then)return!0}catch(r){return!1}return!1}},"./src/clean.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanUpWindow=function(e){var t=r.global.requestPromises.get(e);if(t)for(var n=t,i=Array.isArray(n),s=0,n=i?n:n[Symbol.iterator]();;){var o;if(i){if(s>=n.length)break;o=n[s++]}else{if((s=n.next()).done)break;o=s.value}var u=o;u.reject(new Error("No response from window - cleaned up"))}r.global.popupWindowsByWin&&r.global.popupWindowsByWin.delete(e),r.global.remoteWindows&&r.global.remoteWindows.delete(e),r.global.requestPromises.delete(e),r.global.methods.delete(e),r.global.readyPromises.delete(e)},n("./node_modules/cross-domain-utils/src/index.js");var r=n("./src/global.js")},"./src/conf/config.js":function(e,t,n){"use strict";function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG=void 0;var r,i=n("./src/conf/constants.js"),o=t.CONFIG={ALLOW_POSTMESSAGE_POPUP:!("__ALLOW_POSTMESSAGE_POPUP__"in window)||window.__ALLOW_POSTMESSAGE_POPUP__,LOG_LEVEL:"info",BRIDGE_TIMEOUT:5e3,CHILD_WINDOW_TIMEOUT:5e3,ACK_TIMEOUT:-1!==window.navigator.userAgent.match(/MSIE/i)?2e3:1e3,RES_TIMEOUT:-1,LOG_TO_PAGE:!1,ALLOWED_POST_MESSAGE_METHODS:(r={},s(r,i.CONSTANTS.SEND_STRATEGIES.POST_MESSAGE,!0),s(r,i.CONSTANTS.SEND_STRATEGIES.BRIDGE,!0),s(r,i.CONSTANTS.SEND_STRATEGIES.GLOBAL,!0),r),ALLOW_SAME_ORIGIN:!1};0===window.location.href.indexOf(i.CONSTANTS.FILE_PROTOCOL)&&(o.ALLOW_POSTMESSAGE_POPUP=!0)},"./src/conf/constants.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS={POST_MESSAGE_TYPE:{REQUEST:"postrobot_message_request",RESPONSE:"postrobot_message_response",ACK:"postrobot_message_ack"},POST_MESSAGE_ACK:{SUCCESS:"success",ERROR:"error"},POST_MESSAGE_NAMES:{METHOD:"postrobot_method",HELLO:"postrobot_ready",OPEN_TUNNEL:"postrobot_open_tunnel"},WINDOW_TYPES:{FULLPAGE:"fullpage",POPUP:"popup",IFRAME:"iframe"},WINDOW_PROPS:{POSTROBOT:"__postRobot__"},SERIALIZATION_TYPES:{METHOD:"postrobot_method",ERROR:"postrobot_error",PROMISE:"postrobot_promise",ZALGO_PROMISE:"postrobot_zalgo_promise",REGEX:"regex"},SEND_STRATEGIES:{POST_MESSAGE:"postrobot_post_message",BRIDGE:"postrobot_bridge",GLOBAL:"postrobot_global"},MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",BRIDGE_NAME_PREFIX:"__postrobot_bridge__",POSTROBOT_PROXY:"__postrobot_proxy__",WILDCARD:"*"};var r=t.POST_MESSAGE_NAMES={METHOD:"postrobot_method",HELLO:"postrobot_hello",OPEN_TUNNEL:"postrobot_open_tunnel"};t.POST_MESSAGE_NAMES_LIST=Object.keys(r).map(function(e){return r[e]})},"./src/conf/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/conf/config.js");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n("./src/conf/constants.js");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})})},"./src/drivers/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/drivers/receive/index.js");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n("./src/drivers/send/index.js");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var s=n("./src/drivers/listeners.js");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})})},"./src/drivers/listeners.js":function(e,t,n){"use strict";function f(e){var t=e.name,n=e.win,r=e.domain;n===u.CONSTANTS.WILDCARD&&(n=null),r===u.CONSTANTS.WILDCARD&&(r=null);if(!t)throw new Error("Name required to get request listener");var o=s.global.requestListeners[t];if(o)for(var f=[n,s.global.WINDOW_WILDCARD],l=0;l<f.length;l++){var c=f[l],h=c&&o.get(c);if(h){if(r&&"string"==typeof r){if(h[r])return h[r];if(h[a]){var p=h[a],d=Array.isArray(p),v=0;for(p=d?p:p[Symbol.iterator]();;){var m;if(d){if(v>=p.length)break;m=p[v++]}else{if((v=p.next()).done)break;m=v.value}var g=m,y=g.regex,b=g.listener;if((0,i.matchDomain)(y,r))return b}}}if(h[u.CONSTANTS.WILDCARD])return h[u.CONSTANTS.WILDCARD]}}}Object.defineProperty(t,"__esModule",{value:!0}),t.resetListeners=function(){s.global.responseListeners={},s.global.requestListeners={}},t.addResponseListener=function(e,t){s.global.responseListeners[e]=t},t.getResponseListener=function(e){return s.global.responseListeners[e]},t.deleteResponseListener=function(e){delete s.global.responseListeners[e]},t.markResponseListenerErrored=function(e){s.global.erroredResponseListeners[e]=!0},t.isResponseListenerErrored=function(e){return Boolean(s.global.erroredResponseListeners[e])},t.getRequestListener=f,t.addRequestListener=function l(e,t){var n=e.name,i=e.win,c=e.domain;if(!n||"string"!=typeof n)throw new Error("Name required to add request listener");if(Array.isArray(i)){for(var h=[],p=i,d=Array.isArray(p),v=0,p=d?p:p[Symbol.iterator]();;){var m;if(d){if(v>=p.length)break;m=p[v++]}else{if((v=p.next()).done)break;m=v.value}var g=m;h.push(l({name:n,domain:c,win:g},t))}return{cancel:function(){for(var e=h,t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var i=r;i.cancel()}}}}if(Array.isArray(c)){for(var y=[],b=c,w=Array.isArray(b),E=0,b=w?b:b[Symbol.iterator]();;){var S;if(w){if(E>=b.length)break;S=b[E++]}else{if((E=b.next()).done)break;S=E.value}var x=S;y.push(l({name:n,win:i,domain:x},t))}return{cancel:function(){for(var e=y,t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var i=r;i.cancel()}}}}var T=f({name:n,win:i,domain:c});i&&i!==u.CONSTANTS.WILDCARD||(i=s.global.WINDOW_WILDCARD),c=c||u.CONSTANTS.WILDCARD;if(T)throw i&&c?new Error("Request listener already exists for "+n+" on domain "+c.toString()+" for "+(i===s.global.WINDOW_WILDCARD?"wildcard":"specified")+" window"):i?new Error("Request listener already exists for "+n+" for "+(i===s.global.WINDOW_WILDCARD?"wildcard":"specified")+" window"):c?new Error("Request listener already exists for "+n+" on domain "+c.toString()):new Error("Request listener already exists for "+n);var N=s.global.requestListeners,C=N[n];C||(C=new r.WeakMap,N[n]=C);var k=C.get(i);k||(k={},C.set(i,k));var L=c.toString(),A=k[a],O=void 0;return(0,o.isRegex)(c)?(A||(A=[],k[a]=A),O={regex:c,listener:t},A.push(O)):k[L]=t,{cancel:function(){k&&(delete k[L],i&&0===Object.keys(k).length&&C.delete(i),O&&A.splice(A.indexOf(O,1)))}}},n("./node_modules/zalgo-promise/src/index.js");var r=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),i=n("./node_modules/cross-domain-utils/src/index.js"),s=n("./src/global.js"),o=n("./src/lib/index.js"),u=n("./src/conf/index.js");s.global.responseListeners=s.global.responseListeners||{},s.global.requestListeners=s.global.requestListeners||{},s.global.WINDOW_WILDCARD=s.global.WINDOW_WILDCARD||new function(){},s.global.erroredResponseListeners=s.global.erroredResponseListeners||{};var a="__domain_regex__"},"./src/drivers/receive/index.js":function(e,t,n){"use strict";function f(e){if(!window||window.closed)throw new Error("Message recieved in closed window");try{if(!e.source)return}catch(t){return}var n=e.source,f=e.origin,l=function(e){var t=void 0;try{t=(0,o.jsonParse)(e)}catch(n){return}if(t&&"object"===(void 0===t?"undefined":r(t))&&null!==t&&(t=t[s.CONSTANTS.WINDOW_PROPS.POSTROBOT])&&"object"===(void 0===t?"undefined":r(t))&&null!==t&&t.type&&"string"==typeof t.type&&a.RECEIVE_MESSAGE_TYPES[t.type])return t}(e.data);if(l){if(!l.sourceDomain||"string"!=typeof l.sourceDomain)throw new Error("Expected message to have sourceDomain");0!==l.sourceDomain.indexOf(s.CONSTANTS.MOCK_PROTOCOL)&&0!==l.sourceDomain.indexOf(s.CONSTANTS.FILE_PROTOCOL)||(f=l.sourceDomain);if(-1===u.global.receivedMessages.indexOf(l.id)){u.global.receivedMessages.push(l.id);var c=void 0;c=-1!==s.POST_MESSAGE_NAMES_LIST.indexOf(l.name)||l.type===s.CONSTANTS.POST_MESSAGE_TYPE.ACK?"debug":"error"===l.ack?"error":"info",o.log.logLevel(c,["\n\n	","#receive",l.type.replace(/^postrobot_message_/,""),"::",l.name,"::",f,"\n\n",l]),!(0,i.isWindowClosed)(n)||l.fireAndForget?(l.data&&(l.data=(0,o.deserializeMethods)(n,f,l.data)),a.RECEIVE_MESSAGE_TYPES[l.type](n,f,l)):o.log.debug("Source window is closed - can not send "+l.type+" "+l.name)}}}function l(e){try{(0,o.noop)(e.source)}catch(t){return}var n={source:e.source||e.sourceElement,origin:e.origin||e.originalEvent&&e.originalEvent.origin,data:e.data};0,f(n)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.receiveMessage=f,t.messageListener=l,t.listenForMessages=function(){(0,o.addEventListener)(window,"message",l)};var i=n("./node_modules/cross-domain-utils/src/index.js"),s=n("./src/conf/index.js"),o=n("./src/lib/index.js"),u=n("./src/global.js"),a=n("./src/drivers/receive/types.js");u.global.receivedMessages=u.global.receivedMessages||[],u.global.receiveMessage=f},"./src/drivers/receive/types.js":function(e,t,n){"use strict";function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.RECEIVE_MESSAGE_TYPES=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n("./node_modules/zalgo-promise/src/index.js"),o=n("./node_modules/cross-domain-utils/src/index.js"),u=n("./src/conf/index.js"),a=n("./src/lib/index.js"),f=n("./src/drivers/send/index.js"),l=n("./src/drivers/listeners.js");t.RECEIVE_MESSAGE_TYPES=(c(r={},u.CONSTANTS.POST_MESSAGE_TYPE.ACK,function(e,t,n){if(!(0,l.isResponseListenerErrored)(n.hash)){var r=(0,l.getResponseListener)(n.hash);if(!r)throw new Error("No handler found for post message ack for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!(0,o.matchDomain)(r.domain,t))throw new Error("Ack origin "+t+" does not match domain "+r.domain.toString());r.ack=!0}}),c(r,u.CONSTANTS.POST_MESSAGE_TYPE.REQUEST,function(e,t,n){function c(r){return n.fireAndForget||(0,o.isWindowClosed)(e)?s.ZalgoPromise.resolve():(0,f.sendMessage)(e,i({target:n.originalSource,hash:n.hash,name:n.name},r),t)}var r=(0,l.getRequestListener)({name:n.name,win:e,domain:t});return s.ZalgoPromise.all([c({type:u.CONSTANTS.POST_MESSAGE_TYPE.ACK}),s.ZalgoPromise.try(function(){if(!r)throw new Error("No handler found for post message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!(0,o.matchDomain)(r.domain,t))throw new Error("Request origin "+t+" does not match domain "+r.domain.toString());var i=n.data;return r.handler({source:e,origin:t,data:i})}).then(function(e){return c({type:u.CONSTANTS.POST_MESSAGE_TYPE.RESPONSE,ack:u.CONSTANTS.POST_MESSAGE_ACK.SUCCESS,data:e})},function(e){var t=(0,a.stringifyError)(e).replace(/^Error: /,""),n=e.code;return c({type:u.CONSTANTS.POST_MESSAGE_TYPE.RESPONSE,ack:u.CONSTANTS.POST_MESSAGE_ACK.ERROR,error:t,code:n})})]).then(a.noop).catch(function(e){if(r&&r.handleError)return r.handleError(e);a.log.error((0,a.stringifyError)(e))})}),c(r,u.CONSTANTS.POST_MESSAGE_TYPE.RESPONSE,function(e,t,n){if(!(0,l.isResponseListenerErrored)(n.hash)){var r=(0,l.getResponseListener)(n.hash);if(!r)throw new Error("No handler found for post message response for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!(0,o.matchDomain)(r.domain,t))throw new Error("Response origin "+t+" does not match domain "+(0,o.stringifyDomainPattern)(r.domain));(0,l.deleteResponseListener)(n.hash);if(n.ack===u.CONSTANTS.POST_MESSAGE_ACK.ERROR){var i=new Error(n.error);return n.code&&(i.code=n.code),r.respond(i,null)}if(n.ack===u.CONSTANTS.POST_MESSAGE_ACK.SUCCESS){var s=n.data||n.response;return r.respond(null,{source:e,origin:t,data:s})}}}),r)},"./src/drivers/send/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.sendMessage=function(e,t,n){return s.ZalgoPromise.try(function(){t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=(0,u.uniqueID)(),o=(0,u.getWindowType)(),a=(0,i.getDomain)(window);return r({},t,n,{sourceDomain:a,id:t.id||s,windowType:o})}(e,t,{data:(0,u.serializeMethods)(e,n,t.data),domain:n});var f=void 0;f=-1!==o.POST_MESSAGE_NAMES_LIST.indexOf(t.name)||t.type===o.CONSTANTS.POST_MESSAGE_TYPE.ACK?"debug":"error"===t.ack?"error":"info",u.log.logLevel(f,["\n\n	","#send",t.type.replace(/^postrobot_message_/,""),"::",t.name,"::",n||o.CONSTANTS.WILDCARD,"\n\n",t]);if(e===window&&!o.CONFIG.ALLOW_SAME_ORIGIN)throw new Error("Attemping to send message to self");if((0,i.isWindowClosed)(e))throw new Error("Window is closed");u.log.debug("Running send message strategies",t);var l=[],c=(0,u.jsonStringify)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o.CONSTANTS.WINDOW_PROPS.POSTROBOT,t),null,2);return s.ZalgoPromise.map(Object.keys(a.SEND_MESSAGE_STRATEGIES),function(t){return s.ZalgoPromise.try(function(){if(!o.CONFIG.ALLOWED_POST_MESSAGE_METHODS[t])throw new Error("Strategy disallowed: "+t);return a.SEND_MESSAGE_STRATEGIES[t](e,c,n)}).then(function(){return l.push(t+": success"),!0},function(e){return l.push(t+": "+(0,u.stringifyError)(e)+"\n"),!1})}).then(function(e){var n=e.some(Boolean),r=t.type+" "+t.name+" "+(n?"success":"error")+":\n  - "+l.join("\n  - ")+"\n";u.log.debug(r);if(!n)throw new Error(r)})})};var i=n("./node_modules/cross-domain-utils/src/index.js"),s=n("./node_modules/zalgo-promise/src/index.js"),o=n("./src/conf/index.js"),u=n("./src/lib/index.js"),a=n("./src/drivers/send/strategies.js")},"./src/drivers/send/strategies.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEND_MESSAGE_STRATEGIES=void 0;var r=n("./node_modules/cross-domain-utils/src/index.js"),i=n("./src/conf/index.js"),s=t.SEND_MESSAGE_STRATEGIES={};s[i.CONSTANTS.SEND_STRATEGIES.POST_MESSAGE]=function(e,t,n){0,(Array.isArray(n)?n:"string"==typeof n?[n]:[i.CONSTANTS.WILDCARD]).map(function(t){if(0===t.indexOf(i.CONSTANTS.MOCK_PROTOCOL)){if(window.location.protocol===i.CONSTANTS.FILE_PROTOCOL)return i.CONSTANTS.WILDCARD;if(!(0,r.isActuallySameDomain)(e))throw new Error("Attempting to send messsage to mock domain "+t+", but window is actually cross-domain");return(0,r.getActualDomain)(e)}return 0===t.indexOf(i.CONSTANTS.FILE_PROTOCOL)?i.CONSTANTS.WILDCARD:t}).forEach(function(n){return e.postMessage(t,n)})}},"./src/global.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.global=void 0;var r=n("./src/conf/index.js");(t.global=window[r.CONSTANTS.WINDOW_PROPS.POSTROBOT]=window[r.CONSTANTS.WINDOW_PROPS.POSTROBOT]||{}).registerSelf=function(){}},"./src/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/interface.js");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r);t.default=i},"./src/interface.js":function(e,t,n){"use strict";function f(){a.global.initialized||((0,u.listenForMessages)(),0,(0,o.initOnReady)(),(0,o.listenForMethods)({on:r.on,send:r.send})),a.global.initialized=!0}Object.defineProperty(t,"__esModule",{value:!0}),t.bridge=t.Promise=t.cleanUpWindow=void 0;var r=n("./src/public/index.js");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n("./src/clean.js");Object.defineProperty(t,"cleanUpWindow",{enumerable:!0,get:function(){return i.cleanUpWindow}});var s=n("./node_modules/zalgo-promise/src/index.js");Object.defineProperty(t,"Promise",{enumerable:!0,get:function(){return s.ZalgoPromise}}),t.init=f;var o=n("./src/lib/index.js"),u=n("./src/drivers/index.js"),a=n("./src/global.js");t.bridge=null,f()},"./src/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/lib/util.js");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n("./src/lib/log.js");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var s=n("./src/lib/serialize.js");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var o=n("./src/lib/ready.js");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},"./src/lib/log.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n("./src/conf/index.js"),s=n("./src/lib/util.js"),o=["debug","info","warn","error"];Function.prototype.bind&&window.console&&"object"===r(console.log)&&["log","info","warn","error"].forEach(function(e){console[e]=this.bind(console[e],console)},Function.prototype.call);var u=t.log={clearLogs:function(){window.console&&window.console.clear&&window.console.clear();if(i.CONFIG.LOG_TO_PAGE){var e=document.getElementById("postRobotLogs");e&&e.parentNode&&e.parentNode.removeChild(e)}},writeToPage:function(e,t){setTimeout(function(){var n=document.getElementById("postRobotLogs");n||((n=document.createElement("div")).id="postRobotLogs",n.style.cssText="width: 800px; font-family: monospace; white-space: pre-wrap;",document.body&&document.body.appendChild(n));var r=document.createElement("div"),i=(new Date).toString().split(" ")[4],o=Array.prototype.slice.call(t).map(function(e){if("string"==typeof e)return e;if(!e)return Object.prototype.toString.call(e);var t=void 0;try{t=(0,s.jsonStringify)(e,null,2)}catch(n){t="[object]"}return"\n\n"+t+"\n\n"}).join(" "),u=i+" "+e+" "+o;r.innerHTML=u;var a={log:"#ddd",warn:"orange",error:"red",info:"blue",debug:"#aaa"}[e];r.style.cssText="margin-top: 10px; color: "+a+";",n.childNodes.length?n.insertBefore(r,n.childNodes[0]):n.appendChild(r)})},logLevel:function(e,t){setTimeout(function(){try{var n=window.LOG_LEVEL||i.CONFIG.LOG_LEVEL;if("disabled"===n||o.indexOf(e)<o.indexOf(n))return;(t=Array.prototype.slice.call(t)).unshift(""+window.location.host+window.location.pathname),t.unshift("::"),t.unshift(""+(0,s.getWindowType)().toLowerCase()),t.unshift("[post-robot]"),i.CONFIG.LOG_TO_PAGE&&u.writeToPage(e,t);if(!window.console)return;window.console[e]||(e="log");if(!window.console[e])return;window.console[e].apply(window.console,t)}catch(r){}},1)},debug:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.logLevel("debug",t)},info:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.logLevel("info",t)},warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.logLevel("warn",t)},error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];u.logLevel("error",t)}}},"./src/lib/ready.js":function(e,t,n){"use strict";function l(e){u.global.on(o.CONSTANTS.POST_MESSAGE_NAMES.HELLO,{domain:o.CONSTANTS.WILDCARD},function(t){var n=t.source,r=t.origin;return e({source:n,origin:r})})}function c(e){return u.global.send(e,o.CONSTANTS.POST_MESSAGE_NAMES.HELLO,{},{domain:o.CONSTANTS.WILDCARD,timeout:-1}).then(function(e){return{origin:e.origin}})}Object.defineProperty(t,"__esModule",{value:!0}),t.onHello=l,t.sayHello=c,t.initOnReady=function(){l(function(e){var t=e.source,n=e.origin,r=u.global.readyPromises.get(t)||new s.ZalgoPromise;r.resolve({origin:n}),u.global.readyPromises.set(t,r)});var e=(0,i.getAncestor)();e&&c(e).catch(function(e){a.log.debug((0,f.stringifyError)(e))})},t.onChildWindowReady=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Window",r=u.global.readyPromises.get(e);return r?r:(r=new s.ZalgoPromise,u.global.readyPromises.set(e,r),-1!==t&&setTimeout(function(){return r.reject(new Error(n+" did not load after "+t+"ms"))},t),r)};var r=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),i=n("./node_modules/cross-domain-utils/src/index.js"),s=n("./node_modules/zalgo-promise/src/index.js"),o=n("./src/conf/index.js"),u=n("./src/global.js"),a=n("./src/lib/log.js"),f=n("./src/lib/util.js");u.global.readyPromises=u.global.readyPromises||new r.WeakMap},"./src/lib/serialize.js":function(e,t,n){"use strict";function c(e,t){return"object"===(void 0===e?"undefined":r(e))&&null!==e&&e.__type__===t}function h(e,t,n,r){var i=(0,f.uniqueID)(),s=a.global.methods.get(e);return s||(s={},a.global.methods.set(e,s)),s[i]={domain:t,method:n},{__type__:u.CONSTANTS.SERIALIZATION_TYPES.METHOD,__id__:i,__name__:r}}function p(e,t,n){function r(){var r=Array.prototype.slice.call(arguments);return l.log.debug("Call foreign method",n.__name__,r),a.global.send(e,u.CONSTANTS.POST_MESSAGE_NAMES.METHOD,{id:n.__id__,name:n.__name__,args:r},{domain:t,timeout:-1}).then(function(e){var t=e.data;return l.log.debug("Got foreign method result",n.__name__,t.result),t.result},function(e){throw l.log.debug("Got foreign method error",(0,f.stringifyError)(e)),e})}return r.__name__=n.__name__,r.__xdomain__=!0,r.source=e,r.origin=t,r}function d(e,t,n){var r=new Error(n.__message__);return n.__code__&&(r.code=n.__code__),r}function v(e,t,n){return new o.ZalgoPromise(function(r,i){return p(e,t,n.__then__)(r,i)})}function m(e,t,n){return window.Promise?new window.Promise(function(r,i){return p(e,t,n.__then__)(r,i)}):v(e,t,n)}function g(e,t,n){return new RegExp(n.__source__)}Object.defineProperty(t,"__esModule",{value:!0}),t.listenForMethods=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.serializeMethod=h,t.serializeMethods=function(e,t,n){return(0,f.replaceObject)({obj:n},function(n,r){return"function"==typeof n?h(e,t,n,r.toString()):n instanceof Error?(i=n,{__type__:u.CONSTANTS.SERIALIZATION_TYPES.ERROR,__message__:(0,f.stringifyError)(i),__code__:i.code}):window.Promise&&n instanceof window.Promise?function(e,t,n,r){return{__type__:u.CONSTANTS.SERIALIZATION_TYPES.PROMISE,__then__:h(e,t,function(e,t){return n.then(e,t)},r+".then")}}(e,t,n,r.toString()):o.ZalgoPromise.isPromise(n)?function(e,t,n,r){return{__type__:u.CONSTANTS.SERIALIZATION_TYPES.ZALGO_PROMISE,__then__:h(e,t,function(e,t){return n.then(e,t)},r+".then")}}(e,t,n,r.toString()):(0,f.isRegex)(n)?(s=n,{__type__:u.CONSTANTS.SERIALIZATION_TYPES.REGEX,__source__:s.source}):void 0;var i,s}).obj},t.deserializeMethod=p,t.deserializeError=d,t.deserializeZalgoPromise=v,t.deserializePromise=m,t.deserializeRegex=g,t.deserializeMethods=function(e,t,n){return(0,f.replaceObject)({obj:n},function(n){if("object"===(void 0===n?"undefined":r(n))&&null!==n)return c(n,u.CONSTANTS.SERIALIZATION_TYPES.METHOD)?p(e,t,n):c(n,u.CONSTANTS.SERIALIZATION_TYPES.ERROR)?d(e,t,n):c(n,u.CONSTANTS.SERIALIZATION_TYPES.PROMISE)?m(e,t,n):c(n,u.CONSTANTS.SERIALIZATION_TYPES.ZALGO_PROMISE)?v(e,t,n):c(n,u.CONSTANTS.SERIALIZATION_TYPES.REGEX)?g(e,t,n):void 0}).obj};var i=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),s=n("./node_modules/cross-domain-utils/src/index.js"),o=n("./node_modules/zalgo-promise/src/index.js"),u=n("./src/conf/index.js"),a=n("./src/global.js"),f=n("./src/lib/util.js"),l=n("./src/lib/log.js");a.global.methods=a.global.methods||new i.WeakMap,t.listenForMethods=(0,f.once)(function(){a.global.on(u.CONSTANTS.POST_MESSAGE_NAMES.METHOD,{origin:u.CONSTANTS.WILDCARD},function(e){var t=e.source,n=e.origin,r=e.data,i=a.global.methods.get(t);if(!i)throw new Error("Could not find any methods this window has privileges to call");var u=i[r.id];if(!u)throw new Error("Could not find method with id: "+r.id);if(!(0,s.matchDomain)(u.domain,n))throw new Error("Method domain "+u.domain+" does not match origin "+n);return l.log.debug("Call local method",r.name,r.args),o.ZalgoPromise.try(function(){return u.method.apply({source:t,origin:n,data:r},r.args)}).then(function(e){return{result:e,id:r.id,name:r.name}})})})},"./src/lib/util.js":function(e,t,n){"use strict";function u(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function a(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function f(e,t){Array.isArray(e)?u(e,t):"object"===(void 0===e?"undefined":r(e))&&null!==e&&a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.weakMapMemoize=t.once=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.stringifyError=function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+Object.prototype.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var n=e&&e.stack,r=e&&e.message;if(n&&r)return-1!==n.indexOf(r)?n:r+"\n"+n;if(n)return n;if(r)return r}return"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)}catch(i){return"Error while stringifying error: "+l(i,t+1)}},t.noop=function(){},t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n),{cancel:function(){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}}},t.uniqueID=function(){var e="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,function(){return e.charAt(Math.floor(Math.random()*e.length))})},t.eachArray=u,t.eachObject=a,t.each=f,t.replaceObject=function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(n>=100)throw new Error("Self-referential object passed, or object contained too many layers");var i=void 0;if("object"!==(void 0===e?"undefined":r(e))||null===e||Array.isArray(e)){if(!Array.isArray(e))throw new TypeError("Invalid type: "+(void 0===e?"undefined":r(e)));i=[]}else i={};return f(e,function(e,s){var o=t(e,s);void 0!==o?i[s]=o:"object"===(void 0===e?"undefined":r(e))&&null!==e?i[s]=c(e,t,n+1):i[s]=e}),i},t.safeInterval=function(e,t){var n=void 0;return n=setTimeout(function r(){n=setTimeout(r,t),e.call()},t),{cancel:function(){clearTimeout(n)}}},t.isRegex=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.getWindowType=function(){return(0,s.isPopup)()?o.CONSTANTS.WINDOW_TYPES.POPUP:(0,s.isIframe)()?o.CONSTANTS.WINDOW_TYPES.IFRAME:o.CONSTANTS.WINDOW_TYPES.FULLPAGE},t.jsonStringify=function(e,t,n){var r=void 0,i=void 0;try{"{}"!==JSON.stringify({})&&(r=Object.prototype.toJSON,delete Object.prototype.toJSON);if("{}"!==JSON.stringify({}))throw new Error("Can not correctly serialize JSON objects");"[]"!==JSON.stringify([])&&(i=Array.prototype.toJSON,delete Array.prototype.toJSON);if("[]"!==JSON.stringify([]))throw new Error("Can not correctly serialize JSON objects")}catch(s){throw new Error("Can not repair JSON.stringify: "+s.message)}var o=JSON.stringify.call(this,e,t,n);try{r&&(Object.prototype.toJSON=r),i&&(Array.prototype.toJSON=i)}catch(s){throw new Error("Can not repair JSON.stringify: "+s.message)}return o},t.jsonParse=function(e){return JSON.parse(e)};var i=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),s=n("./node_modules/cross-domain-utils/src/index.js"),o=n("./src/conf/index.js");t.once=function(e){if(!e)return e;var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}},t.weakMapMemoize=function(e){var t=new i.WeakMap;return function(n){var r=t.get(n);return void 0!==r?r:(void 0!==(r=e.call(this,n))&&t.set(n,r),r)}}},"./src/public/client.js":function(e,t,n){"use strict";function l(e){return i.ZalgoPromise.try(function(){if(!e.name)throw new Error("Expected options.name");var t=e.name,n=void 0,r=void 0;if("string"==typeof e.window){var l=document.getElementById(e.window);if(!l)throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be a valid element id");if("iframe"!==l.tagName.toLowerCase())throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be an iframe");if(!l.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");n=l.contentWindow}else if(e.window instanceof HTMLIFrameElement){if("iframe"!==e.window.tagName.toLowerCase())throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be an iframe");if(e.window&&!e.window.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");e.window&&e.window.contentWindow&&(n=e.window.contentWindow)}else n=e.window;if(!n)throw new Error("Expected options.window to be a window object, iframe, or iframe element id.");var c=n;r=e.domain||o.CONSTANTS.WILDCARD;var h=e.name+"_"+(0,a.uniqueID)();if((0,s.isWindowClosed)(c))throw new Error("Target window is closed");var p=!1,d=f.global.requestPromises.get(c);d||(d=[],f.global.requestPromises.set(c,d));var v=i.ZalgoPromise.try(function(){if((0,s.isAncestor)(window,c))return(0,a.onChildWindowReady)(c,e.timeout||o.CONFIG.CHILD_WINDOW_TIMEOUT)}).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).origin;if((0,a.isRegex)(r)&&!e)return(0,a.sayHello)(c)}).then(function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).origin;if((0,a.isRegex)(r)){if(!(0,s.matchDomain)(r,n))throw new Error("Remote window domain "+n+" does not match regex: "+r.toString());r=n}if("string"!=typeof r&&!Array.isArray(r))throw new TypeError("Expected domain to be a string or array");var f=r;return new i.ZalgoPromise(function(n,r){var i=void 0;e.fireAndForget||(i={name:t,window:c,domain:f,respond:function(e,t){e||(p=!0,d.splice(d.indexOf(v,1))),e?r(e):n(t)}},(0,u.addResponseListener)(h,i)),(0,u.sendMessage)(c,{type:o.CONSTANTS.POST_MESSAGE_TYPE.REQUEST,hash:h,name:t,data:e.data,fireAndForget:e.fireAndForget},f).catch(r);if(e.fireAndForget)return n();var a=o.CONFIG.ACK_TIMEOUT,l=e.timeout||o.CONFIG.RES_TIMEOUT,m=100;setTimeout(function g(){if(!p){if((0,s.isWindowClosed)(c))return i.ack?r(new Error("Window closed for "+t+" before response")):r(new Error("Window closed for "+t+" before ack"));a=Math.max(a-m,0),-1!==l&&(l=Math.max(l-m,0));if(i.ack){if(-1===l)return;m=Math.min(l,2e3)}else{if(0===a)return r(new Error("No ack for postMessage "+t+" in "+(0,s.getDomain)()+" in "+o.CONFIG.ACK_TIMEOUT+"ms"));if(0===l)return r(new Error("No response for postMessage "+t+" in "+(0,s.getDomain)()+" in "+(e.timeout||o.CONFIG.RES_TIMEOUT)+"ms"))}setTimeout(g,m)}},m)})});return v.catch(function(){(0,u.markResponseListenerErrored)(h),(0,u.deleteResponseListener)(h)}),d.push(v),v})}function c(e,t,n,r){return(r=r||{}).window=e,r.name=t,r.data=n,l(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.send=void 0,t.request=l,t.sendToParent=function(e,t,n){var r=(0,s.getAncestor)();return r?c(r,e,t,n):new i.ZalgoPromise(function(e,t){return t(new Error("Window does not have a parent"))})},t.client=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.window)throw new Error("Expected options.window");var t=e.window;return{send:function(n,r){return c(t,n,r,e)}}};var r=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),i=n("./node_modules/zalgo-promise/src/index.js"),s=n("./node_modules/cross-domain-utils/src/index.js"),o=n("./src/conf/index.js"),u=n("./src/drivers/index.js"),a=n("./src/lib/index.js"),f=n("./src/global.js");f.global.requestPromises=f.global.requestPromises||new r.WeakMap,t.send=c,f.global.send=c},"./src/public/config.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS=t.CONFIG=void 0;var r=n("./src/conf/index.js");Object.defineProperty(t,"CONFIG",{enumerable:!0,get:function(){return r.CONFIG}}),Object.defineProperty(t,"CONSTANTS",{enumerable:!0,get:function(){return r.CONSTANTS}}),t.disable=function(){delete window[r.CONSTANTS.WINDOW_PROPS.POSTROBOT],window.removeEventListener("message",i.messageListener)};var i=n("./src/drivers/index.js")},"./src/public/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parent=void 0;var r=n("./src/public/client.js");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n("./src/public/server.js");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var s=n("./src/public/config.js");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var o=n("./node_modules/cross-domain-utils/src/index.js");t.parent=(0,o.getAncestor)()},"./src/public/server.js":function(e,t,n){"use strict";function l(e){if(!e.name)throw new Error("Expected options.name");if(!e.handler)throw new Error("Expected options.handler");var t=e.name,n=e.window,s=e.domain,f={handler:e.handler,handleError:e.errorHandler||function(e){throw e},window:n,domain:s||a.CONSTANTS.WILDCARD,name:t},l=(0,u.addRequestListener)({name:t,win:n,domain:s},f);if(e.once){var c=f.handler;f.handler=(0,o.once)(function(){return l.cancel(),c.apply(this,arguments)})}if(f.window&&e.errorOnClose)var h=(0,o.safeInterval)(function(){n&&"object"===(void 0===n?"undefined":r(n))&&(0,i.isWindowClosed)(n)&&(h.cancel(),f.handleError(new Error("Post message target window is closed")))},50);return{cancel:function(){l.cancel()}}}function c(e,t,n){return"function"==typeof t&&(n=t,t={}),(t=t||{}).name=e,t.handler=n||t.handler,l(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.listen=l,t.once=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"function"==typeof t&&(n=t,t={}),t=t||{},n=n||t.handler;var r=t.errorHandler,i=new s.ZalgoPromise(function(i,s){(t=t||{}).name=e,t.once=!0,t.handler=function(e){i(e);if(n)return n(e)},t.errorHandler=function(e){s(e);if(r)return r(e)}}),o=l(t);return i.cancel=o.cancel,i},t.listener=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{on:function(t,n){return c(t,e,n)}}};var i=n("./node_modules/cross-domain-utils/src/index.js"),s=n("./node_modules/zalgo-promise/src/index.js"),o=n("./src/lib/index.js"),u=n("./src/drivers/index.js"),a=n("./src/conf/index.js"),f=n("./src/global.js");t.on=c,f.global.on=c}})})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(t,n){return t?t+"."+n:n};t.buildName=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.LEARNER="LEARNER",i=t.EDITOR="EDITOR",s=t.HISTORY="HISTORY",o=t.PREVIEW="PREVIEW",u=t.ANALYTICS="ANALYTICS",a=t.ALL=[r,i,s,o,u]},function(e,t){(function(e){"use strict";function s(e){typeof e!="string"&&(e=String(e));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return typeof e!="string"&&(e=String(e)),e}function u(e){var n={next:function(){var t=e.shift();return{done:t===undefined,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function c(e){var t=new FileReader,n=l(t);return t.readAsArrayBuffer(e),n}function h(e){var t=new FileReader,n=l(t);return t.readAsText(e),n}function p(e){var t=new Uint8Array(e),n=new Array(t.length);for(var r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e;if(!e)this._bodyText="";else if(typeof e=="string")this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!i(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(e)}this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(c)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return h(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}function y(e,t){t=t||{};var n=t.body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,!n&&e._bodyInit!=null&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);this.credentials=t.credentials||this.credentials||"omit";if(t.headers||!this.headers)this.headers=new a(t.headers);this.method=g(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null;if(!(this.method!=="GET"&&this.method!=="HEAD"||!n))throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function w(e){var t=new a,n=e.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function E(e,t){t||(t={}),this.type="default",this.status=t.status===undefined?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}if(e.fetch)return;var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},i=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};a.prototype.append=function(e,t){e=s(e),t=o(t);var n=this.map[e];this.map[e]=n?n+","+t:t},a.prototype["delete"]=function(e){delete this.map[s(e)]},a.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},a.prototype.set=function(e,t){this.map[s(e)]=o(t)},a.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),u(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),u(e)},t.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},v.call(y.prototype),v.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];E.redirect=function(e,t){if(S.indexOf(t)===-1)throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.Headers=a,e.Request=y,e.Response=E,e.fetch=function(e,n){return new Promise(function(r,i){var s=new y(e,n),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:w(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;r(new E(t,e))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(s.method,s.url,!0),s.credentials==="include"?o.withCredentials=!0:s.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&t.blob&&(o.responseType="blob"),s.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(typeof s._bodyInit=="undefined"?null:s._bodyInit)})},e.fetch.polyfill=!0})(typeof self!="undefined"?self:this)},function(e,t,n){function C(e){return e&&e.__esModule?e:{"default":e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e){return e.style.background="none",e.style.border="none",e.style.width="100%",e.style.height="100%",e}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=n(1),o=n(3),u=C(o),a=n(6),f=C(a),l=n(8),c=C(l),h=n(9),p=C(h),d=n(4),v=C(d),m=n(10),g=C(m),y=n(11),b=C(y),w=n(12),E=C(w),S=n(13),x=C(S),T=n(14),N=C(T),A=function(t,n,r){var i=document.createElement("iframe");return i.setAttribute("id",n),L(i),t.appendChild(i),{getIframe:function(){return i},load:function(){i.src=r},getContentWindow:function(){return i.contentWindow}}},O=function(t,n,r){var i=document.createElement("iframe");return i.setAttribute("id",n),i.setAttribute("sandbox","allow-scripts allow-same-origin"),L(i),t.appendChild(i),{getIframe:function(){return i},load:function(){var t=i.contentWindow.document;t.open(),t.write(r),t.close()},getContentWindow:function(){return i.contentWindow}}},M=function(t){while(t&&t.firstChild)t.removeChild(t.firstChild)},_=function(t){return(0,s.post)({targetResource:i.CHILD_RESOURCE,fnName:i.INIT_CHILD,payload:{childId:t}})},D=function(t){return(0,s.post)({targetResource:i.CHILD_RESOURCE,fnName:i.REMOVE_CHILD,payload:{childId:t}})},P=function(t){return(0,s.post)({targetResource:i.CHILD_RESOURCE,fnName:i.CREATE_CHILD,payload:{createOptions:t}})},H=function(t){return(0,s.post)({targetResource:i.CHILD_RESOURCE,fnName:i.DELETE_CHILD,payload:{childId:t}})},B=function(t,n,r){(0,s.listenOnce)({fnName:i.GET_NONCE,window:t,callback:function(){return{nonce:n,localContext:r}}})},j=function(t){var n=t.contentType,r=t.entryPointData;return n==="application/embed"&&r&&r.length},F=function(){function e(t){k(this,e),this.id=t,this.element=undefined}return r(e,[{key:"init",value:function(t,n){var r=this,i=n||u.default.getContext();return this.element=t,_(this.id).then(function(e){var n=e.data,s=n.nonce,o=n.entryPoint,u=j(o)?O(t,r.id,o.entryPointData):A(t,r.id,o.entryPoint);B(u.getContentWindow(),s,i),u.load()})}},{key:"remove",value:function(){var t=this;return D(this.id).then(function(){M(t.element)})}},{key:"create",value:function(t){var n=t.name,r=t.plugin;return P({name:n,plugin:r}).then(function(e){if(e.data.success)return e.data.success;throw new Error(e.data.error)})}},{key:"delete",value:function(){var t=this;return H(this.id).then(function(){M(t.element)})}},{key:"state",value:function(){return(0,v.default)(this.id,!0).apply(undefined,arguments)}},{key:"access",value:function(){return f.default.apply(undefined,arguments)}},{key:"progress",value:function(){return(0,c.default)(this.id).apply(undefined,arguments)}},{key:"competency",value:function(){return(0,p.default)(this.id).apply(undefined,arguments)}},{key:"annotations",value:function(){return(0,g.default)(this.id).apply(undefined,arguments)}},{key:"route",value:function(){return(0,x.default)(this.id).apply(undefined,arguments)}},{key:"learner",value:function(){return(0,b.default)(this.id).apply(undefined,arguments)}},{key:"history",value:function(){return(0,E.default)(this.id).apply(undefined,arguments)}},{key:"__deprecated",value:function(){return(0,N.default)(this.id).apply(undefined,arguments)}}]),e}();t.default=F,e.exports=t["default"]},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),s=n(2),o=u(s),a=function(t,n){return new o.default(function(e){(0,r.createListener)({resource:i.SUBSCRIPTION,fnName:t,callback:function(n){e.next(n.data)}})},n)},f=function(){return{select:function(t){return(0,r.post)({targetResource:i.EDITOR_RESOURCE,fnName:i.SELECT,payload:{selection:t}})},selection:function(t){return{subscribe:function(n){return(0,r.post)({targetResource:i.EDITOR_RESOURCE,fnName:i.SUBSCRIBE_TO_SELECTION,payload:{selection:t,optionalCallbackFn:n}}).then(function(e){var t=e.data,r=t.subscriptionId,i=t.unsubscribeFn,s=t.initialNotifyAfterReturn;return n?{subscriptionId:r,unsubscribe:i}:(s&&setTimeout(function(){s()}),a(r,i))})}}},open:function(t){return(0,r.post)({targetResource:i.EDITOR_RESOURCE,fnName:i.OPEN,payload:{activityId:t}})}}};t.default=f,e.exports=t["default"]},function(e,t,n){function c(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{"default":e}}function m(){return v++,v.toString()}function g(e,t){var n=t.dragType,r=t.dragData;d[e]={domainName:e,dragType:n,dragData:r}}function y(e){d[e]=null}function b(e){var t=[],n=Object.keys(p[e]);for(var r=0;r<n.length;r++){var i=n[r],s=p[e][i].el.getBoundingClientRect(),o={droppableId:i,rect:{x:s.left,y:s.top,w:s.width,h:s.height}};t.push(o)}return t}function w(e,t,n){for(var r=0;r<n.length;r++){var i=n[r],s=p[e][i].el,o=new a.default(t,{detail:d[e]});s.dispatchEvent(o)}}function E(e,t){g(e,t);var n={hitAreas:b(e),triggerEventOnDroppables:w.bind(null,e)};return n}function S(e){y(e)}function x(e){return(0,s.post)({targetResource:o.DRAG_STATE_RESOURCE,fnName:o.SUBSCRIBE_TO_DRAGGABLES,payload:{domainName:e,callbackDragStarted:E.bind(null,e),callbackDragStopped:S.bind(null,e)}})}function T(e){return(0,s.post)({targetResource:o.DRAG_STATE_RESOURCE,fnName:o.UNSUBSCRIBE_FROM_DRAGGABLES,payload:{domainName:e}})}function N(e,t){var n=Object.keys(p[t]);for(var r=0;r<n.length;r++){var i=n[r];if(p[t][i].el===e)return i}return null}Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=h(r),s=n(1),o=n(0),u=n(26),a=h(u),f=n(27),l=c(f),p={},d={},v=0,C=function(t){return{addDroppable:function(n){if(!p[t]||Object.keys(p[t]).length===0)p[t]={},x(t);var r=N(n,t);if(r!==null)return;var i=m();p[t][i]={droppableId:i,el:n}},removeDroppable:function(n){if(!p[t])return;var r=N(n,t);if(r===null)return;delete p[t][r],Object.keys(p[t]).length===0&&T(t)}}};(0,i.default)(C,l),t.default=C,e.exports=t["default"]},function(e,t,n){function o(e){if(e===null||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function u(){try{if(!Object.assign)return!1;var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5")return!1;var t={};for(var n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),Object.keys(Object.assign({},i)).join("")!=="abcdefghijklmnopqrst"?!1:!0}catch(s){return!1}}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=u()?Object.assign:function(e,t){var n,u=o(e),a;for(var f=1;f<arguments.length;f++){n=Object(arguments[f]);for(var l in n)i.call(n,l)&&(u[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)s.call(n,a[c])&&(u[a[c]]=n[a[c]])}}return u}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=t||{bubbles:!1,cancelable:!1,detail:undefined},r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r}return typeof window.CustomEvent=="function"?window.CustomEvent:(e.prototype=window.Event.prototype,e)}();t.default=r,e.exports=t["default"]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=t.domains={PATHWAY_BUILDER_TOOLS_LIST:"DOMAIN_PATHWAY_BUILDER_TOOLS_LIST"},i=t.dragTypes={TOOL_NEW:"DRAG_TYPE_TOOL_NEW"},s=t.toolTypes={TEXT:"TOOL_TYPE_TEXT",IMAGE:"TOOL_TYPE_IMAGE",TABLE:"TOOL_TYPE_TABLE",COMPONENT:"TOOL_TYPE_COMPONENT"},o=t.events={DRAGENTER:"CDPDragStateDragEnter",DRAGLEAVE:"CDPDragStateDragLeave",DROP:"CDPDragStateDrop"}},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),s=u(i),o=n(0),a=function(t){return new s.default(function(e){(0,r.createListener)({resource:o.SUBSCRIPTION,fnName:t,callback:function(n){e.next(n.data)}})})};t.default=function(e){return{get:function(){return(0,r.post)({targetResource:o.THEME_RESOURCE,fnName:o.GET,payload:{path:e}}).then(function(e){return e.data})},subscribe:function(n){return(0,r.post)({targetResource:o.THEME_RESOURCE,fnName:o.SUBSCRIBE,payload:{path:e,optionalCallbackFn:n}}).then(function(e){var t=e.data;return n?t:a(t)})},subscribeToCSS:function(t){return(0,r.post)({targetResource:o.THEME_RESOURCE,fnName:o.SUBSCRIBE_TO_THEME_CSS,payload:{optionalCallbackFn:t}}).then(function(e){var n=e.data;return t?n:a(n)})}}},e.exports=t["default"]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=function(t){return{get:function(){return(0,i.post)({targetResource:r.USER_RESOURCE,fnName:r.GET,payload:{accountId:t}}).then(function(e){return e.data})}}};t.default=s,e.exports=t["default"]},function(e,t,n){function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7),s=o(i);t.default=(0,s.default)(r.CLASS_RESOURCE),e.exports=t["default"]},function(e,t,n){function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),o=u(s);t.default=function(){return{get:function(){var t=o.default.getContext();return t?Promise.resolve(t.context):(0,i.post)({targetResource:r.CONTEXT_RESOURCE,fnName:r.GET,payload:{}}).then(function(e){return e.data})}}},e.exports=t["default"]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1);t.default=function(e){var t=function(t){return(0,i.post)({targetResource:r.FEATURE_TOGGLE_RESOURCE,fnName:r.IS,payload:t}).then(function(e){return e.data})},n=function(){return(0,i.post)({targetResource:r.FEATURE_TOGGLE_RESOURCE,fnName:r.GET,payload:{}}).then(function(e){return e.data})},s=function(n){return t(n).then(function(e){return e.enabled})},o=function(n){return t(n).then(function(e){return e.disabled})},u=function(n){return t(n).then(function(e){return e.unknown})};return e?{isEnabled:function(){return s(e)},isDisabled:function(){return o(e)},isUnknown:function(){return u(e)}}:{is:t,get:n}},e.exports=t["default"]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0);t.default=function(e){return(0,r.post)({targetResource:i.QUERY_RESOURCE,fnName:i.EXECUTE_QUERY,payload:{query:e}})},e.exports=t["default"]},function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),s=n(2),o=a(s),u=n(0),f=function(t){return new o.default(function(e){(0,i.createListener)({resource:u.SUBSCRIPTION,fnName:t,callback:function(n){e.next(n.data)}})})},l=function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(){var e=r({allowMultipleSelection:!1},n),s={targetSelector:t,configuration:e};return{get:function(){return(0,i.post)({targetResource:u.SELECTION_RESOURCE,fnName:u.GET,payload:s}).then(function(e){return e.data})},subscribe:function(t){return(0,i.post)({targetResource:u.SELECTION_RESOURCE,fnName:u.SUBSCRIBE,payload:{optionalCallbackFn:t}}).then(function(e){var n=e.data;return t?n:f(n)})}}}};t.default=l,e.exports=t["default"]}])}),define("text",["module"],function(e){"use strict";function v(e,t){return e===undefined||e===""?t:e}function m(e,t,n,r){if(t===r)return!0;if(e===n){if(e==="http")return v(t,"80")===v(r,"80");if(e==="https")return v(t,"443")===v(r,"443")}return!1}var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.16",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.lastIndexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||m(s,u,n,i))):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)},function(e){r.error&&r.error(e)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i[0]==="ï»¿"&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("json",["text"],function(text){function cacheBust(e){return e=e.replace(CACHE_BUST_FLAG,""),e+=e.indexOf("?")<0?"?":"&",e+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse=typeof JSON!="undefined"&&typeof JSON.parse=="function"?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(e,t,n,r){r.isBuild&&(r.inlineJSON===!1||e.indexOf(CACHE_BUST_QUERY_PARAM+"=")!==-1)||t.toUrl(e).indexOf("empty:")===0?n(null):text.get(t.toUrl(e),function(t){r.isBuild?(buildMap[e]=t,n(t)):n(jsonParse(t))},n.error,{accept:"application/json"})},normalize:function(e,t){return e.indexOf(CACHE_BUST_FLAG)!==-1&&(e=cacheBust(e)),t(e)},write:function(e,t,n){if(t in buildMap){var r=buildMap[t];n('define("'+e+"!"+t+'", function(){ return '+r+";});\n")}}}}),define("json!schemas/config.schema.json",function(){return{title:{type:"text","default":"Input Table"},stateVersion:{type:"text",hidden:!0,label:"State Version",description:"Used by the sim code internally to track which state changes were caused by itself",learnerEditable:!0,"default":"0"},settings:{type:"group",label:"Settings",description:"Settings of the component",properties:{config:{type:"json",label:"Configuration",description:"The configuration data for the widget",hidden:!0,readOnly:!0},showHints:{type:"boolean",label:"Show hints",description:"Show students if answers are correct or incorrect for all inputs","default":!1,learnerEditable:!0},showCorrect:{type:"boolean",label:"Show correct",description:"Show student the correct answer for all inputs","default":!1,learnerEditable:!0},isCaseSensitive:{type:"boolean",label:"Case sensitive",description:"Score answers as correct only if answers match word capitalisation","default":!0},alternateCorrectDelimiter:{type:"text",label:"Alt Correct Delimitr",description:"Character used to separate an input's Alternate Correct answers","default":","},languageFormatting:{type:"enum",label:"Language Formatting",items:["English","Arabic"],"default":"English"},direction:{type:"enum",label:"Direction",description:"Language direction of the widget",items:["LTR","RTL","Auto"],"default":"Auto"},css:{type:"text",label:"Custom CSS",description:"Custom CSS to be added to style the widget. Supports URLs but will not preload.","default":""},cssUrl:{type:"text",label:"Custom CSS URL","default":""}}},accessibility:{type:"group",label:"Accessibility",description:"Settings for screen readers",properties:{language:{type:"enum",label:"Language",description:"The language used by screen readers",items:["Arabic","English","French","Italian","Japanese","Portuguese","Russian","Spanish"],"default":"English"},title:{type:"text",label:"Table title",description:"Title of the table, used for screen readers","default":""},summary:{type:"text",label:"Table summary",description:"Summary of the table contents, used for screen readers","default":""}}},correct:{type:"boolean",label:"Correct",description:"All student's answers are correct",readOnly:!0,"default":!1,learnerEditable:!0},numberOfCorrect:{type:"number",label:"Number of correct",description:"The number of inputs the student has correct",readOnly:!0,"default":0,learnerEditable:!0},data:{type:"json",label:"Table data",description:"Data for the table",learnerEditable:!0},inputs:{label:"Inputs",type:"list",learnerEditable:!0,listType:{type:"group",readOnly:!0,flat:!0,properties:{label:{type:"text",label:"Cell",readOnly:!0},rowIndex:{type:"number",readOnly:!0,hidden:!0},colIndex:{type:"number",readOnly:!0,hidden:!0},correct:{type:"boolean",label:"Correct",readOnly:!0,learnerEditable:!0},altCorrect:{type:"text",label:"Alternate Correct",description:"Answers that will also be marked as correct separated by delimiter"}}},"default":[]}}}),define("cdp/setup",["exports","underscore","CDP","json!schemas/config.schema.json"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n,r,i,s,o){try{var u=e[s](o),a=u.value}catch(f){n(f);return}u.done?t(a):Promise.resolve(a).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){function o(e){a(s,r,i,o,u,"next",e)}function u(e){a(s,r,i,o,u,"throw",e)}var s=e.apply(t,n);o(undefined)})}}function l(e){return p(e)||h(e)||m(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function p(e){if(Array.isArray(e))return g(e)}function d(e,t){return b(e)||y(e,t)||m(e,t)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(!e)return;if(typeof e=="string")return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);n==="Object"&&e.constructor&&(n=e.constructor.name);if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}function g(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}return n}return}function b(e){if(Array.isArray(e))return e}Object.defineProperty(e,"__esModule",{value:!0}),e.setup=e.getInitialState=e.getInitialValue=undefined;var i=u(t),s=u(n),o=u(r),w=["bodyFont","textColor","successColor","errorColor","css","cssUrl"],E={},S,x=function(t){S&&S.remove(),S=document.createElement("style"),S.innerHTML="\n  @import url('".concat(t.cssUrl,"');\n  @import url('").concat(E["settings.cssUrl"],"')\n\n  ").concat(t.css,"\n  ").concat(E["settings.css"],"\n\n  .answer-correct {\n    background: \n    ").concat(t.successColor.replace(/(\([\d\.]+\,\s*[\d\.]+\,\s*[\d\.]+)\,*\s*([\d\.]*)\)/,function(e,t,n){return"".concat(t,", ").concat(parseInt(n)*.2||.2,")")})," !important;\n  }\n\n  .answer-correct > .cell-text:before {\n    background-color: ").concat(t.successColor," !important;\n  }\n\n  .answer-incorrect {\n    background: \n    ").concat(t.errorColor.replace(/(\([\d\.]+\,\s*[\d\.]+\,\s*[\d\.]+)\,*\s*([\d\.]*)\)/,function(e,t,n){return"".concat(t,", ").concat(parseInt(n)*.2||.2,")")})," !important;\n  }\n\n  .answer-incorrect > .cell-text:before {\n    background-color: ").concat(t.errorColor," !important;\n  }\n\n  .handsontable, [role='option'] {\n    color: ").concat(t.textColor,";\n    font-family: ").concat(t.bodyFont,";\n  }\n"),S.type="text/css",document.head.appendChild(S)},T=e.getInitialValue=function(t){return E[t]},N=e.getInitialState=function(){var t=C(o.default);return t.reduce(function(e,t){var n=E[t],r=t.split("."),i=e;for(var s=0;s<r.length;++s)s===r.length-1?i[r[s]]=n:i[r[s]]||(i[r[s]]={}),i=i[r[s]];return e},{})},C=function L(e,t){return Object.entries(e).reduce(function(e,n){var r=d(n,2),i=r[0],s=r[1].properties;return s instanceof Object?[].concat(l(e),l(L(s,i))):[].concat(l(e),[t?"".concat(t,".").concat(i):i])},[])},k=e.setup=function(){var e=f(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return window.CDP=s.default,n.next=3,s.default.register();case 3:return n.next=5,Promise.all(l(C(o.default).map(function(){var e=f(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.default.state(e).get();case 2:return n.abrupt("return",E[e]=n.sent);case 3:case"end":return n.stop()}},t)}));return function(t){return e.apply(this,arguments)}}())));case 5:return n.next=7,s.default.theme().subscribe(function(e){return x(e)});case 7:e();case 8:case"end":return n.stop()}},t)}));return function(n){return e.apply(this,arguments)}}()}),define("cdp/syncStoreWithCDP",["exports","CDP","underscore","./setup"],function(e,t,n,r){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function f(e){if(typeof e.stateVersion!="string")e.stateVersion="0";else{var t=parseInt(e.stateVersion,10);isFinite(t)?t>=o-1?e.stateVersion="0":e.stateVersion=(t+1).toString():e.stateVersion="0"}}Object.defineProperty(e,"__esModule",{value:!0}),e.syncEntriesWithCDP=undefined;var i=s(t),o=1024,u=function(t,n){return n.reduce(function(e,n){var r=n.selector(t),i=n.keyPath.split("."),s=e;for(var o=0;o<i.length;++o)o===i.length-1?s[i[o]]=r:s[i[o]]||(s[i[o]]={}),s=s[i[o]];return e},{})},a=e.syncEntriesWithCDP=function(t,s){var o=i.default[s[0].api||"state"](),a=s.filter(function(e){return e.action}),l=Object.assign({},(0,r.getInitialState)(),u(t.getState(),s)),c=!0,h=function(){if(!c)return;var r=u(t.getState(),s),i=Object.assign({},l,r);if((0,n.isEqual)(l,i))return;l=i,f(l),o.set(l)},p=t.subscribe(h),d=function(r){if(r.stateVersion!==l.stateVersion)return;c=!1;var i=!1;a.forEach(function(e){var s=e.keyPath.split("."),o=s.reduce(function(e,t){return e[t]},l),u=s.reduce(function(e,t){return e[t]},r);if((0,n.isEqual)(o,u))return;i=!0,t.dispatch(e.action(u))}),c=!0,i&&(l=r,h())},v=function(){};return o.subscribe(d).then(function(e){return v=e.unsubscribe}),function(){p(),v()}}}),define("lib/cdp/SyncCDP",["exports","cdp/syncStoreWithCDP"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var s=function(){function e(){n(this,e),this.store=null,this.entries=[]}return i(e,[{key:"start",value:function(){this.unsubscribeFn=(0,t.syncEntriesWithCDP)(this.store.store,this.entries)}},{key:"destroy",value:function(){this.unsubscribeFn&&this.unsubscribeFn()}}]),e}();e.default=s}),define("lib/cdp/SyncContextFromCDP",["exports","SceneManager","CDP","constants/Mode"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function h(){s.default.context().get().then(function(e){e==="EDITOR"?i.default.startScene(o.default.CONFIG):i.default.startScene(o.default.STUDENT)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var i=u(t),s=u(n),o=u(r),c=function(){function e(){a(this,e)}return l(e,[{key:"start",value:function(){h.call(this)}}]),e}();e.default=c}),define("componentLibrary-Redux/sync/ReduxToCss",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=this.selector(this.state);this.renderer.$el.css(this.cssProperty,e)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){t(this,e),this.renderer=null,this.selector=null,this.cssProperty=""}return n(e,[{key:"start",value:function(){i.call(this)}},{key:"stateUpdated",value:function(t,n){if(this.selector(t)===this.selector(n))return;i.call(this)}}]),e}();e.default=r}),define("componentLibrary-Redux/sync/ReduxToggleClass",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=this.selector(this.state);this.renderer.$el.toggleClass(this.className,e===this.storeValue)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){t(this,e),this.className=null,this.selector=null,this.storeValue=!0,this.renderer=null}return n(e,[{key:"start",value:function(){i.call(this)}},{key:"stateUpdated",value:function(t,n){if(this.selector(t)===this.selector(n))return;i.call(this)}}]),e}();e.default=r}),define("componentLibrary-Redux/sync/ReduxToggleProperty",["exports","../retrieveValue"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(){var e=this.selector(this.state);this.renderer.$el.prop(this.propertyName,e===this.storeValue)}Object.defineProperty(e,"__esModule",{value:!0});var n=r(t),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){i(this,e),this.renderer=null,this.selector="",this.storeValue=!0,this.propertyName=""}return s(e,[{key:"start",value:function(){u.call(this)}},{key:"stateUpdated",value:function(t,n){if(this.selector(t)===this.selector(n))return;u.call(this)}}]),e}();e.default=o}),define("componentLibrary-Redux/sync/ReduxToProperty",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=this.selector(this.state);this.formatter&&(e=this.formatter(e)),this.renderer.$el.prop(this.property,e)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){t(this,e),this.selector=null,this.renderer=null,this.property="",this.formatter=null}return n(e,[{key:"start",value:function(){i.call(this)}},{key:"stateUpdated",value:function(t,n){if(this.selector(t)===this.selector(n))return;i.call(this)}}]),e}();e.default=r}),define("componentLibrary-Redux/sync/ReduxToInput",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){e=this.toDisplayFormatter?this.toDisplayFormatter(e):e,this.renderer.$el.val().toString()!==e.toString()&&this.renderer.$el.val(e).trigger(this.eventName)}function s(){var e=this.renderer.$el.val();e=this.toStoreFormatter?this.toStoreFormatter(e):e,e.toString()!==this.selector(this.state).toString()&&this.actions[this.updateActionName](e)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){t(this,e),this.renderer=null,this.selector=null,this.updateActionName="",this.toStoreFormatter=null,this.toDisplayFormatter=null,this.eventName="change"}return n(e,[{key:"start",value:function(){this.renderer.$el.on(this.eventName+"."+this.UID,s.bind(this)),i.call(this,this.selector(this.state))}},{key:"stateUpdated",value:function(t){var n=this.selector(t);i.call(this,n)}},{key:"destroy",value:function(){this.renderer&&this.renderer.$el&&this.renderer.$el.off(this.eventName+"."+this.UID)}}]),e}();e.default=r}),define("componentLibrary-Redux/sync/ReduxToggleVisibility",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=this.selector(this.state);this.renderer.$el.toggle(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){t(this,e),this.selector=null,this.renderer=null}return n(e,[{key:"start",value:function(){i.call(this)}},{key:"stateUpdated",value:function(t,n){if(this.selector(t)===this.selector(n))return;i.call(this)}}]),e}();e.default=r}),define("componentLibrary-Redux/sync/ReduxToAttribute",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=this.selector(this.state);this.formatter&&(e=this.formatter(e)),this.renderer.$el.attr(this.attribute,e)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){t(this,e),this.selector=null,this.renderer=null,this.attribute="",this.formatter=null}return n(e,[{key:"start",value:function(){i.call(this)}},{key:"stateUpdated",value:function(t,n){if(this.selector(t)===this.selector(n))return;i.call(this)}}]),e}();e.default=r}),define("componentLibrary-Redux/sync/ReduxToText",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=this.selector(this.state);this.formatter&&(e=this.formatter(e)),this.renderer.$el.text(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){t(this,e),this.selector=null,this.renderer=null,this.formatter=null}return n(e,[{key:"start",value:function(){i.call(this)}},{key:"stateUpdated",value:function(t,n){if(this.selector(t)===this.selector(n))return;i.call(this)}}]),e}();e.default=r}),define("lib/sync/ReduxToHtml",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function s(){var e=this.selector(this.state);this.formatter&&(e=this.formatter(e)),this.renderer.$el.html(e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(){t(this,e),this.selector=null,this.renderer=null,this.formatter=null}return r(e,[{key:"start",value:function(){s.call(this)}},{key:"stateUpdated",value:function(t,n){if(this.selector(t)===this.selector(n))return;s.call(this)}}]),e}();e.default=i}),define("componentLibrary-Renderers/HtmlRenderer",["exports","SceneManager","jquery"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e){if(e&&e.$el)return e;if(this.entity&&this.entity.parent){var t=this.entity.parent.getComponent(b);if(t)return t}return r.default.ActiveScene}function E(){this.$el=(0,i.default)("<"+this.type+"/>");for(var e in this.attributes)this.$el.attr(e,this.attributes[e]);this.$el.data("entity",this.entity)}function S(){var e=this.parent,t=void 0;Object.defineProperty(this,"parent",{get:function(){return t},set:function(n){n=w.call(this,n);if(n===t)return;t=n,t.$el.append(this.$el)}}),this.parent=e}function x(){var e=this.x,t=this.y,n=this.z,r=this.class,i=this.rotation,s=this.scaleX,o=this.scaleY,u=this.skewX,f=this.skewY,l=this.width,c=this.height,h=this.alpha,p=!!this.forceValues;Object.defineProperty(this,"forceValues",{get:function(){return p},set:function(t){p=!!t}}),Object.defineProperty(this,"x",{get:function(){return e},set:function(r){var a=O(r);if(e===a&&!p)return;e=a,T(this.$el,e,t,i,s,o,u,f)}}),Object.defineProperty(this,"y",{get:function(){return t},set:function(r){var a=O(r);if(t===a&&!p)return;t=a,T(this.$el,e,t,i,s,o,u,f)}}),Object.defineProperty(this,"z",{get:function(){return n},set:function(t){var r=M(t);if(n===r&&!p)return;n=r,this.$el.css("z-index",n===null?"":n)}}),Object.defineProperty(this,"class",{get:function(){return r},set:function(t){this.$el.removeClass(r),r=t,this.$el.addClass(r)}}),Object.defineProperty(this,"rotation",{get:function(){return i},set:function(r){var a=O(r);if(i===a&&!p)return;i=a,T(this.$el,e,t,i,s,o,u,f)}}),Object.defineProperty(this,"scaleX",{get:function(){return s},set:function(r){var a=O(r);if(s===a&&!p)return;s=a,T(this.$el,e,t,i,s,o,u,f)}}),Object.defineProperty(this,"scaleY",{get:function(){return o},set:function(r){var a=O(r);if(o===a&&!p)return;o=a,T(this.$el,e,t,i,s,o,u,f)}}),Object.defineProperty(this,"skewX",{get:function(){return u},set:function(r){var a=O(r);if(u===a&&!p)return;u=a,T(this.$el,e,t,i,s,o,u,f)}}),Object.defineProperty(this,"skewY",{get:function(){return f},set:function(r){var a=O(r);if(f===a&&!p)return;f=a,T(this.$el,e,t,i,s,o,u,f)}}),Object.defineProperty(this,"width",{get:function(){return l},set:function(t){var n=O(t);if(l===n&&!p)return;l=n,this.$el.css("width",l===null?"":l+a)}}),Object.defineProperty(this,"height",{get:function(){return c},set:function(t){var n=O(t);if(c===n&&!p)return;c=n,this.$el.css("height",c===null?"":c+a)}}),Object.defineProperty(this,"alpha",{get:function(){return h},set:function(t){var n=O(t);if(h===n&&!p)return;h=n,this.$el.css("opacity",h===null?"":h)}});var d=p;p=!0,this.x=e,this.y=t,this.z=n,this.class=r,this.rotation=i,this.scaleX=s,this.scaleY=o,this.skewX=u,this.skewY=f,this.width=l,this.height=c,this.alpha=h,p=d}function T(e,t,n,r,i,s,o,u){var c="",h="";if(t!==null||n!==null||r!==null||i!==null||s!==null||o!==null||u!==null)c="translate3d("+(t||0)+a+", "+(n||0)+a+", 0px) "+"rotate3d(0, 0, 1, "+(r||0)+f+") "+"scale3d("+(i||1)+", "+(s||1)+", 1) "+"skewX("+(o||0)+l+") "+"skewY("+(u||0)+l+")",h="translate("+(t||0)+a+", "+(n||0)+a+") "+"rotate("+(r||0)+f+") "+"scale("+(i||1)+", "+(s||1)+") "+"skewX("+(o||0)+l+") "+"skewY("+(u||0)+l+")";e.css({transform:c}),e.css({"-webkit-transform":c}),e.css({"-ms-transform":h})}function N(e,t){var n=e.css("transform")||e.css("-webkit-transform")||e.css("-ms-transform");return(new RegExp(t)).exec(n)}function C(e){var t=N(e,c);return t?{x:t[1],y:t[2]}:(t=N(e,m),t?{x:t[1],y:t[2]}:{x:null,y:null})}function k(e){var t=N(e,h);return t?{rotation:t[1]}:(t=N(e,g),t?{rotation:t[1]}:{rotation:null})}function L(e){var t=N(e,p);return t?{x:t[1],y:t[2]}:(t=N(e,y),t?{x:t[1],y:t[2]}:{x:null,y:null})}function A(e){var t=N(e,d),n=N(e,v),r=null,i=null;return t&&(r=t[1]),n&&(i=n[1]),{x:r,y:i}}function O(e){return e===null||e===undefined||isNaN(parseFloat(e))?null:parseFloat(e)}function M(e){return e===null||e===undefined||isNaN(parseInt(e,10))?null:parseInt(e,10)}Object.defineProperty(e,"__esModule",{value:!0});var r=s(t),i=s(n),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="px",f="deg",l="deg",c=/translate3d\s*\(\s*([0-9]+)px,\s*?([0-9]+)px.*\)/,h=/rotate3d\s*\(\s*0\s*,\s*0\s*,\s*1\s*,\s*([0-9]+)deg\s*\)/,p=/scale3d\s*\(\s*([0-9]+),\s*([0-9]+).*\)/,d=/skewX\s*\(\s*([0-9]+)deg\s*\)/,v=/skewY\s*\(\s*([0-9]+)deg\s*\)/,m=/translate\s*\(\s*([0-9]+)px,\s*?([0-9]+)px\s*\)/,g=/rotate\s*\(\s*([0-9]+)deg\s*\)/,y=/scale\s*\(\s*([0-9]+),\s*([0-9]+).*\)/,b=function(){function e(){o(this,e),this.parent=null,this.type="div",this.attributes={},this.x=null,this.y=null,this.z=null,this.rotation=null,this.scaleX=null,this.scaleY=null,this.skewX=null,this.skewY=null,this.width=null,this.height=null,this.alpha=null,this.class=null}return u(e,[{key:"initialize",value:function(){E.call(this),x.call(this)}},{key:"start",value:function(){S.call(this)}},{key:"syncFromCss",value:function(){var t=C(this.$el),n=k(this.$el).rotation,r=L(this.$el),i=A(this.$el);this.x=t.x,this.y=t.y,this.z=M(this.$el.get(0).style["z-index"]),this.rotation=O(n),this.scaleX=O(r.x),this.scaleY=O(r.y),this.skewX=O(i.x),this.skewY=O(i.y),this.width=O(this.$el.get(0).style.width),this.height=O(this.$el.get(0).style.height),this.alpha=O(this.$el.get(0).style.opacity)}},{key:"destroy",value:function(){if(!this.$el)return;this.$el.remove()}}]),e}();e.default=b}),define("componentLibrary-Renderers/TextRenderer",["exports","./HtmlRenderer"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function a(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){var e=this.text;Object.defineProperty(this,"text",{get:function(){return e},set:function(n){if(e===n&&!this.forceValues)return;e=n,this.$el.html(n)}});var t=this.forceValues;this.forceValues=!0,this.text=e,this.forceValues=t}Object.defineProperty(e,"__esModule",{value:!0});var n=r(t),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function c(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:c(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},f=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.text="",n}return a(t,e),s(t,[{key:"start",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"start",this).call(this),l.call(this)}},{key:"syncFromCss",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"syncFromCss",this).call(this),this.text=this.$el.html()}}]),t}(n.default);e.default=f}),define("componentLibrary-Renderers/TemplateRenderer",["exports","ComponentLibrary","./HtmlRenderer","jquery","underscore"],function(e,t,n,r,i){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function p(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(){var e=s.default.getComponent(this.template);this.$el=(0,u.default)(a.default.template(e)(this.templateData)),this.class&&this.$el.addClass(this.class);for(var t in this.attributes)this.$el.prop(t,this.attributes[t])}Object.defineProperty(e,"__esModule",{value:!0});var s=f(t),o=f(n),u=f(r),a=f(i),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){l(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.template="",n.templateData={},n}return p(t,e),c(t,[{key:"initialize",value:function(){v.call(this)}}]),t}(o.default);e.default=d}),define("componentLibrary-Redux/DynamicReduxStore",["exports","redux","./ReduxStore","jquery"],function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(){this.reducers=(0,t.combineReducers)(s.default.extend({},this.reducerMap,this.dynamicReducers)),this.store.replaceReducer(this.reducers)}Object.defineProperty(e,"__esModule",{value:!0});var i=o(n),s=o(r),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function v(e,t,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return i===null?undefined:v(i,t,n)}if("value"in r)return r.value;var s=r.get;return s===undefined?undefined:s.call(n)},h=0,p=function(e){function n(){u(this,n);var e=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.reducerMap=null,e}return c(n,e),a(n,[{key:"initialize",value:function(){this.dynamicReducers={},this.reducers=(0,t.combineReducers)(this.reducerMap),l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"initialize",this).call(this)}},{key:"addReducer",value:function(t,n){if(this.dynamicReducers.hasOwnProperty(t))throw new Error("A reducer already exists with that key");this.dynamicReducers[t]=n,d.call(this)}},{key:"removeReducer",value:function(t){if(!this.dynamicReducers.hasOwnProperty(t))return;delete this.dynamicReducers[t],d.call(this)}}]),n}(i.default);e.default=p}),define("text!templates/invalidJson.tpl",[],function(){return'<div class="error">\n    <h1 class="errorHeading">Something went wrong.</h1>\n    <div class="errorMessage">\n        This configuration is outdated.\n        <br>\n        Please inform your instructor.\n    </div>\n</div>'}),define("prefabLib/colorPicker/Colors",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["#4a90e2","#37bc9b","#ffce54","#716bf1","#f96155"]}),define("prefabLib/colorPicker/CreateColorButtons",["exports","./Colors"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(){var e=this;this._colorButtons=this.colors.map(function(t,n){return e.factory.create({references:{color:t,displayColor:e.displayColors&&n<=e.displayColors.length?e.displayColors[n]:null,stateMap:e.stateMap,dispatchMap:e.dispatchMap}})}),this._colorButtons.forEach(function(t){e.entity.addChild(t)})}function f(){this._colorButtons.forEach(function(e){e.destroy()})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),u=function(){function e(){i(this,e),this.factory=null,this.colors=null,this.displayColors=null,this.stateMap=function(){},this.dispatchMap=function(){}}return o(e,[{key:"initialize",value:function(){this._colorButtons=[]}},{key:"start",value:function(){this.colors=this.colors||n.default,this.displayColors=Array.isArray(this.displayColors)?this.displayColors:null,a.call(this)}},{key:"destroy",value:function(){f.call(this)}}]),e}();e.default=u}),define("prefabLib/colorPicker/SetBackground",["exports","sim-utils/event/DeregisterEvent"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(){this.renderer.$el.css("backgroundColor",this.isSelected(this.state,this.color)?this.color:this.displayColor||this.color)}function u(){this.renderer.$el.css("backgroundColor",this.color)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var s=function(){function e(){n(this,e),this.renderer=null,this.color="",this.displayColor=null,this.isSelected=function(e,t){return!1}}return i(e,[{key:"start",value:function(){this.displayColor&&(this.renderer.$el.addClass("no-opacity"),this.renderer.$el.on("mouseover.".concat(this.UID),u.bind(this)),this.renderer.$el.on("mouseout.".concat(this.UID),o.bind(this))),o.call(this)}},{key:"stateUpdated",value:function(t,n){this.isSelected(t,this.color)!==this.isSelected(n,this.color)&&o.call(this)}},{key:"destroy",value:function(){(0,t.deregisterRendererEvent)(this.renderer,this.UID)}}]),e}();e.default=s}),define("prefabLib/colorPickerPopup/Toggle",["exports","jquery","sim-utils/event/DeregisterEvent"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(e){var t=this.buttonRenderer.$el[0]===e.target||r.default.contains(this.buttonRenderer.$el[0],e.target),n=this.pickerRenderer.$el[0]===e.target||r.default.contains(this.pickerRenderer.$el[0],e.target);this._isOpen&&!t&&!n&&p.call(this)}function c(){this._isOpen?p.call(this):h.call(this)}function h(){this.pickerRenderer.$el.toggle(!0),this._isOpen=!0}function p(){this.pickerRenderer.$el.toggle(!1),this._isOpen=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var r=i(t),a=(0,r.default)("body"),f=function(){function e(){s(this,e),this.buttonRenderer=null,this.pickerRenderer=null,this.selector=function(){}}return u(e,[{key:"initialize",value:function(){this._isOpen=!1}},{key:"start",value:function(){this.buttonRenderer.$el.on("click.".concat(this.UID),c.bind(this)),a.on("click.".concat(this.UID),l.bind(this)),p.call(this)}},{key:"stateUpdated",value:function(t,n){this._isOpen&&this.selector(t)!==this.selector(n)&&p.call(this)}},{key:"destroy",value:function(){(0,n.deregisterRendererEvent)(this.buttonRenderer,this.UID),(0,n.deregisterJQueryEvent)(a,this.UID)}}]),e}();e.default=f}),define("prefabLib/dropdownMenu/utils",["exports","jquery","underscore"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n,r,i){return{data:h(e),templateSelection:p(t,n),templateResult:d(r),minimumResultsForSearch:-1,containerCssClass:"dropdown-menu-container",dropdownCssClass:c(e)?u:o,dropdownAutoWidth:!0,width:i}}function f(){var e=(0,r.default)(".".concat(o)).parent(),t=(0,r.default)(".".concat(u)).parent();return e[0]?e:t}function l(){return(0,r.default)(".".concat(u)).length>0}function c(e){return i.default.findIndex(e,function(e){return!!e.options})>=0}function h(e){return e.map(function(e){var t=e.id,n=e.text,r=e.options;if(r){var i=r.map(function(e){var t=e.id,n=e.text;return{id:t,text:n}});return{text:n,children:i}}return{id:t,text:n}})}function p(e,t){return function(n){return!n.id||t?n.text:e}}function d(e){return function(t){return t.id?e?(0,r.default)('<span class="tick-selection">'.concat(t.text,"</span>")):t.text:t.text}}Object.defineProperty(e,"__esModule",{value:!0}),e.createConfig=a,e.getDropdownMenu=f,e.hasNestedDropdown=l;var r=s(t),i=s(n),o="dropdown-menu-content",u="dropdown-menu-content--nested"}),function(e){typeof define=="function"&&define.amd?define("select2",["jquery"],e):typeof module=="object"&&module.exports?module.exports=function(t,n){return n===undefined&&(typeof window!="undefined"?n=require("jquery"):n=require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var t;return function(){if(!t||!t.requirejs){t?n=t:t={};var e,n,r;(function(t){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v,m=t&&t.split("/"),g=l.map,y=g&&g["*"]||{};if(e){e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e[0].charAt(0)==="."&&m&&(v=m.slice(0,m.length-1),e=v.concat(e));for(c=0;c<e.length;c++){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===0||c===1&&e[2]===".."||e[c-1]==="..")continue;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}if((m||y)&&g){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(m)for(h=m.length;h>0;h-=1){i=g[m.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&y&&y[r]&&(a=y[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(e,n){return function(){var r=p.call(arguments,0);return typeof r[0]!="string"&&r.length===1&&r.push(null),s.apply(t,r.concat([e,n]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(e){if(v(f,e)){var n=f[e];delete f[e],c[e]=!0,i.apply(t,n)}if(!v(a,e)&&!v(c,e))throw new Error("No "+e);return a[e]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return e?E(e):[]}function x(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0],s=t[1];return e=r[1],i&&(i=m(i,s),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(s)):e=m(e,s):(e=m(e,s),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:x(e)}}},i=function(e,n,r,i){var s,l,h,p,d,m,y=[],E=typeof r,x;i=i||e,m=S(i);if(E==="undefined"||E==="function"){n=!n.length&&r.length?["require","exports","module"]:n;for(d=0;d<n.length;d+=1){p=o(n[d],m),l=p.f;if(l==="require")y[d]=u.require(e);else if(l==="exports")y[d]=u.exports(e),x=!0;else if(l==="module")s=y[d]=u.module(e);else if(v(a,l)||v(f,l)||v(c,l))y[d]=w(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),y[d]=a[l]}}h=r?r.apply(a[e],y):undefined;if(e)if(s&&s.exports!==t&&s.exports!==a[e])a[e]=s.exports;else if(h!==t||!x)a[e]=h}else e&&(a[e]=r)},e=n=s=function(e,n,r,a,f){if(typeof e=="string")return u[e]?u[e](n):w(o(e,S(n)).f);if(!e.splice){l=e,l.deps&&s(l.deps,l.callback);if(!n)return;n.splice?(e=n,n=r,r=null):e=t}return n=n||function(){},typeof r=="function"&&(r=a,a=f),a?i(t,e,n,r):setTimeout(function(){i(t,e,n,r)},4),s},s.config=function(e){return s(e)},e._defined=a,r=function(e,t,n){if(typeof e!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},r.amd={jQuery:!0}})(),t.requirejs=e,t.require=n,t.define=r}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return t==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function n(e){var t=e.prototype,n=[];for(var r in t){var i=t[r];if(typeof i!="function")continue;if(r==="constructor")continue;n.push(r)}return n}var t={};t.Extend=function(e,t){function r(){this.constructor=e}var n={}.hasOwnProperty;for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},t.Decorate=function(e,t){function s(){var n=Array.prototype.unshift,r=t.prototype.constructor.length,i=e.prototype.constructor;r>0&&(n.call(arguments,e.prototype.constructor),i=t.prototype.constructor),i.apply(this,arguments)}function o(){this.constructor=s}var r=n(t),i=n(e);t.displayName=e.displayName,s.prototype=new o;for(var u=0;u<i.length;u++){var a=i[u];s.prototype[a]=e.prototype[a]}var f=function(e){var n=function(){};e in s.prototype&&(n=s.prototype[e]);var r=t.prototype[e];return function(){var e=Array.prototype.unshift;return e.call(arguments,n),r.apply(this,arguments)}};for(var l=0;l<r.length;l++){var c=r[l];s.prototype[c]=f(c)}return s};var r=function(){this.listeners={}};return r.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},r.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},n==null&&(n=[]),n.length===0&&n.push({}),n[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},r.prototype.invoke=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n].apply(this,t)},t.Observable=r,t.generateChars=function(e){var t="";for(var n=0;n<e;n++){var r=Math.floor(Math.random()*36);t+=r.toString(36)}return t},t.bind=function(e,t){return function(){e.apply(t,arguments)}},t._convertData=function(e){for(var t in e){var n=t.split("-"),r=e;if(n.length===1)continue;for(var i=0;i<n.length;i++){var s=n[i];s=s.substring(0,1).toLowerCase()+s.substring(1),s in r||(r[s]={}),i==n.length-1&&(r[s]=e[t]),r=r[s]}delete e[t]}return e},t.hasScroll=function(t,n){var r=e(n),i=n.style.overflowX,s=n.style.overflowY;return i!==s||s!=="hidden"&&s!=="visible"?i==="scroll"||s==="scroll"?!0:r.innerHeight()<n.scrollHeight||r.innerWidth()<n.scrollWidth:!1},t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof e!="string"?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},t.appendMany=function(t,n){if(e.fn.jquery.substr(0,3)==="1.7"){var r=e();e.map(n,function(e){r=r.add(e)}),n=r}t.append(n)},t.isTouchscreen=function(){return"undefined"==typeof t._isTouchscreenCache&&(t._isTouchscreenCache="ontouchstart"in document.documentElement),t._isTouchscreenCache},t}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,r){this.$element=e,this.data=r,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox" tabindex="-1"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var r=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(t.message);r.append(n(i(t.args))),r[0].className+=" select2-results__message",this.$results.append(r)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(e.results==null||e.results.length===0){this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"});return}e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var r=e.results[n],i=this.option(r);t.push(i)}this.$results.append(t)},n.prototype.position=function(e,t){var n=t.find(".select2-results");n.append(e)},n.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[data-selected]"),t=e.filter("[data-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var t=this;this.data.current(function(n){var r=e.map(n,function(e){return e.id.toString()}),i=t.$results.find(".select2-results__option[data-selected]");i.each(function(){var t=e(this),n=e.data(this,"data"),i=""+n.id;n.element!=null&&n.element.selected||n.element==null&&e.inArray(i,r)>-1?t.attr("data-selected","true"):t.attr("data-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:t(e)},r=this.option(n);r.className+=" loading-results",this.$results.prepend(r)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var r={role:"option","data-selected":"false",tabindex:-1};t.disabled&&(delete r["data-selected"],r["aria-disabled"]="true"),t.id==null&&delete r["data-selected"],t._resultId!=null&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(r["aria-label"]=t.text,delete r["data-selected"]);for(var i in r){var s=r[i];n.setAttribute(i,s)}if(t.children){var o=e(n),u=document.createElement("strong");u.className="select2-results__group";var a=e(u);this.template(t,u),a.attr("role","presentation");var f=[];for(var l=0;l<t.children.length;l++){var c=t.children[l],h=this.option(c);f.push(h)}var p=e("<ul></ul>",{"class":"select2-results__options select2-results__options--nested",role:"listbox"});p.append(f),o.attr("role","list"),o.append(u),o.append(p)}else this.template(t,n);return e.data(n,"data",t),n},n.prototype.bind=function(t,n){var r=this,i=t.id+"-results";this.$results.attr("id",i),t.on("results:all",function(e){r.clear(),r.append(e.data),t.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),t.on("results:append",function(e){r.append(e.data),t.isOpen()&&r.setClasses()}),t.on("query",function(e){r.hideMessages(),r.showLoading(e)}),t.on("select",function(){if(!t.isOpen())return;r.setClasses(),r.highlightFirstItem()}),t.on("unselect",function(){if(!t.isOpen())return;r.setClasses(),r.highlightFirstItem()}),t.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),t.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=r.getHighlightedResults();if(e.length===0)return;e.trigger("mouseup")}),t.on("results:select",function(){var e=r.getHighlightedResults();if(e.length===0)return;var t=e.data("data");e.attr("data-selected")=="true"?r.trigger("close",{}):r.trigger("select",{data:t})}),t.on("results:previous",function(){var e=r.getHighlightedResults(),t=r.$results.find("[data-selected]"),n=t.index(e);if(n===0)return;var i=n-1;e.length===0&&(i=0);var s=t.eq(i);s.trigger("mouseenter");var o=r.$results.offset().top,u=s.offset().top,a=r.$results.scrollTop()+(u-o);i===0?r.$results.scrollTop(0):u-o<0&&r.$results.scrollTop(a)}),t.on("results:next",function(){var e=r.getHighlightedResults(),t=r.$results.find("[data-selected]"),n=t.index(e),i=n+1;if(i>=t.length)return;var s=t.eq(i);s.trigger("mouseenter");var o=r.$results.offset().top+r.$results.outerHeight(!1),u=s.offset().top+s.outerHeight(!1),a=r.$results.scrollTop()+u-o;i===0?r.$results.scrollTop(0):u>o&&r.$results.scrollTop(a)}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted").attr("aria-selected","true"),r.$results.attr("aria-activedescendant",e.element.attr("id"))}),t.on("results:message",function(e){r.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=r.$results.scrollTop(),n=r.$results.get(0).scrollHeight-t+e.deltaY,i=e.deltaY>0&&t-e.deltaY<=0,s=e.deltaY<0&&n<=r.$results.height();i?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):s&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[data-selected]",function(t){var n=e(this),i=n.data("data");if(n.attr("data-selected")==="true"){r.options.get("multiple")?r.trigger("unselect",{originalEvent:t,data:i}):r.trigger("close",{});return}r.trigger("select",{originalEvent:t,data:i})}),this.$results.on("mouseenter",".select2-results__option[data-selected]",function(t){var n=e(this).data("data");r.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),r.trigger("results:focus",{data:n,element:e(this)})})},n.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(e.length===0)return;var t=this.$results.find("[data-selected]"),n=t.index(e),r=this.$results.offset().top,i=e.offset().top,s=this.$results.scrollTop()+(i-r),o=i-r;s-=e.outerHeight(!1)*2,n<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(s)},n.prototype.template=function(t,n){var r=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),s=r(t,n);s==null?n.style.display="none":typeof s=="string"?n.innerHTML=i(s):e(n).append(s)},n}),t.define("select2/keys",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return e}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var t=e('<span class="select2-selection"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,this.$element.data("old-tabindex")!=null?this._tabindex=this.$element.data("old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},r.prototype.bind=function(e,t){var r=this,i=e.id+"-container",s=e.id+"-results",o=this.options.get("minimumResultsForSearch")===Infinity;this.container=e,this.$selection.on("focus",function(e){r.trigger("focus",e)}),this.$selection.on("blur",function(e){r._handleBlur(e)}),this.$selection.on("keydown",function(e){r.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){r.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){r.update(e.data)}),e.on("open",function(){r.$selection.attr("aria-expanded","true"),r.$selection.attr("aria-owns",s),r._attachCloseHandler(e)}),e.on("close",function(){r.$selection.attr("aria-expanded","false"),r.$selection.removeAttr("aria-activedescendant"),r.$selection.removeAttr("aria-owns"),window.setTimeout(function(){r.$selection.focus()},1),r._detachCloseHandler(e)}),e.on("enable",function(){r.$selection.attr("tabindex",r._tabindex)}),e.on("disable",function(){r.$selection.attr("tabindex","-1")})},r.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){if(document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement))return;n.trigger("blur",t)},1)},r.prototype._attachCloseHandler=function(t){var n=this;e(document.body).on("mousedown.select2."+t.id,function(t){var n=e(t.target),r=n.closest(".select2"),i=e(".select2.select2-container--open");i.each(function(){var t=e(this);if(this==r[0])return;var i=t.data("element");i.select2("close"),setTimeout(function(){t.find("*:focus").blur(),n.focus()},1)})})},r.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(e,t){var n=t.find(".selection");n.append(e)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},r}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,r){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},i.prototype.bind=function(e,t){var n=this;i.__super__.bind.apply(this,arguments);var r=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",r),this.$selection.attr("role","combobox"),this.$selection.on("mousedown",function(e){if(e.which!==1)return;n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("keydown",function(t){!e.isOpen()&&t.which>=48&&t.which<=90&&e.open()}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()}),e.on("selection:update",function(e){n.update(e.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e,t){var n=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(n(e,t))},i.prototype.selectionContainer=function(){return e("<span></span>")},i.prototype.update=function(e){if(e.length===0){this.clear();return}var t=e[0],n=this.$selection.find(".select2-selection__rendered"),r=this.display(t,n);n.empty().append(r),n.prop("title",t.title||t.text)},i}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function r(e,t){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered" aria-live="polite" aria-relevant="additions removals" aria-atomic="true"></ul>'),e},r.prototype.bind=function(t,n){var i=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){i.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(i.options.get("disabled"))return;var n=e(this),r=n.parent(),s=r.data("data");i.trigger("unselect",{originalEvent:t,data:s})}),this.$selection.on("keydown",function(e){!t.isOpen()&&e.which>=48&&e.which<=90&&t.open()}),t.on("focus",function(){i.focusOnSearch()})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(e,t){var n=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(n(e,t))},r.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation" aria-hidden="true">&times;</span></li>');return t},r.prototype.focusOnSearch=function(){var e=this;"undefined"!=typeof e.$search&&setTimeout(function(){e._keyUpPrevented=!0,e.$search.focus()},1)},r.prototype.update=function(e){this.clear();if(e.length===0)return;var t=[];for(var r=0;r<e.length;r++){var i=e[r],s=this.selectionContainer(),o=this.display(i,s);"string"==typeof o&&(o=o.trim()),s.append(o),s.prop("title",i.title||i.text),s.data("data",i),t.push(s)}var u=this.$selection.find(".select2-selection__rendered");n.appendMany(u,t)},r}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return typeof t=="string"&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=t.length==1&&t[0].id!=this.placeholder.id,r=t.length>1;if(r||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function n(){}return n.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){r._handleClear(e)}),t.on("keypress",function(e){r._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(this.options.get("disabled"))return;var n=this.$selection.find(".select2-selection__clear");if(n.length===0)return;t.stopPropagation();var r=n.data("data");for(var i=0;i<r.length;i++){var s={data:r[i]};this.trigger("unselect",s);if(s.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})},n.prototype._handleKeyboardClear=function(e,n,r){if(r.isOpen())return;(n.which==t.DELETE||n.which==t.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(t,n){t.call(this,n);if(this.$selection.find(".select2-selection__placeholder").length>0||n.length===0)return;var r=e('<span class="select2-selection__clear">&times;</span>');r.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(r)},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function r(e,t,n){e.call(this,t,n)}return r.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="text" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var r=t.call(this);return this._transferTabIndex(),r},r.prototype.bind=function(e,t,r){var i=this,s=t.id+"-results";e.call(this,t,r),t.on("open",function(){i.$search.attr("aria-owns",s),i.$search.trigger("focus")}),t.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-activedescendant"),i.$search.removeAttr("aria-owns"),i.$search.trigger("focus")}),t.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),t.on("disable",function(){i.$search.prop("disabled",!0)}),t.on("focus",function(e){i.$search.trigger("focus")}),t.on("results:focus",function(e){i.$search.attr("aria-activedescendant",e.data._resultId)}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented();var r=e.which;if(r===n.BACKSPACE&&i.$search.val()===""){var s=i.$searchContainer.prev(".select2-selection__choice");if(s.length>0){var o=s.data("data");i.searchRemoveChoice(o),e.preventDefault()}}else e.which===n.ENTER&&(t.open(),e.preventDefault())});var o=document.documentMode,u=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){if(u){i.$selection.off("input.search input.searchcheck");return}i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(u&&e.type==="input"){i.$selection.off("input.search input.searchcheck");return}var t=e.which;if(t==n.SHIFT||t==n.CTRL||t==n.ALT)return;if(t==n.TAB)return;i.handleSearch(e)})},r.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},r.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},r.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(this.$search.attr("placeholder")!=="")e=this.$selection.find(".select2-selection__rendered").innerWidth();else{var t=this.$search.val().length+1;e=t*.75+"em"}this.$search.css("width",e)},r}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,r){var i=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];t.call(this,n,r),n.on("*",function(t,n){if(e.inArray(t,s)===-1)return;n=n||{};var r=e.Event("select2:"+t,{params:n});i.$element.trigger(r);if(e.inArray(t,o)===-1)return;n.prevented=r.isDefaultPrevented()})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var r=t(e);n._cache[e]=r}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){var e={"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï"};return e}),t.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var r="";return t!=null?r+=t.id:r+=e.generateChars(4),r+="-result-",r+=e.generateChars(4),n.id!=null?r+="-"+n.id.toString():r+="-"+e.generateChars(4),r},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,e),r.prototype.current=function(e){var t=[],r=this;this.$element.find(":selected").each(function(){var e=n(this),i=r.item(e);t.push(i)}),e(t)},r.prototype.select=function(e){var t=this;e.selected=!0;if(n(e.element).is("option")){e.element.selected=!0,this.$element.trigger("change");return}if(this.$element.prop("multiple"))this.current(function(r){var i=[];e=[e],e.push.apply(e,r);for(var s=0;s<e.length;s++){var o=e[s].id;n.inArray(o,i)===-1&&i.push(o)}t.$element.val(i),t.$element.trigger("change")});else{var r=e.id;this.$element.val(r),this.$element.trigger("change")}},r.prototype.unselect=function(e){var t=this;if(!this.$element.prop("multiple"))return;e.selected=!1;if(n(e.element).is("option")){e.element.selected=!1,this.$element.trigger("change");return}this.current(function(r){var i=[];for(var s=0;s<r.length;s++){var o=r[s].id;o!==e.id&&n.inArray(o,i)===-1&&i.push(o)}t.$element.val(i),t.$element.trigger("change")})},r.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},r.prototype.query=function(e,t){var r=[],i=this,s=this.$element.children();s.each(function(){var t=n(this);if(!t.is("option")&&!t.is("optgroup"))return;var s=i.item(t),o=i.matches(e,s);o!==null&&r.push(o)}),t({results:r})},r.prototype.addOptions=function(e){t.appendMany(this.$element,e)},r.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup"),t.label=e.text):(t=document.createElement("option"),t.textContent!==undefined?t.textContent=e.text:t.innerText=e.text),e.id!==undefined&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var r=n(t),i=this._normalizeItem(e);return i.element=t,n.data(t,"data",i),r},r.prototype.item=function(e){var t={};t=n.data(e[0],"data");if(t!=null)return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};var r=e.children("option"),i=[];for(var s=0;s<r.length;s++){var o=n(r[s]),u=this.item(o);i.push(u)}t.children=i}return t=this._normalizeItem(t),t.element=e[0],n.data(e[0],"data",t),t},r.prototype._normalizeItem=function(e){n.isPlainObject(e)||(e={id:e,text:e}),e=n.extend({},{text:""},e);var t={selected:!1,disabled:!1};return e.id!=null&&(e.id=e.id.toString()),e.text!=null&&(e.text=e.text.toString()),e._resultId==null&&e.id&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},t,e)},r.prototype.matches=function(e,t){var n=this.options.get("matcher");return n(e,t)},r}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function r(e,t){var n=t.get("data")||[];r.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(r,e),r.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});t.length===0&&(t=this.option(e),this.addOptions(t)),r.__super__.select.call(this,e)},r.prototype.convertToOptions=function(e){function u(e){return function(){return n(this).val()==e.id}}var r=this,i=this.$element.find("option"),s=i.map(function(){return r.item(n(this)).id}).get(),o=[];for(var a=0;a<e.length;a++){var f=this._normalizeItem(e[a]);if(n.inArray(f.id,s)>=0){var l=i.filter(u(f)),c=this.item(l),h=n.extend(!0,{},f,c),p=this.option(h);l.replaceWith(p);continue}var d=this.option(f);if(f.children){var v=this.convertToOptions(f.children);t.appendMany(d,v)}o.push(d)}return o},r}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function r(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults),r.__super__.constructor.call(this,e,t)}return t.Extend(r,e),r.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,r){var i=n.ajax(e);return i.then(t),i.fail(r),i}};return n.extend({},t,e,!0)},r.prototype.processResults=function(e){return e},r.prototype.query=function(e,t){function o(){var r=s.transport(s,function(r){var s=i.processResults(r,e);i.options.get("debug")&&window.console&&console.error&&(!s||!s.results||!n.isArray(s.results))&&console.error("Select2: The AJAX results did not return an array in the `results` key of the response."),t(s),i.container.focusOnActiveElement()},function(){if(r.status&&r.status==="0")return;i.trigger("results:message",{message:"errorLoading"})});i._request=r}var r=[],i=this;this._request!=null&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var s=n.extend({type:"GET"},this.ajaxOptions);typeof s.url=="function"&&(s.url=s.url.call(this.$element,e)),typeof s.data=="function"&&(s.data=s.data.call(this.$element,e)),this.ajaxOptions.delay&&e.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(o,this.ajaxOptions.delay)):o()},r}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,r){var i=r.get("tags"),s=r.get("createTag");s!==undefined&&(this.createTag=s);var o=r.get("insertTag");o!==undefined&&(this.insertTag=o),t.call(this,n,r);if(e.isArray(i))for(var u=0;u<i.length;u++){var a=i[u],f=this._normalizeItem(a),l=this.option(f);this.$element.append(l)}}return t.prototype.query=function(e,t,n){function i(e,s){var o=e.results;for(var u=0;u<o.length;u++){var a=o[u],f=a.children!=null&&!i({results:a.children},!0),l=(a.text||"").toUpperCase(),c=(t.term||"").toUpperCase(),h=l===c;if(h||f){if(s)return!1;e.data=o,n(e);return}}if(s)return!0;var p=r.createTag(t);if(p!=null){var d=r.option(p);d.attr("data-select2-tag",!0),r.addOptions([d]),r.insertTag(o,p)}e.results=o,n(e)}var r=this;this._removeOldTags();if(t.term==null||t.page!=null){e.call(this,t,n);return}e.call(this,t,i)},t.prototype.createTag=function(t,n){var r=e.trim(n.term);return r===""?null:{id:r,text:r}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){var n=this._lastTag,r=this.$element.find("option[data-select2-tag]");r.each(function(){if(this.selected)return;e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var r=n.get("tokenizer");r!==undefined&&(this.tokenizer=r),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,r){function s(t){var n=i._normalizeItem(t),r=i.$element.find("option").filter(function(){return e(this).val()===n.id});if(!r.length){var s=i.option(n);s.attr("data-select2-tag",!0),i._removeOldTags(),i.addOptions([s])}o(n)}function o(e){i.trigger("select",{data:e})}var i=this;n.term=n.term||"";var u=this.tokenizer(n,this.options,s);u.term!==n.term&&(this.$search.length&&(this.$search.val(u.term),this.$search.focus()),n.term=u.term),t.call(this,n,r)},t.prototype.tokenizer=function(t,n,r,i){var s=r.get("tokenSeparators")||[],o=n.term,u=0,a=this.createTag||function(e){return{id:e.term,text:e.term}};while(u<o.length){var f=o[u];if(e.inArray(f,s)===-1){u++;continue}var l=o.substr(0,u),c=e.extend({},n,{term:l}),h=a(c);if(h==null){u++;continue}i(h),o=o.substr(u+1)||"",u=0}return{term:o}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"";if(t.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});return}e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"";if(this.maximumInputLength>0&&t.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}});return}e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var r=this;this.current(function(i){var s=i!=null?i.length:0;if(r.maximumSelectionLength>0&&s>=r.maximumSelectionLength){r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}});return}e.call(r,t,n)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),r=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="text" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="true" /></span>');return this.$searchContainer=r,this.$search=r.find("input"),n.prepend(r),n},n.prototype.bind=function(t,n,r){var i=this,s=n.id+"-results";t.call(this,n,r),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),n.on("open",function(){i.$search.attr("tabindex",0),i.$search.attr("aria-owns",s),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),n.on("close",function(){i.$search.attr("tabindex",-1),i.$search.removeAttr("aria-activedescendant"),i.$search.removeAttr("aria-owns"),i.$search.val("")}),n.on("focus",function(){n.isOpen()||i.$search.focus()}),n.on("results:all",function(e){if(e.query.term==null||e.query.term===""){var t=i.showSearch(e);t?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide")}}),n.on("results:focus",function(e){i.$search.attr("aria-activedescendant",e.data._resultId)})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,r){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,r)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return typeof t=="string"&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){var n=t.slice(0);for(var r=t.length-1;r>=0;r--){var i=t[r];this.placeholder.id===i.id&&n.splice(r,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,r){this.lastParams={},e.call(this,t,n,r),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,n,r){var i=this;t.call(this,n,r),n.on("query",function(e){i.lastParams=e,i.loading=!0}),n.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,i.$loadingMore[0]);if(i.loading||!t)return;var n=i.$results.offset().top+i.$results.outerHeight(!1),r=i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1);n+50>=r&&i.loadMore()})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,r){this.$dropdownParent=r.get("dropdownParent")||e(document.body),t.call(this,n,r)}return n.prototype.bind=function(e,t,n){var r=this,i=!1;e.call(this,t,n),t.on("open",function(){r._showDropdown(),r._attachPositioningHandler(t),i||(i=!0,t.on("results:all",function(){r._positionDropdown(),r._resizeDropdown()}),t.on("results:append",function(){r._positionDropdown(),r._resizeDropdown()}))}),t.on("close",function(){r._hideDropdown(),r._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),r=t.call(this);return n.append(r),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,r){var i=this,s="scroll.select2."+r.id,o="resize.select2."+r.id,u="orientationchange.select2."+r.id,a=this.$container.parents().filter(t.hasScroll);a.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),a.on(s,function(t){var n=e(this).data("select2-scroll-position");e(this).find(".select2-container--open").size()>0&&e(this).scrollTop(n.y)}),e(window).on(s+" "+o+" "+u,function(e){i._positionDropdown(),i._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,r){var i="scroll.select2."+r.id,s="resize.select2."+r.id,o="orientationchange.select2."+r.id,u=this.$container.parents().filter(t.hasScroll);u.off(i),e(window).off(i+" "+s+" "+o)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),r=this.$dropdown.hasClass("select2-dropdown--below"),i=null,s=this.$container.offset();s.bottom=s.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=s.top,o.bottom=s.top+o.height;var u={height:this.$dropdown.outerHeight(!1)},a={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},f=a.top<s.top-u.height,l=a.bottom>s.bottom+u.height,c={left:s.left,top:o.bottom},h=this.$dropdownParent;h.css("position")==="static"&&(h=h.offsetParent());var p=h.offset();c.top-=p.top,c.left-=p.left,!n&&!r&&(i="below"),!l&&f&&!n?i="above":!f&&l&&n&&(i="below");if(i=="above"||n&&i!=="below")c.top=o.top-p.top-u.height;i!=null&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(c)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){var n=0;for(var r=0;r<t.length;r++){var i=t[r];i.children?n+=e(i.children):n++}return n}function t(e,t,n,r){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=Infinity),e.call(this,t,n,r)}return t.prototype.showSearch=function(t,n){return e(n.data.results)<this.minimumResultsForSearch?!1:t.call(this,n)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("close",function(e){r._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&t.originalSelect2Event!=null){var n=t.originalSelect2Event;if(n._type==="select"||n._type==="unselect")return}var r=this.getHighlightedResults();if(r.length<1)return;var i=r.data("data");if(i.element!=null&&i.element.selected||i.element==null&&i.selected)return;this.trigger("select",{data:i})},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",function(e){r._selectTriggered(e)}),t.on("unselect",function(e){r._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;if(n&&n.ctrlKey)return;this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return t!=1&&(n+="s"),n},inputTooShort:function(e){var t=e.minimum-e.input.length,n="Please enter "+t+" or more characters";return n},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return e.maximum!=1&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L){function A(){this.reset()}A.prototype.apply=function(c){c=e.extend(!0,{},this.defaults,c);if(c.dataAdapter==null){c.ajax!=null?c.dataAdapter=d:c.data!=null?c.dataAdapter=p:c.dataAdapter=h,c.minimumInputLength>0&&(c.dataAdapter=f.Decorate(c.dataAdapter,g)),c.maximumInputLength>0&&(c.dataAdapter=f.Decorate(c.dataAdapter,y)),c.maximumSelectionLength>0&&(c.dataAdapter=f.Decorate(c.dataAdapter,b)),c.tags&&(c.dataAdapter=f.Decorate(c.dataAdapter,v));if(c.tokenSeparators!=null||c.tokenizer!=null)c.dataAdapter=f.Decorate(c.dataAdapter,m);if(c.query!=null){var L=t(c.amdBase+"compat/query");c.dataAdapter=f.Decorate(c.dataAdapter,L)}if(c.initSelection!=null){var A=t(c.amdBase+"compat/initSelection");c.dataAdapter=f.Decorate(c.dataAdapter,A)}}c.resultsAdapter==null&&(c.resultsAdapter=n,c.ajax!=null&&(c.resultsAdapter=f.Decorate(c.resultsAdapter,x)),c.placeholder!=null&&(c.resultsAdapter=f.Decorate(c.resultsAdapter,S)),c.selectOnClose&&(c.resultsAdapter=f.Decorate(c.resultsAdapter,C)));if(c.dropdownAdapter==null){if(c.multiple)c.dropdownAdapter=w;else{var O=f.Decorate(w,E);c.dropdownAdapter=O}c.minimumResultsForSearch!==0&&(c.dropdownAdapter=f.Decorate(c.dropdownAdapter,N)),c.closeOnSelect&&(c.dropdownAdapter=f.Decorate(c.dropdownAdapter,k));if(c.dropdownCssClass!=null||c.dropdownCss!=null||c.adaptDropdownCssClass!=null){var M=t(c.amdBase+"compat/dropdownCss");c.dropdownAdapter=f.Decorate(c.dropdownAdapter,M)}c.dropdownAdapter=f.Decorate(c.dropdownAdapter,T)}if(c.selectionAdapter==null){c.multiple?c.selectionAdapter=i:c.selectionAdapter=r,c.placeholder!=null&&(c.selectionAdapter=f.Decorate(c.selectionAdapter,s)),c.allowClear&&(c.selectionAdapter=f.Decorate(c.selectionAdapter,o)),c.multiple&&(c.selectionAdapter=f.Decorate(c.selectionAdapter,u));if(c.containerCssClass!=null||c.containerCss!=null||c.adaptContainerCssClass!=null){var _=t(c.amdBase+"compat/containerCss");c.selectionAdapter=f.Decorate(c.selectionAdapter,_)}c.selectionAdapter=f.Decorate(c.selectionAdapter,a)}if(typeof c.language=="string")if(c.language.indexOf("-")>0){var D=c.language.split("-"),P=D[0];c.language=[c.language,P]}else c.language=[c.language];if(e.isArray(c.language)){var H=new l;c.language.push("en");var B=c.language;for(var j=0;j<B.length;j++){var F=B[j],I={};try{I=l.loadPath(F)}catch(q){try{F=this.defaults.amdLanguageBase+F,I=l.loadPath(F)}catch(R){c.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+F+'" could not be '+"automatically loaded. A fallback will be used instead.");continue}}H.extend(I)}c.translations=H}else{var U=l.loadPath(this.defaults.amdLanguageBase+"en"),z=new l(c.language);z.extend(U),c.translations=z}return c},A.prototype.reset=function(){function t(e){function t(e){return c[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(r,i){if(e.trim(r.term)==="")return i;if(i.children&&i.children.length>0){var s=e.extend(!0,{},i);for(var o=i.children.length-1;o>=0;o--){var u=i.children[o],a=n(r,u);a==null&&s.children.splice(o,1)}return s.children.length>0?s:n(r,s)}var f=t(i.text).toUpperCase(),l=t(r.term).toUpperCase();return f.indexOf(l)>-1?i:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:f.escapeMarkup,language:L,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},A.prototype.set=function(t,n){var r=e.camelCase(t),i={};i[r]=n;var s=f._convertData(i);e.extend(this.defaults,s)};var O=new A;return O}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,r){function i(t,i){this.options=t,i!=null&&this.fromElement(i),this.options=n.apply(this.options);if(i&&i.is("input")){var s=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,s)}}return i.prototype.fromElement=function(e){var n=["select2"];this.options.multiple==null&&(this.options.multiple=e.prop("multiple")),this.options.disabled==null&&(this.options.disabled=e.prop("disabled")),this.options.language==null&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),this.options.dir==null&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var i={};t.fn.jquery&&t.fn.jquery.substr(0,2)=="1."&&e[0].dataset?i=t.extend(!0,{},e[0].dataset,e.data()):i=e.data();var s=t.extend(!0,{},i);s=r._convertData(s);for(var o in s){if(t.inArray(o,n)>-1)continue;t.isPlainObject(this.options[o])?t.extend(this.options[o],s[o]):this.options[o]=s[o]}return this},i.prototype.get=function(e){return this.options[e]},i.prototype.set=function(e,t){this.options[e]=t},i}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,r){var i=function(e,n){e.data("select2")!=null&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),i.__super__.constructor.call(this);var r=e.attr("tabindex")||0;e.data("old-tabindex",r),e.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(e,this.options);var o=this.render();this._placeContainer(o);var u=this.options.get("selectionAdapter");this.selection=new u(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var a=this.options.get("dropdownAdapter");this.dropdown=new a(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var f=this.options.get("resultsAdapter");this.results=new f(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){l.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(i,n.Observable),i.prototype._generateId=function(e){var t="";return e.attr("id")!=null?t=e.attr("id"):e.attr("name")!=null?t=e.attr("name")+"-"+n.generateChars(2):t=n.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t,t},i.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));t!=null&&e.css("width",t)},i.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(t=="resolve"){var r=this._resolveWidth(e,"style");return r!=null?r:this._resolveWidth(e,"element")}if(t=="element"){var i=e.outerWidth(!1);return i<=0?"auto":i+"px"}if(t=="style"){var s=e.attr("style");if(typeof s!="string")return null;var o=s.split(";");for(var u=0,a=o.length;u<a;u+=1){var f=o[u].replace(/\s/g,""),l=f.match(n);if(l!==null&&l.length>=1)return l[1]}return null}return t},i.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},i.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;r!=null?(this._observer=new r(function(n){e.each(n,t._syncA),e.each(n,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},i.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(r,i){if(e.inArray(r,n)!==-1)return;t.trigger(r,i)})},i.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("open",function(){setTimeout(function(){t.focusOnActiveElement()},1)}),e(document).on("keydown",function(e){var n=e.which;if(t.isOpen()){n===r.ESC||n===r.TAB||n===r.UP&&e.altKey?(t.close(),e.preventDefault()):n===r.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===r.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===r.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===r.DOWN&&(t.trigger("results:next",{}),e.preventDefault());var i=t.$dropdown.find(".select2-search__field");i.length||(i=t.$container.find(".select2-search__field")),n===r.DOWN||n===r.UP?t.focusOnActiveElement():(i.focus(),setTimeout(function(){t.focusOnActiveElement()},1e3))}else t.hasFocus()&&(n===r.ENTER||n===r.SPACE||n===r.DOWN)&&(t.open(),e.preventDefault())})},i.prototype.focusOnActiveElement=function(){this.isOpen()&&!n.isTouchscreen()&&this.$results.find("li.select2-results__option--highlighted").focus()},i.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},i.prototype._syncSubtree=function(e,t){var n=!1,r=this;if(e&&e.target&&e.target.nodeName!=="OPTION"&&e.target.nodeName!=="OPTGROUP")return;if(!t)n=!0;else if(t.addedNodes&&t.addedNodes.length>0)for(var i=0;i<t.addedNodes.length;i++){var s=t.addedNodes[i];s.selected&&(n=!0)}else t.removedNodes&&t.removedNodes.length>0&&(n=!0);n&&this.dataAdapter.current(function(e){r.trigger("selection:update",{data:e})})},i.prototype.trigger=function(e,t){var n=i.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};t===undefined&&(t={});if(e in r){var s=r[e],o={prevented:!1,name:e,args:t};n.call(this,s,o);if(o.prevented){t.prevented=!0;return}}n.call(this,e,t)},i.prototype.toggleDropdown=function(){if(this.options.get("disabled"))return;this.isOpen()?this.close():this.open()},i.prototype.open=function(){if(this.isOpen())return;this.trigger("query",{})},i.prototype.close=function(){if(!this.isOpen())return;this.trigger("close",{})},i.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},i.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},i.prototype.focus=function(e){if(this.hasFocus())return;this.$container.addClass("select2-container--focus"),this.trigger("focus",{})},i.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');if(e==null||e.length===0)e=[!0];var t=!e[0];this.$element.prop("disabled",t)},i.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},i.prototype.val=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.');if(t==null||t.length===0)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},i.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),this._observer!=null?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},i.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},i}),t.define("select2/compat/utils",["jquery"],function(e){function t(t,n,r){var i,s=[],o;i=e.trim(t.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each(function(){this.indexOf("select2-")===0&&s.push(this)})),i=e.trim(n.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each(function(){this.indexOf("select2-")!==0&&(o=r(this),o!=null&&s.push(o))})),t.attr("class",s.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function n(e){return null}function r(){}return r.prototype.render=function(r){var i=r.call(this),s=this.options.get("containerCssClass")||"";e.isFunction(s)&&(s=s(this.$element));var o=this.options.get("adaptContainerCssClass");o=o||n;if(s.indexOf(":all:")!==-1){s=s.replace(":all:","");var u=o;o=function(e){var t=u(e);return t!=null?t+" "+e:e}}var a=this.options.get("containerCss")||{};return e.isFunction(a)&&(a=a(this.$element)),t.syncCssClasses(i,this.$element,o),i.css(a),i.addClass(s),i},r}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function n(e){return null}function r(){}return r.prototype.render=function(r){var i=r.call(this),s=this.options.get("dropdownCssClass")||"";e.isFunction(s)&&(s=s(this.$element));var o=this.options.get("adaptDropdownCssClass");o=o||n;if(s.indexOf(":all:")!==-1){s=s.replace(":all:","");var u=o;o=function(e){var t=u(e);return t!=null?t+" "+e:e}}var a=this.options.get("dropdownCss")||{};return e.isFunction(a)&&(a=a(this.$element)),t.syncCssClasses(i,this.$element,o),i.css(a),i.addClass(s),i},r}),t.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return t.prototype.current=function(t,n){var r=this;if(this._isInitialized){t.call(this,n);return}this.initSelection.call(null,this.$element,function(t){r._isInitialized=!0,e.isArray(t)||(t=[t]),n(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(e){function t(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",",t.prop("type")==="hidden"&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return t.prototype.current=function(t,n){function r(t,n){var i=[];return t.selected||e.inArray(t.id,n)!==-1?(t.selected=!0,i.push(t)):t.selected=!1,t.children&&i.push.apply(i,r(t.children,n)),i}var i=[];for(var s=0;s<this._currentData.length;s++){var o=this._currentData[s];i.push.apply(i,r(o,this.$element.val().split(this._valueSeparator)))}n(i)},t.prototype.select=function(t,n){if(!this.options.get("multiple"))this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change");else{var r=this.$element.val();r+=this._valueSeparator+n.id,this.$element.val(r),this.$element.trigger("change")}},t.prototype.unselect=function(e,t){var n=this;t.selected=!1,this.current(function(e){var r=[];for(var i=0;i<e.length;i++){var s=e[i];if(t.id==s.id)continue;r.push(s.id)}n.$element.val(r.join(n._valueSeparator)),n.$element.trigger("change")})},t.prototype.query=function(e,t,n){var r=[];for(var i=0;i<this._currentData.length;i++){var s=this._currentData[i],o=this.matches(t,s);o!==null&&r.push(o)}n({results:r})},t.prototype.addOptions=function(t,n){var r=e.map(n,function(t){return e.data(t[0],"data")});this._currentData.push.apply(this._currentData,r)},t}),t.define("select2/compat/matcher",["jquery"],function(e){function t(t){function n(n,r){var i=e.extend(!0,{},r);if(n.term==null||e.trim(n.term)==="")return i;if(r.children){for(var s=r.children.length-1;s>=0;s--){var o=r.children[s],u=t(n.term,o.text,o);u||i.children.splice(s,1)}if(i.children.length>0)return i}return t(n.term,r.text,r)?i:null}return n}return t}),t.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n;var r=this.options.get("query");r.call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){var r=n.find(".dropdown-wrapper");r.append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var r=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(r.join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var r=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(r.join(" "),function(e){e.stopPropagation()})},e}),function(n){typeof t.define=="function"&&t.define.amd?t.define("jquery-mousewheel",["jquery"],n):typeof exports=="object"?module.exports=n:n(e)}(function(e){function a(t){var n=t||window.event,o=r.call(arguments,1),a=0,c=0,h=0,p=0,d=0,v=0;t=e.event.fix(n),t.type="mousewheel","detail"in n&&(h=n.detail*-1),"wheelDelta"in n&&(h=n.wheelDelta),"wheelDeltaY"in n&&(h=n.wheelDeltaY),"wheelDeltaX"in n&&(c=n.wheelDeltaX*-1),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(c=h*-1,h=0),a=h===0?c:h,"deltaY"in n&&(h=n.deltaY*-1,a=h),"deltaX"in n&&(c=n.deltaX,h===0&&(a=c*-1));if(h===0&&c===0)return;if(n.deltaMode===1){var m=e.data(this,"mousewheel-line-height");a*=m,h*=m,c*=m}else if(n.deltaMode===2){var g=e.data(this,"mousewheel-page-height");a*=g,h*=g,c*=g}p=Math.max(Math.abs(h),Math.abs(c));if(!s||p<s)s=p,l(n,p)&&(s/=40);l(n,p)&&(a/=40,c/=40,h/=40),a=Math[a>=1?"floor":"ceil"](a/s),c=Math[c>=1?"floor":"ceil"](c/s),h=Math[h>=1?"floor":"ceil"](h/s);if(u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();d=t.clientX-y.left,v=t.clientY-y.top}return t.deltaX=c,t.deltaY=h,t.deltaFactor=s,t.offsetX=d,t.offsetY=v,t.deltaMode=0,o.unshift(t,a,c,h),i&&clearTimeout(i),i=setTimeout(f,200),(e.event.dispatch||e.event.handle).apply(this,o)}function f(){s=null}function l(e,t){return u.settings.adjustOldDeltas&&e.type==="mousewheel"&&t%120===0}var t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice,i,s;if(e.event.fixHooks)for(var o=t.length;o;)e.event.fixHooks[t[--o]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],a,!1);else this.onmousewheel=a;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],a,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,n,r){if(e.fn.selectWoo==null){var i=["open","close","destroy"];e.fn.selectWoo=function(t){t=t||{};if(typeof t=="object")return this.each(function(){var r=e.extend(!0,{},t),i=new n(e(this),r)}),this;if(typeof t=="string"){var r,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this).data("select2");n==null&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an "+"element that is not using Select2."),r=n[t].apply(n,s)}),e.inArray(t,i)>-1?this:r}throw new Error("Invalid arguments for Select2: "+t)}}return e.fn.select2!=null&&e.fn.select2.defaults!=null&&(e.fn.selectWoo.defaults=e.fn.select2.defaults),e.fn.selectWoo.defaults==null&&(e.fn.selectWoo.defaults=r),e.fn.select2=e.fn.select2||e.fn.selectWoo,n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,e.fn.selectWoo.amd=t,n}),define("prefabLib/dropdownMenu/Create",["exports","underscore","./utils","jquery","select2"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function f(){this.exposed=r.default.isBoolean(this.exposed)?this.exposed:!0,this.tick=r.default.isBoolean(this.tick)?this.tick:!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var r=i(t),a=function(){function e(){s(this,e),this.renderer=null,this.width=50,this.options=[],this.title="",this.exposed=!0,this.tick=!1}return u(e,[{key:"start",value:function(){f.call(this);var t=(0,n.createConfig)(this.options,this.title,this.exposed,this.tick,this.width);this.renderer.$el.data("entity",null),this.renderer.$el.select2(t)}}]),e}();e.default=a}),define("prefabLib/utils/window",["exports","jquery"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(){return i.width()}Object.defineProperty(e,"__esModule",{value:!0}),e.getWidth=s;var n=r(t),i=(0,n.default)(window)}),define("prefabLib/dropdownMenu/Position",["exports","sim-utils/event/DeregisterEvent","../utils/window","./utils"],function(e,t,n,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(){var e=(0,n.getWidth)(),t=(0,r.getDropdownMenu)();if(t[0]){var i=t[0].getBoundingClientRect(),s=i.width,o=i.left,a=i.right;(0,r.hasNestedDropdown)()&&t.toggleClass("nested-left",a+u>=e),a>e&&t.css({marginLeft:this.width-s})}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var u=100,a=function(){function e(){i(this,e),this.renderer=null,this.width=50}return o(e,[{key:"start",value:function(){this.width=this.width||50,this.renderer.$el.on("select2:open.".concat(this.UID),f.bind(this))}},{key:"destroy",value:function(){(0,t.deregisterRendererEvent)(this.renderer,this.UID)}}]),e}();e.default=a}),define("prefabLib/dropdownButtons/utils",["exports","jquery"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return{data:s(e),templateResult:o,templateSelection:o,minimumResultsForSearch:-1,containerCssClass:"dropdown-buttons-container",dropdownCssClass:"dropdown-buttons-content"}}function s(e){return e.map(function(e){return{id:e.id,text:e.id,icon:e.icon}})}function o(e){return e.id?(0,n.default)(e.icon):e.text}Object.defineProperty(e,"__esModule",{value:!0}),e.createConfig=i;var n=r(t)}),define("prefabLib/dropdownButtons/Create",["exports","./utils","jquery","select2"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var s=function(){function e(){n(this,e),this.renderer=null,this.buttons=[]}return i(e,[{key:"start",value:function(){var n=(0,t.createConfig)(this.buttons);this.renderer.$el.data("entity",null),this.renderer.$el.select2(n)}}]),e}();e.default=s}),define("prefabLib/utils/DropdownTooltip",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function s(){var e=this.renderer.$el.data("select2");return e.$container.find("#".concat(e.$selection.attr("aria-labelledby")))}function o(){var e=s.call(this);e.attr("title",this.tooltip)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(){t(this,e),this.renderer=null,this.tooltip=""}return r(e,[{key:"start",value:function(){if(!this.tooltip){this.entity.removeComponent(this);return}this.renderer.$el.on("change.".concat(this.UID),o.bind(this)),o.call(this)}},{key:"destroy",value:function(){this.renderer&&this.renderer.$el&&this.renderer.$el.off&&this.renderer.$el.off(".".concat(this.UID))}}]),e}();e.default=i}),define("prefabLib/components",["exports","./colorPicker/CreateColorButtons","./colorPicker/SetBackground","./colorPickerPopup/Toggle","./dropdownMenu/Create","./dropdownMenu/Position","./dropdownButtons/Create","./utils/DropdownTooltip"],function(e,t,n,r,i,s,o,u){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"colorPickerCreateColorButtons",{enumerable:!0,get:function(){return a(t).default}}),Object.defineProperty(e,"colorPickerSetBackground",{enumerable:!0,get:function(){return a(n).default}}),Object.defineProperty(e,"colorPickerPopupToggle",{enumerable:!0,get:function(){return a(r).default}}),Object.defineProperty(e,"dropdownMenuCreate",{enumerable:!0,get:function(){return a(i).default}}),Object.defineProperty(e,"dropdownMenuPosition",{enumerable:!0,get:function(){return a(s).default}}),Object.defineProperty(e,"dropdownButtonsCreate",{enumerable:!0,get:function(){return a(o).default}}),Object.defineProperty(e,"dropdownTooltip",{enumerable:!0,get:function(){return a(u).default}})}),function(e){typeof define=="function"&&define.amd?define("selectWoo",["jquery"],e):typeof module=="object"&&module.exports?module.exports=function(t,n){return n===undefined&&(typeof window!="undefined"?n=require("jquery"):n=require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var t;return function(){if(!t||!t.requirejs){t?n=t:t={};var e,n,r;(function(t){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v,m=t&&t.split("/"),g=l.map,y=g&&g["*"]||{};if(e){e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e[0].charAt(0)==="."&&m&&(v=m.slice(0,m.length-1),e=v.concat(e));for(c=0;c<e.length;c++){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===0||c===1&&e[2]===".."||e[c-1]==="..")continue;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}if((m||y)&&g){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(m)for(h=m.length;h>0;h-=1){i=g[m.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&y&&y[r]&&(a=y[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(e,n){return function(){var r=p.call(arguments,0);return typeof r[0]!="string"&&r.length===1&&r.push(null),s.apply(t,r.concat([e,n]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(e){if(v(f,e)){var n=f[e];delete f[e],c[e]=!0,i.apply(t,n)}if(!v(a,e)&&!v(c,e))throw new Error("No "+e);return a[e]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return e?E(e):[]}function x(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0],s=t[1];return e=r[1],i&&(i=m(i,s),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(s)):e=m(e,s):(e=m(e,s),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:x(e)}}},i=function(e,n,r,i){var s,l,h,p,d,m,y=[],E=typeof r,x;i=i||e,m=S(i);if(E==="undefined"||E==="function"){n=!n.length&&r.length?["require","exports","module"]:n;for(d=0;d<n.length;d+=1){p=o(n[d],m),l=p.f;if(l==="require")y[d]=u.require(e);else if(l==="exports")y[d]=u.exports(e),x=!0;else if(l==="module")s=y[d]=u.module(e);else if(v(a,l)||v(f,l)||v(c,l))y[d]=w(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),y[d]=a[l]}}h=r?r.apply(a[e],y):undefined;if(e)if(s&&s.exports!==t&&s.exports!==a[e])a[e]=s.exports;else if(h!==t||!x)a[e]=h}else e&&(a[e]=r)},e=n=s=function(e,n,r,a,f){if(typeof e=="string")return u[e]?u[e](n):w(o(e,S(n)).f);if(!e.splice){l=e,l.deps&&s(l.deps,l.callback);if(!n)return;n.splice?(e=n,n=r,r=null):e=t}return n=n||function(){},typeof r=="function"&&(r=a,a=f),a?i(t,e,n,r):setTimeout(function(){i(t,e,n,r)},4),s},s.config=function(e){return s(e)},e._defined=a,r=function(e,t,n){if(typeof e!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},r.amd={jQuery:!0}})(),t.requirejs=e,t.require=n,t.define=r}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return t==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function n(e){var t=e.prototype,n=[];for(var r in t){var i=t[r];if(typeof i!="function")continue;if(r==="constructor")continue;n.push(r)}return n}var t={};t.Extend=function(e,t){function r(){this.constructor=e}var n={}.hasOwnProperty;for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},t.Decorate=function(e,t){function s(){var n=Array.prototype.unshift,r=t.prototype.constructor.length,i=e.prototype.constructor;r>0&&(n.call(arguments,e.prototype.constructor),i=t.prototype.constructor),i.apply(this,arguments)}function o(){this.constructor=s}var r=n(t),i=n(e);t.displayName=e.displayName,s.prototype=new o;for(var u=0;u<i.length;u++){var a=i[u];s.prototype[a]=e.prototype[a]}var f=function(e){var n=function(){};e in s.prototype&&(n=s.prototype[e]);var r=t.prototype[e];return function(){var e=Array.prototype.unshift;return e.call(arguments,n),r.apply(this,arguments)}};for(var l=0;l<r.length;l++){var c=r[l];s.prototype[c]=f(c)}return s};var r=function(){this.listeners={}};return r.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},r.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},n==null&&(n=[]),n.length===0&&n.push({}),n[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},r.prototype.invoke=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n].apply(this,t)},t.Observable=r,t.generateChars=function(e){var t="";for(var n=0;n<e;n++){var r=Math.floor(Math.random()*36);t+=r.toString(36)}return t},t.bind=function(e,t){return function(){e.apply(t,arguments)}},t._convertData=function(e){for(var t in e){var n=t.split("-"),r=e;if(n.length===1)continue;for(var i=0;i<n.length;i++){var s=n[i];s=s.substring(0,1).toLowerCase()+s.substring(1),s in r||(r[s]={}),i==n.length-1&&(r[s]=e[t]),r=r[s]}delete e[t]}return e},t.hasScroll=function(t,n){var r=e(n),i=n.style.overflowX,s=n.style.overflowY;return i!==s||s!=="hidden"&&s!=="visible"?i==="scroll"||s==="scroll"?!0:r.innerHeight()<n.scrollHeight||r.innerWidth()<n.scrollWidth:!1},t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof e!="string"?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},t.appendMany=function(t,n){if(e.fn.jquery.substr(0,3)==="1.7"){var r=e();e.map(n,function(e){r=r.add(e)}),n=r}t.append(n)},t.isTouchscreen=function(){return"undefined"==typeof t._isTouchscreenCache&&(t._isTouchscreenCache="ontouchstart"in document.documentElement),t._isTouchscreenCache},t}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,r){this.$element=e,this.data=r,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox" tabindex="-1"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var r=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(t.message);r.append(n(i(t.args))),r[0].className+=" select2-results__message",this.$results.append(r)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(e.results==null||e.results.length===0){this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"});return}e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var r=e.results[n],i=this.option(r);t.push(i)}this.$results.append(t)},n.prototype.position=function(e,t){var n=t.find(".select2-results");n.append(e)},n.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[data-selected]"),t=e.filter("[data-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var t=this;this.data.current(function(n){var r=e.map(n,function(e){return e.id.toString()}),i=t.$results.find(".select2-results__option[data-selected]");i.each(function(){var t=e(this),n=e.data(this,"data"),i=""+n.id;n.element!=null&&n.element.selected||n.element==null&&e.inArray(i,r)>-1?t.attr("data-selected","true"):t.attr("data-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:t(e)},r=this.option(n);r.className+=" loading-results",this.$results.prepend(r)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var r={role:"option","data-selected":"false",tabindex:-1};t.disabled&&(delete r["data-selected"],r["aria-disabled"]="true"),t.id==null&&delete r["data-selected"],t._resultId!=null&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(r["aria-label"]=t.text,delete r["data-selected"]);for(var i in r){var s=r[i];n.setAttribute(i,s)}if(t.children){var o=e(n),u=document.createElement("strong");u.className="select2-results__group";var a=e(u);this.template(t,u),a.attr("role","presentation");var f=[];for(var l=0;l<t.children.length;l++){var c=t.children[l],h=this.option(c);f.push(h)}var p=e("<ul></ul>",{"class":"select2-results__options select2-results__options--nested",role:"listbox"});p.append(f),o.attr("role","list"),o.append(u),o.append(p)}else this.template(t,n);return e.data(n,"data",t),n},n.prototype.bind=function(t,n){var r=this,i=t.id+"-results";this.$results.attr("id",i),t.on("results:all",function(e){r.clear(),r.append(e.data),t.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),t.on("results:append",function(e){r.append(e.data),t.isOpen()&&r.setClasses()}),t.on("query",function(e){r.hideMessages(),r.showLoading(e)}),t.on("select",function(){if(!t.isOpen())return;r.setClasses(),r.highlightFirstItem()}),t.on("unselect",function(){if(!t.isOpen())return;r.setClasses(),r.highlightFirstItem()}),t.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),t.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=r.getHighlightedResults();if(e.length===0)return;e.trigger("mouseup")}),t.on("results:select",function(){var e=r.getHighlightedResults();if(e.length===0)return;var t=e.data("data");e.attr("data-selected")=="true"?r.trigger("close",{}):r.trigger("select",{data:t})}),t.on("results:previous",function(){var e=r.getHighlightedResults(),t=r.$results.find("[data-selected]"),n=t.index(e);if(n===0)return;var i=n-1;e.length===0&&(i=0);var s=t.eq(i);s.trigger("mouseenter");var o=r.$results.offset().top,u=s.offset().top,a=r.$results.scrollTop()+(u-o);i===0?r.$results.scrollTop(0):u-o<0&&r.$results.scrollTop(a)}),t.on("results:next",function(){var e=r.getHighlightedResults(),t=r.$results.find("[data-selected]"),n=t.index(e),i=n+1;if(i>=t.length)return;var s=t.eq(i);s.trigger("mouseenter");var o=r.$results.offset().top+r.$results.outerHeight(!1),u=s.offset().top+s.outerHeight(!1),a=r.$results.scrollTop()+u-o;i===0?r.$results.scrollTop(0):u>o&&r.$results.scrollTop(a)}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted").attr("aria-selected","true"),r.$results.attr("aria-activedescendant",e.element.attr("id"))}),t.on("results:message",function(e){r.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=r.$results.scrollTop(),n=r.$results.get(0).scrollHeight-t+e.deltaY,i=e.deltaY>0&&t-e.deltaY<=0,s=e.deltaY<0&&n<=r.$results.height();i?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):s&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[data-selected]",function(t){var n=e(this),i=n.data("data");if(n.attr("data-selected")==="true"){r.options.get("multiple")?r.trigger("unselect",{originalEvent:t,data:i}):r.trigger("close",{});return}r.trigger("select",{originalEvent:t,data:i})}),this.$results.on("mouseenter",".select2-results__option[data-selected]",function(t){var n=e(this).data("data");r.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),r.trigger("results:focus",{data:n,element:e(this)})})},n.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(e.length===0)return;var t=this.$results.find("[data-selected]"),n=t.index(e),r=this.$results.offset().top,i=e.offset().top,s=this.$results.scrollTop()+(i-r),o=i-r;s-=e.outerHeight(!1)*2,n<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(s)},n.prototype.template=function(t,n){var r=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),s=r(t,n);s==null?n.style.display="none":typeof s=="string"?n.innerHTML=i(s):e(n).append(s)},n}),t.define("select2/keys",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return e}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var t=e('<span class="select2-selection"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,this.$element.data("old-tabindex")!=null?this._tabindex=this.$element.data("old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},r.prototype.bind=function(e,t){var r=this,i=e.id+"-container",s=e.id+"-results",o=this.options.get("minimumResultsForSearch")===Infinity;this.container=e,this.$selection.on("focus",function(e){r.trigger("focus",e)}),this.$selection.on("blur",function(e){r._handleBlur(e)}),this.$selection.on("keydown",function(e){r.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){r.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){r.update(e.data)}),e.on("open",function(){r.$selection.attr("aria-expanded","true"),r.$selection.attr("aria-owns",s),r._attachCloseHandler(e)}),e.on("close",function(){r.$selection.attr("aria-expanded","false"),r.$selection.removeAttr("aria-activedescendant"),r.$selection.removeAttr("aria-owns"),window.setTimeout(function(){r.$selection.focus()},1),r._detachCloseHandler(e)}),e.on("enable",function(){r.$selection.attr("tabindex",r._tabindex)}),e.on("disable",function(){r.$selection.attr("tabindex","-1")})},r.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){if(document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement))return;n.trigger("blur",t)},1)},r.prototype._attachCloseHandler=function(t){var n=this;e(document.body).on("mousedown.select2."+t.id,function(t){var n=e(t.target),r=n.closest(".select2"),i=e(".select2.select2-container--open");i.each(function(){var t=e(this);if(this==r[0])return;var i=t.data("element");i.select2("close"),setTimeout(function(){t.find("*:focus").blur(),n.focus()},1)})})},r.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(e,t){var n=t.find(".selection");n.append(e)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},r}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,r){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},i.prototype.bind=function(e,t){var n=this;i.__super__.bind.apply(this,arguments);var r=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",r),this.$selection.attr("role","combobox"),this.$selection.on("mousedown",function(e){if(e.which!==1)return;n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("keydown",function(t){!e.isOpen()&&t.which>=48&&t.which<=90&&e.open()}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()}),e.on("selection:update",function(e){n.update(e.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e,t){var n=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(n(e,t))},i.prototype.selectionContainer=function(){return e("<span></span>")},i.prototype.update=function(e){if(e.length===0){this.clear();return}var t=e[0],n=this.$selection.find(".select2-selection__rendered"),r=this.display(t,n);n.empty().append(r),n.prop("title",t.title||t.text)},i}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function r(e,t){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered" aria-live="polite" aria-relevant="additions removals" aria-atomic="true"></ul>'),e},r.prototype.bind=function(t,n){var i=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){i.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(i.options.get("disabled"))return;var n=e(this),r=n.parent(),s=r.data("data");i.trigger("unselect",{originalEvent:t,data:s})}),this.$selection.on("keydown",function(e){!t.isOpen()&&e.which>=48&&e.which<=90&&t.open()}),t.on("focus",function(){i.focusOnSearch()})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(e,t){var n=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(n(e,t))},r.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation" aria-hidden="true">&times;</span></li>');return t},r.prototype.focusOnSearch=function(){var e=this;"undefined"!=typeof e.$search&&setTimeout(function(){e._keyUpPrevented=!0,e.$search.focus()},1)},r.prototype.update=function(e){this.clear();if(e.length===0)return;var t=[];for(var r=0;r<e.length;r++){var i=e[r],s=this.selectionContainer(),o=this.display(i,s);"string"==typeof o&&(o=o.trim()),s.append(o),s.prop("title",i.title||i.text),s.data("data",i),t.push(s)}var u=this.$selection.find(".select2-selection__rendered");n.appendMany(u,t)},r}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return typeof t=="string"&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=t.length==1&&t[0].id!=this.placeholder.id,r=t.length>1;if(r||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function n(){}return n.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){r._handleClear(e)}),t.on("keypress",function(e){r._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(this.options.get("disabled"))return;var n=this.$selection.find(".select2-selection__clear");if(n.length===0)return;t.stopPropagation();var r=n.data("data");for(var i=0;i<r.length;i++){var s={data:r[i]};this.trigger("unselect",s);if(s.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})},n.prototype._handleKeyboardClear=function(e,n,r){if(r.isOpen())return;(n.which==t.DELETE||n.which==t.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(t,n){t.call(this,n);if(this.$selection.find(".select2-selection__placeholder").length>0||n.length===0)return;var r=e('<span class="select2-selection__clear">&times;</span>');r.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(r)},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function r(e,t,n){e.call(this,t,n)}return r.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="text" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var r=t.call(this);return this._transferTabIndex(),r},r.prototype.bind=function(e,t,r){var i=this,s=t.id+"-results";e.call(this,t,r),t.on("open",function(){i.$search.attr("aria-owns",s),i.$search.trigger("focus")}),t.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-activedescendant"),i.$search.removeAttr("aria-owns"),i.$search.trigger("focus")}),t.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),t.on("disable",function(){i.$search.prop("disabled",!0)}),t.on("focus",function(e){i.$search.trigger("focus")}),t.on("results:focus",function(e){i.$search.attr("aria-activedescendant",e.data._resultId)}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented();var r=e.which;if(r===n.BACKSPACE&&i.$search.val()===""){var s=i.$searchContainer.prev(".select2-selection__choice");if(s.length>0){var o=s.data("data");i.searchRemoveChoice(o),e.preventDefault()}}else e.which===n.ENTER&&(t.open(),e.preventDefault())});var o=document.documentMode,u=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){if(u){i.$selection.off("input.search input.searchcheck");return}i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(u&&e.type==="input"){i.$selection.off("input.search input.searchcheck");return}var t=e.which;if(t==n.SHIFT||t==n.CTRL||t==n.ALT)return;if(t==n.TAB)return;i.handleSearch(e)})},r.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},r.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},r.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(this.$search.attr("placeholder")!=="")e=this.$selection.find(".select2-selection__rendered").innerWidth();else{var t=this.$search.val().length+1;e=t*.75+"em"}this.$search.css("width",e)},r}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,r){var i=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];t.call(this,n,r),n.on("*",function(t,n){if(e.inArray(t,s)===-1)return;n=n||{};var r=e.Event("select2:"+t,{params:n});i.$element.trigger(r);if(e.inArray(t,o)===-1)return;n.prevented=r.isDefaultPrevented()})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var r=t(e);n._cache[e]=r}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){var e={"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï"};return e}),t.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var r="";return t!=null?r+=t.id:r+=e.generateChars(4),r+="-result-",r+=e.generateChars(4),n.id!=null?r+="-"+n.id.toString():r+="-"+e.generateChars(4),r},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,e),r.prototype.current=function(e){var t=[],r=this;this.$element.find(":selected").each(function(){var e=n(this),i=r.item(e);t.push(i)}),e(t)},r.prototype.select=function(e){var t=this;e.selected=!0;if(n(e.element).is("option")){e.element.selected=!0,this.$element.trigger("change");return}if(this.$element.prop("multiple"))this.current(function(r){var i=[];e=[e],e.push.apply(e,r);for(var s=0;s<e.length;s++){var o=e[s].id;n.inArray(o,i)===-1&&i.push(o)}t.$element.val(i),t.$element.trigger("change")});else{var r=e.id;this.$element.val(r),this.$element.trigger("change")}},r.prototype.unselect=function(e){var t=this;if(!this.$element.prop("multiple"))return;e.selected=!1;if(n(e.element).is("option")){e.element.selected=!1,this.$element.trigger("change");return}this.current(function(r){var i=[];for(var s=0;s<r.length;s++){var o=r[s].id;o!==e.id&&n.inArray(o,i)===-1&&i.push(o)}t.$element.val(i),t.$element.trigger("change")})},r.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},r.prototype.query=function(e,t){var r=[],i=this,s=this.$element.children();s.each(function(){var t=n(this);if(!t.is("option")&&!t.is("optgroup"))return;var s=i.item(t),o=i.matches(e,s);o!==null&&r.push(o)}),t({results:r})},r.prototype.addOptions=function(e){t.appendMany(this.$element,e)},r.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup"),t.label=e.text):(t=document.createElement("option"),t.textContent!==undefined?t.textContent=e.text:t.innerText=e.text),e.id!==undefined&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var r=n(t),i=this._normalizeItem(e);return i.element=t,n.data(t,"data",i),r},r.prototype.item=function(e){var t={};t=n.data(e[0],"data");if(t!=null)return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};var r=e.children("option"),i=[];for(var s=0;s<r.length;s++){var o=n(r[s]),u=this.item(o);i.push(u)}t.children=i}return t=this._normalizeItem(t),t.element=e[0],n.data(e[0],"data",t),t},r.prototype._normalizeItem=function(e){n.isPlainObject(e)||(e={id:e,text:e}),e=n.extend({},{text:""},e);var t={selected:!1,disabled:!1};return e.id!=null&&(e.id=e.id.toString()),e.text!=null&&(e.text=e.text.toString()),e._resultId==null&&e.id&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},t,e)},r.prototype.matches=function(e,t){var n=this.options.get("matcher");return n(e,t)},r}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function r(e,t){var n=t.get("data")||[];r.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(r,e),r.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});t.length===0&&(t=this.option(e),this.addOptions(t)),r.__super__.select.call(this,e)},r.prototype.convertToOptions=function(e){function u(e){return function(){return n(this).val()==e.id}}var r=this,i=this.$element.find("option"),s=i.map(function(){return r.item(n(this)).id}).get(),o=[];for(var a=0;a<e.length;a++){var f=this._normalizeItem(e[a]);if(n.inArray(f.id,s)>=0){var l=i.filter(u(f)),c=this.item(l),h=n.extend(!0,{},f,c),p=this.option(h);l.replaceWith(p);continue}var d=this.option(f);if(f.children){var v=this.convertToOptions(f.children);t.appendMany(d,v)}o.push(d)}return o},r}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function r(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults),r.__super__.constructor.call(this,e,t)}return t.Extend(r,e),r.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,r){var i=n.ajax(e);return i.then(t),i.fail(r),i}};return n.extend({},t,e,!0)},r.prototype.processResults=function(e){return e},r.prototype.query=function(e,t){function o(){var r=s.transport(s,function(r){var s=i.processResults(r,e);i.options.get("debug")&&window.console&&console.error&&(!s||!s.results||!n.isArray(s.results))&&console.error("Select2: The AJAX results did not return an array in the `results` key of the response."),t(s),i.container.focusOnActiveElement()},function(){if(r.status&&r.status==="0")return;i.trigger("results:message",{message:"errorLoading"})});i._request=r}var r=[],i=this;this._request!=null&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var s=n.extend({type:"GET"},this.ajaxOptions);typeof s.url=="function"&&(s.url=s.url.call(this.$element,e)),typeof s.data=="function"&&(s.data=s.data.call(this.$element,e)),this.ajaxOptions.delay&&e.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(o,this.ajaxOptions.delay)):o()},r}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,r){var i=r.get("tags"),s=r.get("createTag");s!==undefined&&(this.createTag=s);var o=r.get("insertTag");o!==undefined&&(this.insertTag=o),t.call(this,n,r);if(e.isArray(i))for(var u=0;u<i.length;u++){var a=i[u],f=this._normalizeItem(a),l=this.option(f);this.$element.append(l)}}return t.prototype.query=function(e,t,n){function i(e,s){var o=e.results;for(var u=0;u<o.length;u++){var a=o[u],f=a.children!=null&&!i({results:a.children},!0),l=(a.text||"").toUpperCase(),c=(t.term||"").toUpperCase(),h=l===c;if(h||f){if(s)return!1;e.data=o,n(e);return}}if(s)return!0;var p=r.createTag(t);if(p!=null){var d=r.option(p);d.attr("data-select2-tag",!0),r.addOptions([d]),r.insertTag(o,p)}e.results=o,n(e)}var r=this;this._removeOldTags();if(t.term==null||t.page!=null){e.call(this,t,n);return}e.call(this,t,i)},t.prototype.createTag=function(t,n){var r=e.trim(n.term);return r===""?null:{id:r,text:r}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){var n=this._lastTag,r=this.$element.find("option[data-select2-tag]");r.each(function(){if(this.selected)return;e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var r=n.get("tokenizer");r!==undefined&&(this.tokenizer=r),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,r){function s(t){var n=i._normalizeItem(t),r=i.$element.find("option").filter(function(){return e(this).val()===n.id});if(!r.length){var s=i.option(n);s.attr("data-select2-tag",!0),i._removeOldTags(),i.addOptions([s])}o(n)}function o(e){i.trigger("select",{data:e})}var i=this;n.term=n.term||"";var u=this.tokenizer(n,this.options,s);u.term!==n.term&&(this.$search.length&&(this.$search.val(u.term),this.$search.focus()),n.term=u.term),t.call(this,n,r)},t.prototype.tokenizer=function(t,n,r,i){var s=r.get("tokenSeparators")||[],o=n.term,u=0,a=this.createTag||function(e){return{id:e.term,text:e.term}};while(u<o.length){var f=o[u];if(e.inArray(f,s)===-1){u++;continue}var l=o.substr(0,u),c=e.extend({},n,{term:l}),h=a(c);if(h==null){u++;continue}i(h),o=o.substr(u+1)||"",u=0}return{term:o}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"";if(t.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});return}e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"";if(this.maximumInputLength>0&&t.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}});return}e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var r=this;this.current(function(i){var s=i!=null?i.length:0;if(r.maximumSelectionLength>0&&s>=r.maximumSelectionLength){r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}});return}e.call(r,t,n)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),r=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="text" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="true" /></span>');return this.$searchContainer=r,this.$search=r.find("input"),n.prepend(r),n},n.prototype.bind=function(t,n,r){var i=this,s=n.id+"-results";t.call(this,n,r),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),n.on("open",function(){i.$search.attr("tabindex",0),i.$search.attr("aria-owns",s),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),n.on("close",function(){i.$search.attr("tabindex",-1),i.$search.removeAttr("aria-activedescendant"),i.$search.removeAttr("aria-owns"),i.$search.val("")}),n.on("focus",function(){n.isOpen()||i.$search.focus()}),n.on("results:all",function(e){if(e.query.term==null||e.query.term===""){var t=i.showSearch(e);t?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide")}}),n.on("results:focus",function(e){i.$search.attr("aria-activedescendant",e.data._resultId)})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,r){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,r)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return typeof t=="string"&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){var n=t.slice(0);for(var r=t.length-1;r>=0;r--){var i=t[r];this.placeholder.id===i.id&&n.splice(r,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,r){this.lastParams={},e.call(this,t,n,r),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,n,r){var i=this;t.call(this,n,r),n.on("query",function(e){i.lastParams=e,i.loading=!0}),n.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,i.$loadingMore[0]);if(i.loading||!t)return;var n=i.$results.offset().top+i.$results.outerHeight(!1),r=i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1);n+50>=r&&i.loadMore()})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,r){this.$dropdownParent=r.get("dropdownParent")||e(document.body),t.call(this,n,r)}return n.prototype.bind=function(e,t,n){var r=this,i=!1;e.call(this,t,n),t.on("open",function(){r._showDropdown(),r._attachPositioningHandler(t),i||(i=!0,t.on("results:all",function(){r._positionDropdown(),r._resizeDropdown()}),t.on("results:append",function(){r._positionDropdown(),r._resizeDropdown()}))}),t.on("close",function(){r._hideDropdown(),r._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),r=t.call(this);return n.append(r),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,r){var i=this,s="scroll.select2."+r.id,o="resize.select2."+r.id,u="orientationchange.select2."+r.id,a=this.$container.parents().filter(t.hasScroll);a.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),a.on(s,function(t){var n=e(this).data("select2-scroll-position");e(this).find(".select2-container--open").size()>0&&e(this).scrollTop(n.y)}),e(window).on(s+" "+o+" "+u,function(e){i._positionDropdown(),i._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,r){var i="scroll.select2."+r.id,s="resize.select2."+r.id,o="orientationchange.select2."+r.id,u=this.$container.parents().filter(t.hasScroll);u.off(i),e(window).off(i+" "+s+" "+o)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),r=this.$dropdown.hasClass("select2-dropdown--below"),i=null,s=this.$container.offset();s.bottom=s.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=s.top,o.bottom=s.top+o.height;var u={height:this.$dropdown.outerHeight(!1)},a={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},f=a.top<s.top-u.height,l=a.bottom>s.bottom+u.height,c={left:s.left,top:o.bottom},h=this.$dropdownParent;h.css("position")==="static"&&(h=h.offsetParent());var p=h.offset();c.top-=p.top,c.left-=p.left,!n&&!r&&(i="below"),!l&&f&&!n?i="above":!f&&l&&n&&(i="below");if(i=="above"||n&&i!=="below")c.top=o.top-p.top-u.height;i!=null&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(c)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){var n=0;for(var r=0;r<t.length;r++){var i=t[r];i.children?n+=e(i.children):n++}return n}function t(e,t,n,r){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=Infinity),e.call(this,t,n,r)}return t.prototype.showSearch=function(t,n){return e(n.data.results)<this.minimumResultsForSearch?!1:t.call(this,n)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("close",function(e){r._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&t.originalSelect2Event!=null){var n=t.originalSelect2Event;if(n._type==="select"||n._type==="unselect")return}var r=this.getHighlightedResults();if(r.length<1)return;var i=r.data("data");if(i.element!=null&&i.element.selected||i.element==null&&i.selected)return;this.trigger("select",{data:i})},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",function(e){r._selectTriggered(e)}),t.on("unselect",function(e){r._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;if(n&&n.ctrlKey)return;this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return t!=1&&(n+="s"),n},inputTooShort:function(e){var t=e.minimum-e.input.length,n="Please enter "+t+" or more characters";return n},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return e.maximum!=1&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L){function A(){this.reset()}A.prototype.apply=function(c){c=e.extend(!0,{},this.defaults,c);if(c.dataAdapter==null){c.ajax!=null?c.dataAdapter=d:c.data!=null?c.dataAdapter=p:c.dataAdapter=h,c.minimumInputLength>0&&(c.dataAdapter=f.Decorate(c.dataAdapter,g)),c.maximumInputLength>0&&(c.dataAdapter=f.Decorate(c.dataAdapter,y)),c.maximumSelectionLength>0&&(c.dataAdapter=f.Decorate(c.dataAdapter,b)),c.tags&&(c.dataAdapter=f.Decorate(c.dataAdapter,v));if(c.tokenSeparators!=null||c.tokenizer!=null)c.dataAdapter=f.Decorate(c.dataAdapter,m);if(c.query!=null){var L=t(c.amdBase+"compat/query");c.dataAdapter=f.Decorate(c.dataAdapter,L)}if(c.initSelection!=null){var A=t(c.amdBase+"compat/initSelection");c.dataAdapter=f.Decorate(c.dataAdapter,A)}}c.resultsAdapter==null&&(c.resultsAdapter=n,c.ajax!=null&&(c.resultsAdapter=f.Decorate(c.resultsAdapter,x)),c.placeholder!=null&&(c.resultsAdapter=f.Decorate(c.resultsAdapter,S)),c.selectOnClose&&(c.resultsAdapter=f.Decorate(c.resultsAdapter,C)));if(c.dropdownAdapter==null){if(c.multiple)c.dropdownAdapter=w;else{var O=f.Decorate(w,E);c.dropdownAdapter=O}c.minimumResultsForSearch!==0&&(c.dropdownAdapter=f.Decorate(c.dropdownAdapter,N)),c.closeOnSelect&&(c.dropdownAdapter=f.Decorate(c.dropdownAdapter,k));if(c.dropdownCssClass!=null||c.dropdownCss!=null||c.adaptDropdownCssClass!=null){var M=t(c.amdBase+"compat/dropdownCss");c.dropdownAdapter=f.Decorate(c.dropdownAdapter,M)}c.dropdownAdapter=f.Decorate(c.dropdownAdapter,T)}if(c.selectionAdapter==null){c.multiple?c.selectionAdapter=i:c.selectionAdapter=r,c.placeholder!=null&&(c.selectionAdapter=f.Decorate(c.selectionAdapter,s)),c.allowClear&&(c.selectionAdapter=f.Decorate(c.selectionAdapter,o)),c.multiple&&(c.selectionAdapter=f.Decorate(c.selectionAdapter,u));if(c.containerCssClass!=null||c.containerCss!=null||c.adaptContainerCssClass!=null){var _=t(c.amdBase+"compat/containerCss");c.selectionAdapter=f.Decorate(c.selectionAdapter,_)}c.selectionAdapter=f.Decorate(c.selectionAdapter,a)}if(typeof c.language=="string")if(c.language.indexOf("-")>0){var D=c.language.split("-"),P=D[0];c.language=[c.language,P]}else c.language=[c.language];if(e.isArray(c.language)){var H=new l;c.language.push("en");var B=c.language;for(var j=0;j<B.length;j++){var F=B[j],I={};try{I=l.loadPath(F)}catch(q){try{F=this.defaults.amdLanguageBase+F,I=l.loadPath(F)}catch(R){c.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+F+'" could not be '+"automatically loaded. A fallback will be used instead.");continue}}H.extend(I)}c.translations=H}else{var U=l.loadPath(this.defaults.amdLanguageBase+"en"),z=new l(c.language);z.extend(U),c.translations=z}return c},A.prototype.reset=function(){function t(e){function t(e){return c[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(r,i){if(e.trim(r.term)==="")return i;if(i.children&&i.children.length>0){var s=e.extend(!0,{},i);for(var o=i.children.length-1;o>=0;o--){var u=i.children[o],a=n(r,u);a==null&&s.children.splice(o,1)}return s.children.length>0?s:n(r,s)}var f=t(i.text).toUpperCase(),l=t(r.term).toUpperCase();return f.indexOf(l)>-1?i:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:f.escapeMarkup,language:L,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},A.prototype.set=function(t,n){var r=e.camelCase(t),i={};i[r]=n;var s=f._convertData(i);e.extend(this.defaults,s)};var O=new A;return O}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,r){function i(t,i){this.options=t,i!=null&&this.fromElement(i),this.options=n.apply(this.options);if(i&&i.is("input")){var s=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,s)}}return i.prototype.fromElement=function(e){var n=["select2"];this.options.multiple==null&&(this.options.multiple=e.prop("multiple")),this.options.disabled==null&&(this.options.disabled=e.prop("disabled")),this.options.language==null&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),this.options.dir==null&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var i={};t.fn.jquery&&t.fn.jquery.substr(0,2)=="1."&&e[0].dataset?i=t.extend(!0,{},e[0].dataset,e.data()):i=e.data();var s=t.extend(!0,{},i);s=r._convertData(s);for(var o in s){if(t.inArray(o,n)>-1)continue;t.isPlainObject(this.options[o])?t.extend(this.options[o],s[o]):this.options[o]=s[o]}return this},i.prototype.get=function(e){return this.options[e]},i.prototype.set=function(e,t){this.options[e]=t},i}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,r){var i=function(e,n){e.data("select2")!=null&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),i.__super__.constructor.call(this);var r=e.attr("tabindex")||0;e.data("old-tabindex",r),e.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(e,this.options);var o=this.render();this._placeContainer(o);var u=this.options.get("selectionAdapter");this.selection=new u(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var a=this.options.get("dropdownAdapter");this.dropdown=new a(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var f=this.options.get("resultsAdapter");this.results=new f(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){l.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(i,n.Observable),i.prototype._generateId=function(e){var t="";return e.attr("id")!=null?t=e.attr("id"):e.attr("name")!=null?t=e.attr("name")+"-"+n.generateChars(2):t=n.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t,t},i.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));t!=null&&e.css("width",t)},i.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(t=="resolve"){var r=this._resolveWidth(e,"style");return r!=null?r:this._resolveWidth(e,"element")}if(t=="element"){var i=e.outerWidth(!1);return i<=0?"auto":i+"px"}if(t=="style"){var s=e.attr("style");if(typeof s!="string")return null;var o=s.split(";");for(var u=0,a=o.length;u<a;u+=1){var f=o[u].replace(/\s/g,""),l=f.match(n);if(l!==null&&l.length>=1)return l[1]}return null}return t},i.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},i.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;r!=null?(this._observer=new r(function(n){e.each(n,t._syncA),e.each(n,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},i.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(r,i){if(e.inArray(r,n)!==-1)return;t.trigger(r,i)})},i.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("open",function(){setTimeout(function(){t.focusOnActiveElement()},1)}),e(document).on("keydown",function(e){var n=e.which;if(t.isOpen()){n===r.ESC||n===r.TAB||n===r.UP&&e.altKey?(t.close(),e.preventDefault()):n===r.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===r.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===r.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===r.DOWN&&(t.trigger("results:next",{}),e.preventDefault());var i=t.$dropdown.find(".select2-search__field");i.length||(i=t.$container.find(".select2-search__field")),n===r.DOWN||n===r.UP?t.focusOnActiveElement():(i.focus(),setTimeout(function(){t.focusOnActiveElement()},1e3))}else t.hasFocus()&&(n===r.ENTER||n===r.SPACE||n===r.DOWN)&&(t.open(),e.preventDefault())})},i.prototype.focusOnActiveElement=function(){this.isOpen()&&!n.isTouchscreen()&&this.$results.find("li.select2-results__option--highlighted").focus()},i.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},i.prototype._syncSubtree=function(e,t){var n=!1,r=this;if(e&&e.target&&e.target.nodeName!=="OPTION"&&e.target.nodeName!=="OPTGROUP")return;if(!t)n=!0;else if(t.addedNodes&&t.addedNodes.length>0)for(var i=0;i<t.addedNodes.length;i++){var s=t.addedNodes[i];s.selected&&(n=!0)}else t.removedNodes&&t.removedNodes.length>0&&(n=!0);n&&this.dataAdapter.current(function(e){r.trigger("selection:update",{data:e})})},i.prototype.trigger=function(e,t){var n=i.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};t===undefined&&(t={});if(e in r){var s=r[e],o={prevented:!1,name:e,args:t};n.call(this,s,o);if(o.prevented){t.prevented=!0;return}}n.call(this,e,t)},i.prototype.toggleDropdown=function(){if(this.options.get("disabled"))return;this.isOpen()?this.close():this.open()},i.prototype.open=function(){if(this.isOpen())return;this.trigger("query",{})},i.prototype.close=function(){if(!this.isOpen())return;this.trigger("close",{})},i.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},i.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},i.prototype.focus=function(e){if(this.hasFocus())return;this.$container.addClass("select2-container--focus"),this.trigger("focus",{})},i.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');if(e==null||e.length===0)e=[!0];var t=!e[0];this.$element.prop("disabled",t)},i.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},i.prototype.val=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.');if(t==null||t.length===0)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},i.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),this._observer!=null?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},i.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},i}),t.define("select2/compat/utils",["jquery"],function(e){function t(t,n,r){var i,s=[],o;i=e.trim(t.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each(function(){this.indexOf("select2-")===0&&s.push(this)})),i=e.trim(n.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each(function(){this.indexOf("select2-")!==0&&(o=r(this),o!=null&&s.push(o))})),t.attr("class",s.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function n(e){return null}function r(){}return r.prototype.render=function(r){var i=r.call(this),s=this.options.get("containerCssClass")||"";e.isFunction(s)&&(s=s(this.$element));var o=this.options.get("adaptContainerCssClass");o=o||n;if(s.indexOf(":all:")!==-1){s=s.replace(":all:","");var u=o;o=function(e){var t=u(e);return t!=null?t+" "+e:e}}var a=this.options.get("containerCss")||{};return e.isFunction(a)&&(a=a(this.$element)),t.syncCssClasses(i,this.$element,o),i.css(a),i.addClass(s),i},r}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function n(e){return null}function r(){}return r.prototype.render=function(r){var i=r.call(this),s=this.options.get("dropdownCssClass")||"";e.isFunction(s)&&(s=s(this.$element));var o=this.options.get("adaptDropdownCssClass");o=o||n;if(s.indexOf(":all:")!==-1){s=s.replace(":all:","");var u=o;o=function(e){var t=u(e);return t!=null?t+" "+e:e}}var a=this.options.get("dropdownCss")||{};return e.isFunction(a)&&(a=a(this.$element)),t.syncCssClasses(i,this.$element,o),i.css(a),i.addClass(s),i},r}),t.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return t.prototype.current=function(t,n){var r=this;if(this._isInitialized){t.call(this,n);return}this.initSelection.call(null,this.$element,function(t){r._isInitialized=!0,e.isArray(t)||(t=[t]),n(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(e){function t(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",",t.prop("type")==="hidden"&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return t.prototype.current=function(t,n){function r(t,n){var i=[];return t.selected||e.inArray(t.id,n)!==-1?(t.selected=!0,i.push(t)):t.selected=!1,t.children&&i.push.apply(i,r(t.children,n)),i}var i=[];for(var s=0;s<this._currentData.length;s++){var o=this._currentData[s];i.push.apply(i,r(o,this.$element.val().split(this._valueSeparator)))}n(i)},t.prototype.select=function(t,n){if(!this.options.get("multiple"))this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change");else{var r=this.$element.val();r+=this._valueSeparator+n.id,this.$element.val(r),this.$element.trigger("change")}},t.prototype.unselect=function(e,t){var n=this;t.selected=!1,this.current(function(e){var r=[];for(var i=0;i<e.length;i++){var s=e[i];if(t.id==s.id)continue;r.push(s.id)}n.$element.val(r.join(n._valueSeparator)),n.$element.trigger("change")})},t.prototype.query=function(e,t,n){var r=[];for(var i=0;i<this._currentData.length;i++){var s=this._currentData[i],o=this.matches(t,s);o!==null&&r.push(o)}n({results:r})},t.prototype.addOptions=function(t,n){var r=e.map(n,function(t){return e.data(t[0],"data")});this._currentData.push.apply(this._currentData,r)},t}),t.define("select2/compat/matcher",["jquery"],function(e){function t(t){function n(n,r){var i=e.extend(!0,{},r);if(n.term==null||e.trim(n.term)==="")return i;if(r.children){for(var s=r.children.length-1;s>=0;s--){var o=r.children[s],u=t(n.term,o.text,o);u||i.children.splice(s,1)}if(i.children.length>0)return i}return t(n.term,r.text,r)?i:null}return n}return t}),t.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n;var r=this.options.get("query");r.call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){var r=n.find(".dropdown-wrapper");r.append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var r=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(r.join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var r=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(r.join(" "),function(e){e.stopPropagation()})},e}),function(n){typeof t.define=="function"&&t.define.amd?t.define("jquery-mousewheel",["jquery"],n):typeof exports=="object"?module.exports=n:n(e)}(function(e){function a(t){var n=t||window.event,o=r.call(arguments,1),a=0,c=0,h=0,p=0,d=0,v=0;t=e.event.fix(n),t.type="mousewheel","detail"in n&&(h=n.detail*-1),"wheelDelta"in n&&(h=n.wheelDelta),"wheelDeltaY"in n&&(h=n.wheelDeltaY),"wheelDeltaX"in n&&(c=n.wheelDeltaX*-1),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(c=h*-1,h=0),a=h===0?c:h,"deltaY"in n&&(h=n.deltaY*-1,a=h),"deltaX"in n&&(c=n.deltaX,h===0&&(a=c*-1));if(h===0&&c===0)return;if(n.deltaMode===1){var m=e.data(this,"mousewheel-line-height");a*=m,h*=m,c*=m}else if(n.deltaMode===2){var g=e.data(this,"mousewheel-page-height");a*=g,h*=g,c*=g}p=Math.max(Math.abs(h),Math.abs(c));if(!s||p<s)s=p,l(n,p)&&(s/=40);l(n,p)&&(a/=40,c/=40,h/=40),a=Math[a>=1?"floor":"ceil"](a/s),c=Math[c>=1?"floor":"ceil"](c/s),h=Math[h>=1?"floor":"ceil"](h/s);if(u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();d=t.clientX-y.left,v=t.clientY-y.top}return t.deltaX=c,t.deltaY=h,t.deltaFactor=s,t.offsetX=d,t.offsetY=v,t.deltaMode=0,o.unshift(t,a,c,h),i&&clearTimeout(i),i=setTimeout(f,200),(e.event.dispatch||e.event.handle).apply(this,o)}function f(){s=null}function l(e,t){return u.settings.adjustOldDeltas&&e.type==="mousewheel"&&t%120===0}var t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice,i,s;if(e.event.fixHooks)for(var o=t.length;o;)e.event.fixHooks[t[--o]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],a,!1);else this.onmousewheel=a;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],a,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,n,r){if(e.fn.selectWoo==null){var i=["open","close","destroy"];e.fn.selectWoo=function(t){t=t||{};if(typeof t=="object")return this.each(function(){var r=e.extend(!0,{},t),i=new n(e(this),r)}),this;if(typeof t=="string"){var r,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this).data("select2");n==null&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an "+"element that is not using Select2."),r=n[t].apply(n,s)}),e.inArray(t,i)>-1?this:r}throw new Error("Invalid arguments for Select2: "+t)}}return e.fn.select2!=null&&e.fn.select2.defaults!=null&&(e.fn.selectWoo.defaults=e.fn.select2.defaults),e.fn.selectWoo.defaults==null&&(e.fn.selectWoo.defaults=r),e.fn.select2=e.fn.select2||e.fn.selectWoo,n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,e.fn.selectWoo.amd=t,n}),define("lib/controller/Select2",["exports","jquery","underscore","util/htmlUtils","util/languageUtils","selectWoo"],function(e,t,n,r,i){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function h(e){var t=this,n=e.map(function(e){return{id:e.value,text:e.value,selected:e.value===t.selectedValue}});this.options.data=n,this.options.templateResult=p((0,i.getLanguage)(this.state.language)),this.renderer.$el.select2(this.options),this.renderer.$el.select2("open"),this.renderer.$el.siblings(".select2").find(".select2-selection").focus()}function p(e){return function(t,n){return(0,s.default)(n).attr("lang",e),t.text}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var s=u(t),o=u(n),c=function(){function e(){a(this,e),this.renderer=null,this.options={},this.colIndex=-1,this.rowIndex=-1,this.selectedValue=""}return l(e,[{key:"start",value:function(){var t=this.rowIndex,n=this.colIndex,r=o.default.where(this.state.answers,{rowIndex:t,colIndex:n});h.call(this,r)}},{key:"stateUpdated",value:function(t,n){var r=this.rowIndex,i=this.colIndex,s=o.default.where(t.answers,{rowIndex:r,colIndex:i}),u=o.default.where(n.answers,{rowIndex:r,colIndex:i});if(o.default.isEqual(s,u))return;h.call(this,s)}},{key:"destroy",value:function(){this.renderer&&this.renderer.$el&&this.renderer.$el.hasClass("select2-hidden-accessible")&&this.renderer.$el.select2("destroy")}}]),e}();e.default=c}),define("components",["exports","lib/behaviour/CheckUndoRedoUnavailable","lib/behaviour/DispatchActionOnStart","lib/behaviour/FocusOnStart","lib/behaviour/SyncTableOnAction","lib/behaviour/UpdateTableDimsOnResize","componentLibrary-Utils/redux/ImportCss","componentLibrary-Utils/redux/JsonValidator","componentLibrary-Utils/StopPropagation","componentLibrary-Redux/ConnectToStore","lib/controller/CellsColor","lib/controller/CellsValidation","componentLibrary-Utils/preload/PreloadController","lib/controller/Rtl","lib/controller/Serialization","lib/controller/TableController","lib/controller/TableAccessibility","lib/controller/TextFormatting","lib/controller/UpdateTable","lib/controller/MessageDisplayer","lib/controller/ShowCorrectAnswers","lib/controller/ShowAnswersHint","lib/controller/AddNewOption","lib/controller/Dropdown","lib/controller/DropdownOption","lib/controller/DropdownPositioner","componentLibrary-Sync/ModelToModel","lib/sync/CellSelection","lib/sync/CellEditor","lib/sync/ColumnsWidth","lib/sync/Correct","lib/sync/MergedCells","lib/sync/MetadataToTable","lib/sync/RowsHeight","lib/sync/TableData","lib/sync/UpdateAnswers","lib/sync/InputCorrectness","lib/sync/Inputs","lib/sync/DropdownOptionText","lib/sync/SelectedDropdownOptionText","lib/sync/SelectedValueCss","componentLibrary-Redux/interaction/ActionOnEvent","lib/interaction/SetCorrectOnClick","lib/interaction/AddOptionOnClick","lib/interaction/RemoveOptionOnClick","lib/cdp/SyncCDP","lib/cdp/SyncContextFromCDP","componentLibrary-Redux/sync/ReduxToCss","componentLibrary-Redux/sync/ReduxToggleClass","componentLibrary-Redux/sync/ReduxToggleProperty","componentLibrary-Redux/sync/ReduxToProperty","componentLibrary-Redux/sync/ReduxToInput","componentLibrary-Redux/sync/ReduxToggleVisibility","componentLibrary-Redux/sync/ReduxToAttribute","componentLibrary-Redux/sync/ReduxToText","lib/sync/ReduxToHtml","componentLibrary-Renderers/HtmlRenderer","componentLibrary-Renderers/TextRenderer","componentLibrary-Renderers/TemplateRenderer","componentLibrary-Redux/DynamicReduxStore","text!templates/invalidJson.tpl","prefabLib/components","lib/controller/Select2"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at){"use strict";function ft(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"behaviourCheckUndoRedoUnavailable",{enumerable:!0,get:function(){return ft(t).default}}),Object.defineProperty(e,"behaviourDispatchActionOnStart",{enumerable:!0,get:function(){return ft(n).default}}),Object.defineProperty(e,"behaviourFocusOnStart",{enumerable:!0,get:function(){return ft(r).default}}),Object.defineProperty(e,"behaviourSyncTableOnAction",{enumerable:!0,get:function(){return ft(i).default}}),Object.defineProperty(e,"behaviourUpdateTableDimsOnResize",{enumerable:!0,get:function(){return ft(s).default}}),Object.defineProperty(e,"behaviourImportCss",{enumerable:!0,get:function(){return ft(o).default}}),Object.defineProperty(e,"behaviourJsonValidator",{enumerable:!0,get:function(){return ft(u).default}}),Object.defineProperty(e,"behaviourStopPropagation",{enumerable:!0,get:function(){return ft(a).default}}),Object.defineProperty(e,"connectToStore",{enumerable:!0,get:function(){return ft(f).default}}),Object.defineProperty(e,"controllerCellsColor",{enumerable:!0,get:function(){return ft(l).default}}),Object.defineProperty(e,"controllerCellsValidation",{enumerable:!0,get:function(){return ft(c).default}}),Object.defineProperty(e,"controllerPreload",{enumerable:!0,get:function(){return ft(h).default}}),Object.defineProperty(e,"controllerRtl",{enumerable:!0,get:function(){return ft(p).default}}),Object.defineProperty(e,"controllerSerialization",{enumerable:!0,get:function(){return ft(d).default}}),Object.defineProperty(e,"controllerTable",{enumerable:!0,get:function(){return ft(v).default}}),Object.defineProperty(e,"controllerTableAccessibility",{enumerable:!0,get:function(){return ft(m).default}}),Object.defineProperty(e,"controllerTextFormatting",{enumerable:!0,get:function(){return ft(g).default}}),Object.defineProperty(e,"controllerUpdateTable",{enumerable:!0,get:function(){return ft(y).default}}),Object.defineProperty(e,"controllerMessageDisplayer",{enumerable:!0,get:function(){return ft(b).default}}),Object.defineProperty(e,"controllerShowCorrectAnswers",{enumerable:!0,get:function(){return ft(w).default}}),Object.defineProperty(e,"controllerShowAnswersHint",{enumerable:!0,get:function(){return ft(E).default}}),Object.defineProperty(e,"controllerAddNewOption",{enumerable:!0,get:function(){return ft(S).default}}),Object.defineProperty(e,"controllerDropdown",{enumerable:!0,get:function(){return ft(x).default}}),Object.defineProperty(e,"controllerDropdownOption",{enumerable:!0,get:function(){return ft(T).default}}),Object.defineProperty(e,"controllerDropdownPositioner",{enumerable:!0,get:function(){return ft(N).default}}),Object.defineProperty(e,"syncModelToModel",{enumerable:!0,get:function(){return ft(C).default}}),Object.defineProperty(e,"syncCellSelection",{enumerable:!0,get:function(){return ft(k).default}}),Object.defineProperty(e,"syncCellEditor",{enumerable:!0,get:function(){return ft(L).default}}),Object.defineProperty(e,"syncColumnsWidth",{enumerable:!0,get:function(){return ft(A).default}}),Object.defineProperty(e,"syncCorrect",{enumerable:!0,get:function(){return ft(O).default}}),Object.defineProperty(e,"syncMergedCells",{enumerable:!0,get:function(){return ft(M).default}}),Object.defineProperty(e,"syncMetadataToTable",{enumerable:!0,get:function(){return ft(_).default}}),Object.defineProperty(e,"syncRowsHeight",{enumerable:!0,get:function(){return ft(D).default}}),Object.defineProperty(e,"syncTableData",{enumerable:!0,get:function(){return ft(P).default}}),Object.defineProperty(e,"syncUpdateAnswers",{enumerable:!0,get:function(){return ft(H).default}}),Object.defineProperty(e,"syncInputCorrectness",{enumerable:!0,get:function(){return ft(B).default}}),Object.defineProperty(e,"syncInputs",{enumerable:!0,get:function(){return ft(j).default}}),Object.defineProperty(e,"syncDropdownOptionText",{enumerable:!0,get:function(){return ft(F).default}}),Object.defineProperty(e,"syncSelectedDropdownOptionText",{enumerable:!0,get:function(){return ft(I).default}}),Object.defineProperty(e,"syncSelectedValueCss",{enumerable:!0,get:function(){return ft(q).default}}),Object.defineProperty(e,"interactionActionOnEvent",{enumerable:!0,get:function(){return ft(R).default}}),Object.defineProperty(e,"interactionSetCorrectOnClick",{enumerable:!0,get:function(){return ft(U).default}}),Object.defineProperty(e,"interactionAddOptionOnClick",{enumerable:!0,get:function(){return ft(z).default}}),Object.defineProperty(e,"interactionRemoveOptionOnClick",{enumerable:!0,get:function(){return ft(W).default}}),Object.defineProperty(e,"syncCDP",{enumerable:!0,get:function(){return ft(X).default}}),Object.defineProperty(e,"syncContextFromCDP",{enumerable:!0,get:function(){return ft(V).default}}),Object.defineProperty(e,"syncReduxToCss",{enumerable:!0,get:function(){return ft($).default}}),Object.defineProperty(e,"syncReduxToggleClass",{enumerable:!0,get:function(){return ft(J).default}}),Object.defineProperty(e,"syncReduxToggleProperty",{enumerable:!0,get:function(){return ft(K).default}}),Object.defineProperty(e,"syncReduxToProperty",{enumerable:!0,get:function(){return ft(Q).default}}),Object.defineProperty(e,"syncReduxToInput",{enumerable:!0,get:function(){return ft(G).default}}),Object.defineProperty(e,"syncReduxToggleVisibility",{enumerable:!0,get:function(){return ft(Y).default}}),Object.defineProperty(e,"syncReduxToAttribute",{enumerable:!0,get:function(){return ft(Z).default}}),Object.defineProperty(e,"syncReduxToText",{enumerable:!0,get:function(){return ft(et).default}}),Object.defineProperty(e,"syncReduxToHtml",{enumerable:!0,get:function(){return ft(tt).default}}),Object.defineProperty(e,"uiHtmlRenderer",{enumerable:!0,get:function(){return ft(nt).default}}),Object.defineProperty(e,"uiTextRenderer",{enumerable:!0,get:function(){return ft(rt).default}}),Object.defineProperty(e,"uiTemplateRenderer",{enumerable:!0,get:function(){return ft(it).default}}),Object.defineProperty(e,"reduxStore",{enumerable:!0,get:function(){return ft(st).default}}),Object.defineProperty(e,"templateInvalidJson",{enumerable:!0,get:function(){return ft(ot).default}}),Object.keys(ut).forEach(function(t){if(t==="default"||t==="__esModule")return;Object.defineProperty(e,t,{enumerable:!0,get:function(){return ut[t]}})}),Object.defineProperty(e,"controllerSelect2",{enumerable:!0,get:function(){return ft(at).default}})}),define("json!schema/configJSON.json",function(){return{$schema:"http://json-schema.org/draft-04/schema#",title:"Complete configuration for table widget setup",definitions:{metadataProperty:{type:"object",properties:{"default":{description:"Default value for property",type:"string"},values:{description:"Values for this property",type:"object",patternProperties:{"^*$":{description:"Rows that contain this property value",type:"object",patternProperties:{"^[0-9]+$":{description:"Columns with this property value",type:"array",items:{type:"number",minimum:0}}}}}}}}},type:"object",properties:{metadata:{description:"Table metadata",type:"object",properties:{rowCount:{description:"Number of rows",type:"number"},colCount:{description:"Number of columns",type:"number"},properties:{description:"Metadata properties",type:"object",properties:{type:{description:"Type of cell","#ref":"#/definition/metadataProperty"},format:{description:"Format of cell","#ref":"#/definition/metadataProperty"},textAlign:{description:"Text alignment of cell","#ref":"#/definition/metadataProperty"},fontSize:{description:"Font size in px","#ref":"#/definition/metadataProperty"},bold:{description:"Whether the cell text is bold or not","#ref":"#/definition/metadataProperty"},textColor:{description:"Text color of cell","#ref":"#/definition/metadataProperty"},backgroundColor:{description:"Background color of cell","#ref":"#/definition/metadataProperty"},borderColorTop:{description:"Top border color of cell","#ref":"#/definition/metadataProperty"},borderColorRight:{description:"Right border color of cell","#ref":"#/definition/metadataProperty"},borderColorBottom:{description:"Bottom border color of cell","#ref":"#/definition/metadataProperty"},borderColorLeft:{description:"Left border color of cell","#ref":"#/definition/metadataProperty"}}}}},table:{description:"Object of all table configuration",type:"object",properties:{metadata:{description:"Array of row metadata (legacy)",type:"array",items:{description:"Array of cell metadata",type:"array",items:{description:"Cell metadata",type:"object",properties:{type:{description:"Type of cell",type:"string","enum":["Not Editable","Dropdown","Text","Number","Currency","Date"]},format:{description:"Format of cell",type:"string","enum":["TextFormatDefault","DayMonthYear","MonthDayYear","YearMonthDay","DollarsCents","Dollars","EurosCents","Euros"]},selected:{description:"Whether the cell is selected",type:"boolean"},fontSize:{description:"Font size in px",type:"number"},textAlign:{description:"Text align",type:"string","enum":["Left","Center","Right"]},textColor:{description:"The optional cell text color, as a CSS value",type:"string"},bold:{description:"Whether the cell text is bold or not",type:"boolean"},backgroundColor:{description:"The optional cell border, as a CSS value",type:"string"},borderColor:{description:"The each borders color",type:"object",properties:{top:{type:"string"},right:{type:"string"},bottom:{type:"string"},left:{type:"string"}}}},required:[]}}},rowHeights:{description:"Array of all row heights",type:"array",items:{description:"Row height",type:{oneOf:["number","null"]}}},colWidths:{description:"Array of all column widths",type:"array",items:{description:"Column width",type:"number"}},colHeaders:{description:"Array of all column headers",type:"array",items:{type:{oneOf:["string","number"]}}},rowHeaders:{description:"Array of all row headers",type:"array",items:{type:{oneOf:["string","number"]}}}},required:[]}},required:["table"]}}),define("storage/reducers/toolbar",["exports","constants/ActionTypes","constants/CellTypes","constants/TextAlign","constants/Format"],function(e,t,n,r,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return e?t.type===s.default.SET_CELL_TYPE?Object.assign({},e,{cellType:t.cellType}):t.type===s.default.SET_CELL_FORMAT?Object.assign({},e,{cellFormat:t.format}):t.type===s.default.SET_FONT_SIZE?Object.assign({},e,{fontSize:t.size}):t.type===s.default.SET_TEXT_BOLD?Object.assign({},e,{textBold:t.isBold}):t.type===s.default.SET_TEXT_ITALIC?Object.assign({},e,{textItalic:t.isItalic}):t.type===s.default.SET_TEXT_STRIKETHROUGH?Object.assign({},e,{textStrikethrough:t.isStrikethrough}):t.type===s.default.SET_TEXT_ALIGN?Object.assign({},e,{textAlign:t.align}):t.type===s.default.SET_TEXT_ALIGN_TOOLBAR_STATE?Object.assign({},e,{textAlign:t.align}):t.type===s.default.SET_FILL_COLOR?Object.assign({},e,{fillColor:t.color}):t.type===s.default.SET_BORDER_COLOR?Object.assign({},e,{borderColor:t.color}):t.type===s.default.SET_TEXT_COLOR?Object.assign({},e,{textColor:t.color}):t.type===s.default.MERGE_SELECTED_CELLS?Object.assign({},e,{isMerged:t.isMerged}):t.type===s.default.SET_OPTIONS_MENU_VISIBLE?Object.assign({},e,{optionsMenuVisible:t.visible}):e:{cellType:o.default.NOT_EDITABLE,cellFormat:i.TextFormat.DEFAULT,fontSize:12,textBold:!1,textItalic:!1,textStrikethrough:!1,isMerged:!1,textAlign:u.default.LEFT,fillColor:"#fff",borderColor:"#000",textColor:"#000",optionsMenuVisible:!1}};var s=a(t),o=a(n),u=a(r)}),define("constants/LanguageFormatting",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ENGLISH:"English",ARABIC:"Arabic"}}),define("config/Metadata",["exports","constants/CellTypes","constants/Format","constants/TextAlign","constants/Direction","constants/LanguageFormatting","constants/NumeralStyle"],function(e,t,n,r,i,s,o){"use strict";function h(e){return e&&e.__esModule?e:{"default":e}}function p(e){return{type:u.default.NOT_EDITABLE,format:n.TextFormat.DEFAULT,fontSize:12,textAlign:e&&e.direction===f.default.rtl?a.default.RIGHT:a.default.LEFT,numeralStyle:e&&e.languageFormatting===l.default.ARABIC?c.default.ARABIC_INDIC:c.default.WESTERN_ARABIC,textColor:"black",bold:!1,italic:!1,strikethrough:!1,backgroundColor:"white",borderColor:{top:"#ccc",right:"#ccc",bottom:"#ccc",left:"#ccc"}}}Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultMetadata=p;var u=h(t),a=h(r),f=h(i),l=h(s),c=h(o)}),define("config/SimConfig",["exports","config/Metadata"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=4;e.default={data:[(new Array(n)).fill(null),(new Array(n)).fill(null),(new Array(n)).fill(null),(new Array(n)).fill(null)],config:{table:{mergedCells:[],rowHeights:[],colWidths:[],metadata:[(new Array(n)).fill((0,t.getDefaultMetadata)()),(new Array(n)).fill((0,t.getDefaultMetadata)()),(new Array(n)).fill((0,t.getDefaultMetadata)()),(new Array(n)).fill((0,t.getDefaultMetadata)())]}}}}),define("table/CellBorders",["exports"],function(e){"use strict";function t(e,t,n,r){e[t][n].borderColor.top=r,e[t][n].borderColor.right=r,e[t][n].borderColor.bottom=r,e[t][n].borderColor.left=r,t>0&&(e[t-1][n].borderColor.bottom=r),t+1<e.length&&(e[t+1][n].borderColor.top=r),n>0&&(e[t][n-1].borderColor.right=r),n+1<e[t].length&&(e[t][n+1].borderColor.left=r)}Object.defineProperty(e,"__esModule",{value:!0}),e.updateCellBorderColor=t}),define("util/jsonUtils",["exports"],function(e){"use strict";function t(e,t){var n=t;try{n=JSON.parse(e)}catch(r){}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.parseOrDefault=t}),define("actions/setData",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_DATA,value:e}};var n=r(t)}),define("cdp/tableData",["exports","./setup","util/jsonUtils","storage/selectors","actions/setData"],function(e,t,n,r,i){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return a=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{"default":e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function l(e){return JSON.stringify((0,r.getTableData)(e))}function c(e){return(0,o.default)((0,n.parseOrDefault)(e,[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]]))}function h(){return(0,n.parseOrDefault)(s.getInitialValue("data"))}Object.defineProperty(e,"__esModule",{value:!0}),e.getData=l,e.setData=c,e.getInitialValue=h;var s=f(t),o=u(i)}),define("storage/reducers/table",["exports","jquery","underscore","constants/ActionTypes","constants/Mode","constants/LanguageFormatting","constants/Direction","constants/NumeralStyle","constants/TextAlign","config/SimConfig","config/Metadata","table/CellBorders","table/CellFormat","cdp/tableData"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){"use strict";function T(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return T=function(){return e},e}function N(e){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{"default":e};var t=T();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function C(e){return e&&e.__esModule?e:{"default":e}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){return _(e)||M(e)||O(e)||A()}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(!e)return;if(typeof e=="string")return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);n==="Object"&&e.constructor&&(n=e.constructor.name);if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}function M(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function _(e){if(Array.isArray(e))return D(e)}function D(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r){e.forEach(function(i,s){i.forEach(function(i,o){if(!B(t,s,o))return;n==="borderColor"?(0,c.updateCellBorderColor)(e,s,o,r):e[s][o][n]=r})})}function H(e,t,n){e.forEach(function(r,i){r.forEach(function(r,s){t==="borderColor"?(0,c.updateCellBorderColor)(e,i,s,n):e[i][s][t]=n})})}function B(e,t,n){return v.default.any(e,function(e){return e.startRow<=t&&e.endRow>=t&&e.startCol<=n&&e.endCol>=n})}function j(e,t){if(e.row<t.row+t.rowspan&&e.row>=t.row||e.row+e.rowspan>t.row&&e.row+e.rowspan<=t.row+t.rowspan)if(e.col<t.col+t.colspan&&e.col>=t.col||e.col+e.colspan>t.col&&e.col+e.colspan<=t.col+t.colspan)return!0;return!1}function F(e,t,n,r){if(!n.length)return n;var i=e[0],s=e[e.length-1];t=t>s?t-1:t;var o=t<i?-(i-t):t-s;return n=n.map(function(t){var n=r?t.row:t.col,u=r?t.row+t.rowspan-1:t.col+t.colspan-1,a=r?"row":"col";if(i<=n&&s>=u)return Object.assign({},t,k({},a,n+o));if(i<=n&&i+o>=u)return Object.assign({},t,k({},a,n-e.length));if(i>u&&i+o<=n)return Object.assign({},t,k({},a,n+e.length));if(i>=n&&i<u)return null;if(s<=u&&s>=n)return null;var f=i+o,l=s+o;return o<0&&f<=n&&l>n?Object.assign({},t,k({},a,n+(n-f)+e.length)):o>0&&l>=u&&f<u?Object.assign({},t,k({},a,n+(l-u)-e.length)):f>=n&&f<=u?null:l<=u&&l>=n?null:t}),n.filter(function(e){return e!==null})||[]}function I(e,t,n,r){return n.length?(n=n.map(function(n){var i=r?n.row:n.col,s=r?n.row+n.rowspan:n.col+n.colspan;return e>=s?n:e+t<=i?r?Object.assign({},n,{row:i-t}):Object.assign({},n,{col:i-t}):null}),n.filter(function(e){return e!==null})||[]):n}function q(e,t,n){return t.length?(t=t.map(function(t){var r=n?t.row:t.col,i=n?t.row+t.rowspan:t.col+t.colspan;return e>=i?t:e<=r?n?Object.assign({},t,{row:r+1}):Object.assign({},t,{col:r+1}):null}),t.filter(function(e){return e!==null})||[]):t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(!e)return{data:x.getInitialValue()?x.getInitialValue():S.default.data,answers:[],metadata:null,mergedCells:[],cells:[],colWidths:[],rowHeights:[],rowHeaderWidth:50,showToolbar:!0,cellSelectionStartRow:-1,cellSelectionStartCol:-1,undoIsAvailable:!1,redoIsAvailable:!1,correct:!1,showCorrect:!1,showHints:!1,selections:[],languageFormatting:y.default.ENGLISH,direction:b.default.ltr};if(t.type===m.default.SET_DATA)return Object.assign({},e,{data:t.value});if(t.type===m.default.SET_CAPI_MODE){if(t.value===g.default.CONFIG){var n=d.default.extend(!0,{},e);return n.answers.forEach(function(e){n.data[e.rowIndex][e.colIndex]=null}),n}return e}if(t.type===m.default.SET_CELL_DATA){var r=e.data.map(function(e,n){if(n!==t.rowIndex)return e;var r=e.slice(0);return r[t.columnIndex]=t.value,r});return Object.assign({},e,{data:r})}if(t.type===m.default.SET_METADATA)return Object.assign({},e,{metadata:t.value});if(t.type===m.default.SET_MERGED_CELLS)return Object.assign({},e,{mergedCells:t.value});if(t.type===m.default.SET_ROW_HEADER_WIDTH)return Object.assign({},e,{rowHeaderWidth:t.value||e.rowHeaderWidth});if(t.type===m.default.SET_ROW_HEIGHTS)return Object.assign({},e,{rowHeights:t.value});if(t.type===m.default.SET_COLUMN_WIDTHS)return Object.assign({},e,{colWidths:t.value});if(t.type===m.default.SET_SHOW_TOOLBAR)return Object.assign({},e,{showToolbar:t.value});if(t.type===m.default.UPDATE_UNDO_REDO_AVAILABILITY)return Object.assign({},e,{undoIsAvailable:t.data.undoIsAvailable,redoIsAvailable:t.data.redoIsAvailable});if(t.type===m.default.INSERT_ROW){var i=d.default.extend(!0,[],e.mergedCells),s=d.default.extend(!0,[],e.data),o=s.slice(0,t.rowIndex);o.push((new Array(s[0].length)).fill(null)),o=o.concat(s.slice(t.rowIndex));var u=d.default.extend(!0,[],e.metadata),a=u.slice(0,t.rowIndex);return a.push((new Array(u[0].length)).fill(1).map(function(t){return(0,l.getDefaultMetadata)({direction:e.direction,languageFormatting:e.languageFormatting})})),a=a.concat(u.slice(t.rowIndex)),i=q(t.rowIndex,i,!0),Object.assign({},e,{data:o,metadata:a,mergedCells:i})}if(t.type===m.default.INSERT_COLUMN){var f=d.default.extend(!0,[],e.mergedCells),c=d.default.extend(!0,[],e.data),p=c.map(function(e){var n=e.slice(0,t.columnIndex);return n.push(null),n=n.concat(e.slice(t.columnIndex)),n}),T=d.default.extend(!0,[],e.metadata),N=T.map(function(n){var r=n.slice(0,t.columnIndex);return r.push((0,l.getDefaultMetadata)({direction:e.direction,languageFormatting:e.languageFormatting})),r=r.concat(n.slice(t.columnIndex)),r});return f=q(t.columnIndex,f,!1),Object.assign({},e,{data:p,metadata:N,mergedCells:f})}if(t.type===m.default.REMOVE_ROWS){var C=d.default.extend(!0,[],e.mergedCells),k=d.default.extend(!0,[],e.data);k.splice(t.rowIndex,t.amount);var A=d.default.extend(!0,[],e.metadata);return A.splice(t.rowIndex,t.amount),C=I(t.rowIndex,t.amount,C,!0),Object.assign({},e,{data:k,metadata:A,mergedCells:C})}if(t.type===m.default.REMOVE_COLUMNS){var O=d.default.extend(!0,[],e.mergedCells),M=e.data.map(function(e){var n=d.default.extend(!0,[],e);return n.splice(t.columnIndex,t.amount),n}),_=e.metadata.map(function(e){var n=d.default.extend(!0,[],e);return n.splice(t.columnIndex,t.amount),n});return O=I(t.columnIndex,t.amount,O,!1),Object.assign({},e,{data:M,metadata:_,mergedCells:O})}if(t.type===m.default.MOVE_ROWS){var D=d.default.extend(!0,[],e.mergedCells),B=d.default.extend(!0,[],e.data),R=d.default.extend(!0,[],e.metadata);if(t.rows.length===B.length)return Object.assign({},e);var U=B.splice(t.rows[0],t.rows.length),z=R.splice(t.rows[0],t.rows.length),W=t.targetIndex;return t.rows[0]<W&&(W-=t.rows.length),B.splice.apply(B,[W,0].concat(L(U))),R.splice.apply(R,[W,0].concat(L(z))),D=F(t.rows,t.targetIndex,D,!0),Object.assign({},e,{data:B,metadata:R,mergedCells:D})}if(t.type===m.default.MOVE_COLUMNS){var X=d.default.extend(!0,[],e.mergedCells),V=d.default.extend(!0,[],e.data),$=d.default.extend(!0,[],e.metadata);if(t.columns.length===V.length)return Object.assign({},e);for(var J=0;J<V.length;J++){var K,Q,G=V[J].splice(t.columns[0],t.columns.length),Y=$[J].splice(t.columns[0],t.columns.length),Z=t.targetIndex;t.columns[0]<Z&&(Z-=t.columns.length),(K=V[J]).splice.apply(K,[Z,0].concat(L(G))),(Q=$[J]).splice.apply(Q,[Z,0].concat(L(Y)))}return X=F(t.columns,t.targetIndex,X,!1),Object.assign({},e,{data:V,metadata:$,mergedCells:X})}if(t.type===m.default.NEW_CELL_SELECTION){var et=t.startRow<t.endRow?t.startRow:t.endRow,tt=t.startRow>t.endRow?t.startRow:t.endRow,nt=t.startCol<t.endCol?t.startCol:t.endCol,rt=t.startCol>t.endCol?t.startCol:t.endCol,it=[{startRow:et,endRow:tt,startCol:nt,endCol:rt}];return Object.assign({},e,{selections:it,cellSelectionStartRow:t.startRow,cellSelectionStartCol:t.startCol})}if(t.type===m.default.ADD_CELL_SELECTION){var st=t.startRow<t.endRow?t.startRow:t.endRow,ot=t.startRow>t.endRow?t.startRow:t.endRow,ut=t.startCol<t.endCol?t.startCol:t.endCol,at=t.startCol>t.endCol?t.startCol:t.endCol,ft=e.selections.concat({startRow:st,endRow:ot,startCol:ut,endCol:at});return Object.assign({},e,{selections:ft,cellSelectionStartRow:t.startRow,cellSelectionStartCol:t.startCol})}if(t.type===m.default.CLEAR_CELL_SELECTION){var lt=[];return Object.assign({},e,{selections:lt,cellSelectionStartRow:-1,cellSelectionStartCol:-1})}if(t.type===m.default.SET_CELL_FORMAT){var ct=d.default.extend(!0,[],e.metadata);return P(ct,e.selections,"format",t.format),P(ct,e.selections,"type",(0,h.getCellType)(t.format)),Object.assign({},e,{metadata:ct})}if(t.type===m.default.SET_CELL_TYPE){var ht=d.default.extend(!0,[],e.metadata);return P(ht,e.selections,"type",t.cellType),Object.assign({},e,{metadata:ht})}if(t.type===m.default.SET_FONT_SIZE){var pt=d.default.extend(!0,[],e.metadata);return P(pt,e.selections,"fontSize",t.size),Object.assign({},e,{metadata:pt})}if(t.type===m.default.SET_TEXT_ALIGN){var dt=d.default.extend(!0,[],e.metadata);return P(dt,e.selections,"textAlign",t.align),Object.assign({},e,{metadata:dt})}if(t.type===m.default.SET_CAPI_LANGUAGE_FORMATTING){var vt=d.default.extend(!0,[],e.metadata);return H(vt,"numeralStyle",t.value===y.default.ARABIC?w.default.ARABIC_INDIC:w.default.WESTERN_ARABIC),Object.assign({},e,{metadata:vt,languageFormatting:t.value})}if(t.type===m.default.SET_CAPI_DIRECTION){var mt=d.default.extend(!0,[],e.metadata);return H(mt,"textAlign",t.value===b.default.rtl?E.default.RIGHT:E.default.LEFT),Object.assign({},e,{metadata:mt,direction:t.value})}if(t.type===m.default.SET_FILL_COLOR){var gt=d.default.extend(!0,[],e.metadata);return P(gt,e.selections,"backgroundColor",t.color),Object.assign({},e,{metadata:gt})}if(t.type===m.default.SET_BORDER_COLOR){var yt=d.default.extend(!0,[],e.metadata);return P(yt,e.selections,"borderColor",t.color),Object.assign({},e,{metadata:yt})}if(t.type===m.default.SET_TEXT_COLOR){var bt=d.default.extend(!0,[],e.metadata);return P(bt,e.selections,"textColor",t.color),Object.assign({},e,{metadata:bt})}if(t.type===m.default.SET_TEXT_BOLD){var wt=d.default.extend(!0,[],e.metadata);return P(wt,e.selections,"bold",t.isBold),Object.assign({},e,{metadata:wt})}if(t.type===m.default.SET_TEXT_ITALIC){var Et=d.default.extend(!0,[],e.metadata);return P(Et,e.selections,"italic",t.isItalic),Object.assign({},e,{metadata:Et})}if(t.type===m.default.SET_TEXT_STRIKETHROUGH){var St=d.default.extend(!0,[],e.metadata);return P(St,e.selections,"strikethrough",t.isStrikethrough),Object.assign({},e,{metadata:St})}if(t.type===m.default.MERGE_SELECTED_CELLS){if(!e.selections||!e.selections.length)return e;if(e.selections[0].startRow===e.selections[0].endRow&&e.selections[0].startCol===e.selections[0].endCol)return e;var xt=d.default.extend(!0,[],e.mergedCells),Tt=d.default.extend(!0,[],e.metadata),Nt=d.default.extend(!0,[],e.answers),Ct={row:e.selections[0].startRow,col:e.selections[0].startCol,rowspan:e.selections[0].endRow-e.selections[0].startRow+1,colspan:e.selections[0].endCol-e.selections[0].startCol+1};return xt.find(function(e){return v.default.isEqual(e,Ct)})?xt=xt.filter(function(e){return!v.default.isEqual(e,Ct)}):xt.find(function(e){return j(e,Ct)})?(xt=xt.filter(function(e){return!j(e,Ct)}),xt.push(Ct)):xt.push(Ct),xt.forEach(function(t){for(var n=t.row;n<t.row+t.rowspan;n++)for(var r=t.col;r<t.col+t.colspan;r++)if(n!==t.row||r!==t.col)Tt[n][r]=(0,l.getDefaultMetadata)({direction:e.direction,languageFormatting:e.languageFormatting});Nt=Nt.filter(function(e){return e.rowIndex===t.row&&e.colIndex===t.col?!0:e.rowIndex>=t.row&&e.rowIndex<=t.row+t.rowspan-1&&e.colIndex>=t.col&&e.colIndex<=t.col+t.colspan-1?!1:!0})}),Object.assign({},e,{mergedCells:xt,metadata:Tt,answers:Nt})}if(t.type===m.default.SET_ANSWERS)return Object.assign({},e,{answers:t.value});if(t.type===m.default.ADD_ANSWER){var kt=d.default.extend(!0,[],e.answers),Lt=t.uuid,At=t.rowIndex,Ot=t.colIndex,Mt=t.value,_t=t.correct;return kt.push({uuid:Lt,rowIndex:At,colIndex:Ot,value:Mt,correct:_t}),Object.assign({},e,{answers:kt})}if(t.type===m.default.UPDATE_ANSWER){var Dt=d.default.extend(!0,[],e.answers),Pt=t.uuid,Ht=t.value,Bt=v.default.findWhere(Dt,{uuid:Pt});return Bt.value=Ht,Object.assign({},e,{answers:Dt})}if(t.type===m.default.REMOVE_ANSWER){var jt=d.default.extend(!0,[],e.answers),Ft=t.uuid,It=v.default.findIndex(jt,{uuid:Ft});return jt.splice(It,1),Object.assign({},e,{answers:jt})}if(t.type===m.default.UPDATE_CORRECT){var qt=d.default.extend(!0,[],e.answers),Rt=t.uuid,Ut=v.default.findWhere(qt,{uuid:Rt}),zt=v.default.findWhere(qt,{rowIndex:Ut.rowIndex,colIndex:Ut.colIndex,correct:!0});return Ut.correct=!0,zt.correct=!1,Object.assign({},e,{answers:qt})}return t.type===m.default.SET_CAPI_CORRECT?Object.assign({},e,{correct:t.value}):t.type===m.default.SET_CAPI_SHOW_CORRECT?Object.assign({},e,{showCorrect:t.value}):t.type===m.default.SET_CAPI_SHOW_HINTS?Object.assign({},e,{showHints:t.value}):e};var d=C(t),v=C(n),m=C(r),g=C(i),y=C(s),b=C(o),w=C(u),E=C(a),S=C(f),x=N(p)}),define("util/arrayUtils",["exports"],function(e){"use strict";function t(e,t,n){var r=e.slice();for(var i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return r.splice.apply(r,[t,n].concat(s)),r}Object.defineProperty(e,"__esModule",{value:!0}),e.safeSplice=t}),define("table/Header",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=t.length,r=e.colHeader=function(t){if(t<0)return"";var r=t+1,i="",s;while(r>0)s=(r-1)%n,i=String.fromCharCode(65+s)+i,r=parseInt((r-s)/n,10);return i},i=e.rowHeader=function(t){return t<0?"":t+1}}),define("storage/reducers/tableHeaders",["exports","constants/ActionTypes","util/arrayUtils","table/Header"],function(e,t,n,r){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e){return l(e)||f(e)||a(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if(typeof e=="string")return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);n==="Object"&&e.constructor&&(n=e.constructor.name);if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}function f(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function l(e){if(Array.isArray(e))return c(e)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],t=arguments.length>1?arguments[1]:undefined;switch(t.type){case i.default.SET_ROW_HEADERS:return t.headers.slice();case i.default.ADD_ROW:return[].concat(o(e),[(0,r.rowHeader)(e.length)]);case i.default.INSERT_ROW:return(0,n.safeSplice)(e,t.rowIndex,0,(0,r.rowHeader)(t.rowIndex));case i.default.MOVE_ROWS:var s=t.rows[0]<t.targetIndex?t.targetIndex-t.rows.length:t.targetIndex,u=e.splice(t.rows[0],t.rows.length);return n.safeSplice.apply(void 0,[e,s,0].concat(o(u)));case i.default.REMOVE_ROWS:return(0,n.safeSplice)(e,t.rowIndex,t.amount);case i.default.EDIT_ROW_HEADER:return e.map(function(e,n){return n===t.rowIndex?t.title:e});default:return e}}function p(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],t=arguments.length>1?arguments[1]:undefined;switch(t.type){case i.default.SET_COLUMN_HEADERS:return t.headers.slice();case i.default.ADD_COLUMN:return[].concat(o(e),[(0,r.colHeader)(e.length)]);case i.default.INSERT_COLUMN:return(0,n.safeSplice)(e,t.columnIndex,0,(0,r.colHeader)(t.columnIndex));case i.default.MOVE_COLUMNS:var s=t.columns[0]<t.targetIndex?t.targetIndex-t.columns.length:t.targetIndex,u=e.splice(t.columns[0],t.columns.length);return n.safeSplice.apply(void 0,[e,s,0].concat(o(u)));case i.default.REMOVE_COLUMNS:return(0,n.safeSplice)(e,t.columnIndex,t.amount);case i.default.EDIT_COLUMN_HEADER:return e.map(function(e,n){return n===t.columnIndex?t.title:e});default:return e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{colHeaders:[],rowHeaders:[]},t=arguments.length>1?arguments[1]:undefined,n=p(e.colHeaders,t),r=h(e.rowHeaders,t);return n!==e.colHeaders||r!==e.rowHeaders?{colHeaders:n,rowHeaders:r}:e};var i=s(t)}),define("storage/reducers/simConfig",["exports","constants/ActionTypes","constants/Direction","constants/LanguageFormatting","config/SimConfig","cdp/setup"],function(e,t,n,r,i,s){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(!e)return{configJSON:(0,s.getInitialValue)("settings.config")?(0,s.getInitialValue)("settings.config"):JSON.stringify(f.default.config),css:(0,s.getInitialValue)("settings.css")?(0,s.getInitialValue)("settings.css"):"",language:(0,s.getInitialValue)("accessibility.language")?(0,s.getInitialValue)("accessibility.language"):"English",languageFormatting:(0,s.getInitialValue)("settings.languageFormatting")?(0,s.getInitialValue)("settings.languageFormatting"):a.default.ENGLISH,direction:(0,s.getInitialValue)("settings.direction")?(0,s.getInitialValue)("settings.direction"):u.default.ltr,isCaseSensitive:(0,s.getInitialValue)("settings.isCaseSensitive")?(0,s.getInitialValue)("settings.isCaseSensitive"):!0,alternateCorrectDelimiter:(0,s.getInitialValue)("settings.alternateCorrectDelimiter")?(0,s.getInitialValue)("settings.alternateCorrectDelimiter"):","};if(t.type===o.default.SET_CAPI_CONFIG&&t.value)return Object.assign({},e,{configJSON:t.value});if(t.type===o.default.SET_CAPI_CSS)return Object.assign({},e,{css:t.value});if(t.type===o.default.SET_CAPI_LANGUAGE)return Object.assign({},e,{language:t.value});if(t.type===o.default.SET_CAPI_LANGUAGE_FORMATTING)return Object.assign({},e,{languageFormatting:t.value});if(t.type===o.default.SET_CAPI_DIRECTION)return Object.assign({},e,{direction:t.value});if(t.type===o.default.SET_CAPI_IS_CASE_SENSITIVE){var n=t.value;return Object.assign({},e,{isCaseSensitive:n})}if(t.type===o.default.SET_CAPI_ALTERATE_CORRECT_DELIMITER){var r=t.value;return Object.assign({},e,{alternateCorrectDelimiter:r})}return e};var o=l(t),u=l(n),a=l(r),f=l(i)}),define("storage/reducers/tableTitle",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(e===undefined)return"";if(t.type===n.default.SET_TABLE_TITLE){var r=t.title;return r||""}return e};var n=r(t)}),define("storage/reducers/tableSummary",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(e===undefined)return"";if(t.type===n.default.SET_TABLE_SUMMARY){var r=t.summary;return r||""}return e};var n=r(t)}),define("storage/reducers/correctness",["exports","constants/ActionTypes","cdp/setup"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(!e)return{isCaseSensitive:(0,n.getInitialValue)("settings.isCaseSensitive")?(0,n.getInitialValue)("settings.isCaseSensitive"):!0,alternateCorrectDelimiter:(0,n.getInitialValue)("settings.alternateCorrectDelimiter")?(0,n.getInitialValue)("settings.alternateCorrectDelimiter"):",",inputs:(0,n.getInitialValue)("inputs")?(0,n.getInitialValue)("inputs"):[]};var i=t.type;if(i===r.default.SET_CAPI_IS_CASE_SENSITIVE){var s=t.value;return Object.assign({},e,{isCaseSensitive:s})}if(i===r.default.SET_CAPI_ALTERATE_CORRECT_DELIMITER){var o=t.value;return Object.assign({},e,{alternateCorrectDelimiter:o})}if(t.type===r.default.SET_INPUTS_DATA){var u=t.value;return Object.assign({},e,{inputs:u})}return e};var r=i(t)}),define("storage/reducerMap",["exports","storage/reducers/toolbar","storage/reducers/table","storage/reducers/tableHeaders","storage/reducers/simConfig","storage/reducers/tableTitle","storage/reducers/tableSummary","storage/reducers/correctness"],function(e,t,n,r,i,s,o,u){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"toolbar",{enumerable:!0,get:function(){return a(t).default}}),Object.defineProperty(e,"table",{enumerable:!0,get:function(){return a(n).default}}),Object.defineProperty(e,"tableHeaders",{enumerable:!0,get:function(){return a(r).default}}),Object.defineProperty(e,"simConfig",{enumerable:!0,get:function(){return a(i).default}}),Object.defineProperty(e,"tableTitle",{enumerable:!0,get:function(){return a(s).default}}),Object.defineProperty(e,"tableSummary",{enumerable:!0,get:function(){return a(o).default}}),Object.defineProperty(e,"correctness",{enumerable:!0,get:function(){return a(u).default}})}),define("componentLibrary-Redux/simpleFieldActionCreator",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return function(t){return{type:e,value:t}}}}),define("actions/actions",["exports","componentLibrary-Redux/simpleFieldActionCreator","constants/ActionTypes"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.setAnswers=e.setAlternateCorrectDelimiter=e.setIsCaseSensitive=e.setCorrect=e.setShowCorrect=e.setShowHints=e.setLanguage=e.setDirection=e.setLanguageFormatting=e.setCss=e.setConfig=undefined;var r=s(t),i=s(n),o=e.setConfig=(0,r.default)(i.default.SET_CAPI_CONFIG),u=e.setCss=(0,r.default)(i.default.SET_CAPI_CSS),a=e.setLanguageFormatting=(0,r.default)(i.default.SET_CAPI_LANGUAGE_FORMATTING),f=e.setDirection=(0,r.default)(i.default.SET_CAPI_DIRECTION),l=e.setLanguage=(0,r.default)(i.default.SET_CAPI_LANGUAGE),c=e.setShowHints=(0,r.default)(i.default.SET_CAPI_SHOW_HINTS),h=e.setShowCorrect=(0,r.default)(i.default.SET_CAPI_SHOW_CORRECT),p=e.setCorrect=(0,r.default)(i.default.SET_CAPI_CORRECT),d=e.setIsCaseSensitive=(0,r.default)(i.default.SET_CAPI_IS_CASE_SENSITIVE),v=e.setAlternateCorrectDelimiter=(0,r.default)(i.default.SET_CAPI_ALTERATE_CORRECT_DELIMITER),m=e.setAnswers=(0,r.default)(i.default.SET_ANSWERS)}),define("actions/setTableTitle",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_TABLE_TITLE,title:e}};var n=r(t)}),define("actions/setTableSummary",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_TABLE_SUMMARY,summary:e}};var n=r(t)}),define("cdp/entries",["exports","storage/selectors","actions/actions","actions/setTableTitle","actions/setTableSummary","./tableData","underscore"],function(e,t,n,r,i,s,o){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.entries=undefined;var u=l(r),a=l(i),f=l(o),c=e.entries=[{keyPath:"settings.config",action:n.setConfig,selector:t.getConfigJSON},{keyPath:"settings.languageFormatting",action:n.setLanguageFormatting,selector:t.getLanguageFormatting},{keyPath:"settings.direction",action:n.setDirection,selector:t.getDirection},{keyPath:"settings.showHints",action:n.setShowHints,selector:t.isShowHints},{keyPath:"settings.showCorrect",action:n.setShowCorrect,selector:t.isShowCorrect},{keyPath:"settings.css",action:n.setCss,selector:t.getCss},{keyPath:"settings.isCaseSensitive",action:n.setIsCaseSensitive,selector:t.getIsCaseSensitive},{keyPath:"settings.alternateCorrectDelimiter",action:n.setAlternateCorrectDelimiter,selector:t.getAlternateCorrectDelimiter},{keyPath:"accessibility.language",action:n.setLanguage,selector:t.getLanguage},{keyPath:"accessibility.title",action:u.default,selector:t.getTableTitle},{keyPath:"accessibility.summary",action:a.default,selector:t.getTableSummary},{keyPath:"correct",action:n.setCorrect,selector:t.isCorrect},{keyPath:"numberOfCorrect",selector:t.getCorrectCount},{keyPath:"data",action:s.setData,selector:s.getData},{keyPath:"inputs",selector:t.getInputs,isEqual:f.default.isEqual}]}),define("scenes/initial",["exports","constants/Mode","json!schema/configJSON.json","constants/ActionTypes","storage/reducerMap","cdp/entries"],function(e,t,n,r,i,s){"use strict";function l(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return l=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{"default":e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function h(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var o=h(t),u=h(n),a=h(r),f=c(i);e.default={id:o.default.INITIAL,factories:{preloader:{components:{preloadController:{componentName:"controllerPreload",preloader:"&importCss",completeFactory:"+preloadComplete"},importCss:{componentName:"behaviourImportCss",store:"&redux.store",storeKey:"simConfig.css",updateActions:[a.default.SET_CAPI_CSS],isPreload:!0}}},preloadComplete:{components:{syncContextFromCdp:{componentName:"syncContextFromCDP"}}},validationError:{components:{renderer:{componentName:"uiTemplateRenderer","class":"errorMessage",template:"templateInvalidJson"}}}},entities:{redux:{components:{store:{componentName:"reduxStore",reducerMap:f},syncCDP:{componentName:"syncCDP",store:"&store",entries:s.entries}}},setup:{components:{connect:{componentName:"connectToStore",stateMap:function(t){return t.simConfig},dispatchMap:function(){return{}}},configValidator:{componentName:"behaviourJsonValidator",selector:function(t){return t.configJSON},schema:u.default,successFactory:"+preloader",errorFactory:"+validationError"}}}}}}),define("prefabLib/colorPicker/factory",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=e.colorPicker={components:{renderer:{componentName:"uiHtmlRenderer","class":"prefab-ui ui-colorPicker",parent:"~parent"}},children:{predefinedColors:{components:{renderer:{componentName:"uiHtmlRenderer","class":"color-picker-colors"},createColors:{componentName:"colorPickerCreateColorButtons",factory:"+colorPickerColorButton",colors:"~colors",displayColors:"~displayColors",stateMap:"~stateMap",dispatchMap:"~dispatchMap"}}},hex:{components:{renderer:{componentName:"uiHtmlRenderer","class":"color-picker-hex"}},children:{inputArea:{components:{renderer:{componentName:"uiHtmlRenderer","class":"color-picker-hex-input-area"}},children:{label:{components:{renderer:{componentName:"uiTextRenderer","class":"color-picker-input-label",text:"HEX"}}},input:{components:{renderer:{componentName:"uiHtmlRenderer",type:"input","class":"color-picker-hex-input-area-input",attributes:{spellcheck:"false"}},connect:{componentName:"connectToStore",stateMap:"~stateMap",dispatchMap:"~dispatchMap"},storeToText:{componentName:"syncReduxToInput",renderer:"&renderer",selector:function(t){return t.color},updateActionName:"updateColor"}}},box:{components:{renderer:{componentName:"uiHtmlRenderer","class":"color-picker-hex-input-area-box"},connect:{componentName:"connectToStore",stateMap:"~stateMap",dispatchMap:"~dispatchMap"},storeToCss:{componentName:"syncReduxToCss",renderer:"&renderer",selector:function(t){return t.color},cssProperty:"backgroundColor"}}}}}}}}},n=e.colorPickerColorButton={components:{renderer:{componentName:"uiHtmlRenderer","class":"color-picker-color-button",type:"button"},connect:{componentName:"connectToStore",stateMap:"~stateMap",dispatchMap:"~dispatchMap"},setBackground:{componentName:"colorPickerSetBackground",renderer:"&renderer",color:"~color",displayColor:"~displayColor",isSelected:function(t,n){return t.color===n}},toggleSelected:{componentName:"syncReduxToggleClass",selector:function(t){return t.color},storeValue:"~color",className:"selected",renderer:"&renderer"},clickUpdateColor:{componentName:"interactionActionOnEvent",actionName:"updateColor",actionValue:"~color",renderer:"&renderer"}}}}),define("prefabLib/colorPickerPopup/factory",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{renderer:{componentName:"uiHtmlRenderer","class":"~class",attributes:{"class":"color-picker-popup"}},connect:{componentName:"connectToStore",stateMap:"~stateMap"},color:{componentName:"syncReduxToCss",renderer:"&.button.renderer",cssProperty:"fill",selector:function(t){return t.color}},toggle:{componentName:"colorPickerPopupToggle",buttonRenderer:"&.button.renderer",pickerRenderer:"&.picker.renderer",selector:function(t){return t.color}}},children:{button:{factory:"simpleButton",references:{icon:"~icon",stateMap:function(){return{enabled:!0}},dispatchMap:function(){return{click:function(){}}}}},picker:{factory:"colorPicker",references:{colors:"~colors",displayColors:"~displayColors",stateMap:"~stateMap",dispatchMap:"~dispatchMap"}}}}}),define("prefabLib/dropdownButtons/factory",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{renderer:{componentName:"uiHtmlRenderer",type:"select","class":"~class"},connect:{componentName:"connectToStore",stateMap:"~stateMap",dispatchMap:"~dispatchMap"},create:{componentName:"dropdownButtonsCreate",renderer:"&renderer",buttons:"~buttons"},option:{componentName:"syncReduxToInput",renderer:"&renderer",eventName:"change",selector:function(t){return t.option},updateActionName:"updateOption"},tooltip:{componentName:"dropdownTooltip",renderer:"&renderer",tooltip:"~tooltip"}}}}),define("prefabLib/dropdownMenu/factory",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{renderer:{componentName:"uiHtmlRenderer",type:"select","class":"~class"},connect:{componentName:"connectToStore",stateMap:"~stateMap",dispatchMap:"~dispatchMap"},create:{componentName:"dropdownMenuCreate",renderer:"&renderer",width:"~width",options:"~options",title:"~title",exposed:"~exposed",tick:"~tick"},position:{componentName:"dropdownMenuPosition",renderer:"&renderer",width:"~width"},option:{componentName:"syncReduxToInput",renderer:"&renderer",eventName:"change",selector:function(t){return t.option},updateActionName:"updateOption"},tooltip:{componentName:"dropdownTooltip",renderer:"&renderer",tooltip:"~tooltip"}}}}),define("prefabLib/simpleButton/factory",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{renderer:{componentName:"uiHtmlRenderer",type:"button","class":"~class",attributes:{"class":"simple-button-container"}},connect:{componentName:"connectToStore",stateMap:"~stateMap",dispatchMap:"~dispatchMap"},enabled:{componentName:"syncReduxToProperty",renderer:"&renderer",property:"disabled",selector:function(t){return!t.enabled}},action:{componentName:"interactionActionOnEvent",renderer:"&renderer",actionName:"click"}},children:{icon:{components:{renderer:{componentName:"uiTextRenderer","class":"simple-button-icon",text:"~icon"}}}}}}),define("prefabLib/toggleButton/factory",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{renderer:{componentName:"uiHtmlRenderer",type:"button","class":"~class",attributes:{"class":"toggle-button-container"}},connect:{componentName:"connectToStore",stateMap:"~stateMap",dispatchMap:"~dispatchMap"},enabled:{componentName:"syncReduxToProperty",renderer:"&renderer",property:"disabled",selector:function(t){return!t.enabled}},selected:{componentName:"syncReduxToggleClass",renderer:"&renderer",className:"toggle-button-container--selected",selector:function(t){return t.selected},storeValue:!0},action:{componentName:"interactionActionOnEvent",renderer:"&renderer",actionName:"click"}},children:{icon:{components:{renderer:{componentName:"uiTextRenderer","class":"toggle-button-icon",text:"~icon"}}}}}}),define("prefabLib/factories",["exports","./colorPicker/factory","./colorPickerPopup/factory","./dropdownButtons/factory","./dropdownMenu/factory","./simpleButton/factory","./toggleButton/factory"],function(e,t,n,r,i,s,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"colorPicker",{enumerable:!0,get:function(){return t.colorPicker}}),Object.defineProperty(e,"colorPickerColorButton",{enumerable:!0,get:function(){return t.colorPickerColorButton}}),Object.defineProperty(e,"colorPickerPopup",{enumerable:!0,get:function(){return u(n).default}}),Object.defineProperty(e,"dropdownButtons",{enumerable:!0,get:function(){return u(r).default}}),Object.defineProperty(e,"dropdownMenu",{enumerable:!0,get:function(){return u(i).default}}),Object.defineProperty(e,"simpleButton",{enumerable:!0,get:function(){return u(s).default}}),Object.defineProperty(e,"toggleButton",{enumerable:!0,get:function(){return u(o).default}})}),define("text!assets/undo.svg",[],function(){return'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path fill="#767676" d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>\n</svg>'}),define("text!assets/redo.svg",[],function(){return'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path fill="#767676" d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>\n</svg>'}),define("text!assets/add-row.svg",[],function(){return'<svg class="addRow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" style="transform:rotate(90deg);">\n    <defs>\n        <style>.addRow .cls-1{opacity:0.4;}.addRow .cls-2{fill:#fff;}.addRow .cls-3{fill:none;stroke:#767676;}.addRow\n            .cls-4{fill:#767676;}\n        </style>\n    </defs>\n    <title>Add row</title>\n    <g id="Layer_2" data-name="Layer 2">\n        <g id="Layer_1-2" data-name="Layer 1">\n            <g class="cls-1">\n                <rect id="add-column-a" class="cls-2" width="13" height="18"/>\n                <rect class="cls-3" x="0.5" y="0.5" width="12" height="17"/>\n            </g>\n            <polygon class="cls-4"\n                     points="10 8.43 7 8.43 7 5 6 5 6 8.43 3 8.43 3 9.57 6 9.57 6 13 7 13 7 9.57 10 9.57 10 8.43"/>\n            <rect id="add-column-b" class="cls-2" x="12" width="6" height="18"/>\n            <rect class="cls-3" x="12.5" y="0.5" width="5" height="17"/>\n            <rect id="add-column-c" class="cls-2" x="12" width="6" height="7"/>\n            <rect class="cls-3" x="12.5" y="0.5" width="5" height="6"/>\n            <rect id="add-column-d" class="cls-2" x="12" y="6" width="6" height="7"/>\n            <rect class="cls-3" x="12.5" y="6.5" width="5" height="6"/>\n        </g>\n    </g>\n</svg>'}),define("text!assets/add-column.svg",[],function(){return'<svg class="addColumn" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n    <defs>\n        <style>.addColumn .cls-1{opacity:0.4;}.addColumn .cls-2{fill:#fff;}.addColumn\n            .cls-3{fill:none;stroke:#767676;}.addColumn .cls-4{fill:#767676;}\n        </style>\n    </defs>\n    <title>Add column</title>\n    <g id="Layer_2" data-name="Layer 2">\n        <g id="Layer_1-2" data-name="Layer 1">\n            <g class="cls-1">\n                <rect id="add-column-a" class="cls-2" width="13" height="18"/>\n                <rect class="cls-3" x="0.5" y="0.5" width="12" height="17"/>\n            </g>\n            <polygon class="cls-4"\n                     points="10 8.43 7 8.43 7 5 6 5 6 8.43 3 8.43 3 9.57 6 9.57 6 13 7 13 7 9.57 10 9.57 10 8.43"/>\n            <rect id="add-column-b" class="cls-2" x="12" width="6" height="18"/>\n            <rect class="cls-3" x="12.5" y="0.5" width="5" height="17"/>\n            <rect id="add-column-c" class="cls-2" x="12" width="6" height="7"/>\n            <rect class="cls-3" x="12.5" y="0.5" width="5" height="6"/>\n            <rect id="add-column-d" class="cls-2" x="12" y="6" width="6" height="7"/>\n            <rect class="cls-3" x="12.5" y="6.5" width="5" height="6"/>\n        </g>\n    </g>\n</svg>'}),define("text!assets/border-color.svg",[],function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="28" viewBox="0 0 24 28">\n    <path fill="#767676" d="M17.75 7L14 3.25l-10 10V17h3.75l10-10zm2.96-2.96c.39-.39.39-1.02 0-1.41L18.37.29c-.39-.39-1.02-.39-1.41 0L15 2.25 18.75 6l1.96-1.96z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M0 24h24v4H0z"/>\n</svg>\n'}),define("text!assets/fill-color.svg",[],function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="28" viewBox="0 0 24 28">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path fill="#767676" d="M16.56 8.94L7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10L10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5z"/>\n    <path d="M0 24h24v4H0z"/>\n</svg>\n'}),define("text!assets/text-color.svg",[],function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="28" viewBox="0 0 24 28">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M0 24h24v4H0z"/>\n    <path fill="#767676" d="M11 3L5.5 17h2.25l1.12-3h6.25l1.12 3h2.25L13 3h-2zm-1.38 9L12 5.67 14.38 12H9.62z"/>\n</svg>\n'}),define("text!assets/text-bold.svg",[],function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path fill="#767676" d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'}),define("text!assets/text-italic.svg",[],function(){return'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="12px" height="14px" viewBox="0 0 12 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <defs>\n        <polygon id="path-italic" points="10 5 10 8 12.21 8 8.79 16 6 16 6 19 14 19 14 16 11.79 16 15.21 8 18 8 18 5"></polygon>\n    </defs>\n    <g id="Table" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Simple-table" transform="translate(-488.000000, -196.000000)">\n            <g id="Italic" transform="translate(474.000000, 183.000000)">\n                <g transform="translate(8.000000, 8.000000)">\n                    <g>\n                        <mask id="mask-2" fill="white">\n                            <use xlink:href="#path-italic"></use>\n                        </mask>\n                        <use id="Shape" fill="#767676" fill-rule="nonzero" xlink:href="#path-italic"></use>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'}),define("text!assets/text-strikethrough.svg",[],function(){return'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="18px" height="15px" viewBox="0 0 18 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <defs>\n        <path d="M10,20 L14,20 L14,17 L10,17 L10,20 Z M5,5 L5,8 L10,8 L10,11 L14,11 L14,8 L19,8 L19,5 L5,5 Z M3,15 L21,15 L21,13 L3,13 L3,15 Z" id="path-strikethrough"></path>\n    </defs>\n    <g id="Table" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Simple-table" transform="translate(-528.000000, -196.000000)">\n            <g id="Strikethrough" transform="translate(517.000000, 183.000000)">\n                <g transform="translate(8.000000, 8.000000)">\n                    <g>\n                        <mask id="mask-2" fill="white">\n                            <use xlink:href="#path-strikethrough"></use>\n                        </mask>\n                        <use id="Shape" fill="#767676" fill-rule="nonzero" xlink:href="#path-strikethrough"></use>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'}),define("text!assets/merge-cells.svg",[],function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path fill="#767676" fill-rule="evenodd" transform="scale(1.4, 1.4)" d="M3,6 L1,6 L1,2 L8,2 L8,4 L3,4 L3,6 Z M10,4 L10,2 L17,2 L17,6 L15,6 L15,4 L10,4 Z M10,14 L15,14 L15,12 L17,12 L17,16 L10,16 L10,14 Z M1,12 L3,12 L3,14 L8,14 L8,16 L1,16 L1,12 Z M1,8 L5,8 L5,6 L8,9 L5,12 L5,10 L1,10 L1,8 Z M10,9 L13,6 L13,8 L17,8 L17,10 L13,10 L13,12 L10,9 Z"/>\n</svg>'}),define("text!assets/dots.svg",[],function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="3" viewBox="0 0 16 3">\n  <g fill="none" fill-rule="evenodd" transform="translate(-7 -17)">\n    <rect width="30" height="36" fill="#FFF" opacity="0"/>\n    <g fill="#767676" transform="translate(7 17)">\n      <circle cx="1.5" cy="1.5" r="1.5"/>\n      <circle cx="8" cy="1.5" r="1.5"/>\n      <circle cx="14.5" cy="1.5" r="1.5"/>\n    </g>\n  </g>\n</svg>\n'}),define("text!assets/align-left.svg",[],function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path fill="#767676" d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'}),define("text!assets/align-center.svg",[],function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path fill="#767676" d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'}),define("text!assets/align-right.svg",[],function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path fill="#767676" d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'}),define("config/TextAlign",["exports","underscore","constants/TextAlign","text!assets/align-left.svg","text!assets/align-center.svg","text!assets/align-right.svg"],function(e,t,n,r,i,s){"use strict";function c(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.AlignTypeToOption=e.AlignOptionToType=e.AlignOptions=undefined;var o=c(t),u=c(n),a=c(r),f=c(i),l=c(s),h=[{id:1,icon:a.default},{id:2,icon:f.default},{id:3,icon:l.default}],p={1:u.default.LEFT,2:u.default.CENTER,3:u.default.RIGHT},d=o.default.invert(p);e.AlignOptions=h,e.AlignOptionToType=p,e.AlignTypeToOption=d}),define("config/FontSize",["exports","underscore"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.FontSizeToOption=e.FontOptionToSize=e.FontSizeOptions=undefined;var n=r(t),i=[{id:1,text:"12"},{id:2,text:"14"},{id:3,text:"16"},{id:4,text:"24"},{id:5,text:"30"},{id:6,text:"36"}],s={1:12,2:14,3:16,4:24,5:30,6:36},o=n.default.invert(s);e.FontSizeOptions=i,e.FontOptionToSize=s,e.FontSizeToOption=o}),define("config/CellType",["exports","constants/CellTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.CellTypeToOption=e.CellTypeFromOption=e.CellTypeOptions=undefined;var n=r(t),i,o=[{id:1,text:"Not editable"},{id:2,text:"Editable"},{id:3,text:"Dropdown"},{id:4,text:"Number"}],u={1:n.default.NOT_EDITABLE,2:n.default.TEXT_INPUT,3:n.default.DROPDOWN,4:n.default.NUMBER},a=(i={},s(i,n.default.NOT_EDITABLE,1),s(i,n.default.CURRENCY,1),s(i,n.default.DATE,1),s(i,n.default.TEXT_INPUT,2),s(i,n.default.DROPDOWN,3),s(i,n.default.NUMBER,4),i);e.CellTypeOptions=o,e.CellTypeFromOption=u,e.CellTypeToOption=a}),define("config/CellFormat",["exports","underscore","constants/Format"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.CellFormatToOption=e.CellFormatFromOption=e.CellFormatOptions=undefined;var r=i(t),s=[{id:1,text:"Free Text"},{text:"Date",options:[{id:2,text:"DD/MM/YY"},{id:3,text:"MM/DD/YY"},{id:4,text:"YY/MM/DD"}]},{text:"Currency",options:[{id:5,text:"$1,000.12"},{id:6,text:"$1,000"},{id:7,text:"â¬1,000.12"},{id:8,text:"â¬1,000"}]}],o={1:n.TextFormat.DEFAULT,2:n.DateFormat.DAY_MONTH_YEAR,3:n.DateFormat.MONTH_DAY_YEAR,4:n.DateFormat.YEAR_MONTH_DAY,5:n.CurrencyFormat.DOLLARS_CENTS,6:n.CurrencyFormat.DOLLARS,7:n.CurrencyFormat.EUROS_CENTS,8:n.CurrencyFormat.EUROS},u=r.default.invert(o);e.CellFormatOptions=s,e.CellFormatFromOption=o,e.CellFormatToOption=u}),define("config/CellColors",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=["#F1F1F3","#D2EAFD","#DBF6EF","#FEDFDD","#FFF5DD"],n=["#232C39","#2096F3","#4AD3AD","#F96156","#FFCE54"],r=["#232C39","#2096F3","#4AD3AD","#F96156","#FFCE54"];e.FillColors=t,e.BorderColors=n,e.TextColors=r}),define("actions/addRow",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{type:n.default.ADD_ROW}};var n=r(t)}),define("actions/addColumn",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{type:n.default.ADD_COLUMN}};var n=r(t)}),define("actions/undo",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{type:n.default.UNDO}};var n=r(t)}),define("actions/redo",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{type:n.default.REDO}};var n=r(t)}),define("actions/setCellType",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_CELL_TYPE,cellType:e}};var n=r(t)}),define("actions/setCellFormat",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_CELL_FORMAT,format:e}};var n=r(t)}),define("actions/setFontSize",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_FONT_SIZE,size:e}};var n=r(t)}),define("actions/setTextAlign",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_TEXT_ALIGN,align:e}};var n=r(t)}),define("actions/setTextBold",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_TEXT_BOLD,isBold:e}};var n=r(t)}),define("actions/setTextItalic",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_TEXT_ITALIC,isItalic:e}};var n=r(t)}),define("actions/setTextStrikethrough",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_TEXT_STRIKETHROUGH,isStrikethrough:e}};var n=r(t)}),define("actions/setFillColor",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_FILL_COLOR,color:e}};var n=r(t)}),define("actions/setBorderColor",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_BORDER_COLOR,color:e}};var n=r(t)}),define("actions/setTextColor",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_TEXT_COLOR,color:e}};var n=r(t)}),define("actions/mergeSelectedCells",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.MERGE_SELECTED_CELLS,isMerged:e}};var n=r(t)}),define("actions/setOptionsMenuVisible",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_OPTIONS_MENU_VISIBLE,visible:e}};var n=r(t)}),define("storage/selectors/table",["exports","underscore"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.table.undoIsAvailable}function s(e){return e.table.redoIsAvailable}function o(e){var t=e.table.cellSelectionStartRow,n=e.table.cellSelectionStartCol;return t>=0&&n>=0?e.table.metadata[t]?e.table.metadata[t][n]:null:null}function u(e){var t=o(e);return t?t.type:null}function a(e){var t=o(e);return t?t.format:null}function f(e){var t=o(e);return t?t.fontSize:null}function l(e){var t=o(e);return t?t.bold:null}function c(e){var t=o(e);return t?t.italic:null}function h(e){var t=o(e);return t?t.strikethrough:null}function p(e){var t=o(e);return t?t.textAlign:null}function d(e){var t=o(e);return t?t.backgroundColor:null}function v(e){var t=o(e);return t?t.borderColor.bottom:null}function m(e){var t=o(e);return t?t.textColor:null}function g(e){if(!e.table.selections||!e.table.selections.length)return null;if(!e.table.mergedCells.length)return!1;var t={row:e.table.selections[0].startRow,col:e.table.selections[0].startCol,rowspan:e.table.selections[0].endRow-e.table.selections[0].startRow+1,colspan:e.table.selections[0].endCol-e.table.selections[0].startCol+1};return!!e.table.mergedCells.find(function(e){return n.default.isEqual(e,t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.canUndo=i,e.canRedo=s,e.getStartSelectionCellMeta=o,e.getCurrentCellType=u,e.getCurrentCellFormat=a,e.getCurrentFontSize=f,e.getCurrentTextIsBold=l,e.getCurrentTextIsItalic=c,e.getCurrentTextIsStrikethrough=h,e.getCurrentTextAlign=p,e.getCurrentFillColor=d,e.getCurrentBorderColor=v,e.getCurrentTextColor=m,e.getCurrentCellsAreMerged=g;var n=r(t)}),define("storage/selectors/toolbar",["exports","underscore","./table"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e){return(0,n.getCurrentCellType)(e)||e.toolbar.cellType}function o(e){return(0,n.getCurrentCellFormat)(e)||e.toolbar.cellFormat}function u(e){return(0,n.getCurrentFontSize)(e)||e.toolbar.fontSize}function a(e){var t=(0,n.getCurrentTextIsBold)(e);return r.default.isBoolean(t)?t:e.toolbar.textBold}function f(e){var t=(0,n.getCurrentTextIsItalic)(e);return r.default.isBoolean(t)?t:e.toolbar.textItalic}function l(e){var t=(0,n.getCurrentTextIsStrikethrough)(e);return r.default.isBoolean(t)?t:e.toolbar.textStrikethrough}function c(e){return(0,n.getCurrentTextAlign)(e)||e.toolbar.textAlign}function h(e){return(0,n.getCurrentFillColor)(e)||e.toolbar.fillColor}function p(e){return(0,n.getCurrentBorderColor)(e)||e.toolbar.borderColor}function d(e){return(0,n.getCurrentTextColor)(e)||e.toolbar.textColor}function v(e){var t=(0,n.getCurrentCellsAreMerged)(e);return r.default.isBoolean(t)?t:e.toolbar.isMerged}function m(e){return!!e.toolbar.optionsMenuVisible}Object.defineProperty(e,"__esModule",{value:!0}),e.getCellType=s,e.getCellFormat=o,e.getFontSize=u,e.getTextIsBold=a,e.getTextIsItalic=f,e.getTextIsStrikethrough=l,e.getTextAlign=c,e.getFillColor=h,e.getBorderColor=p,e.getTextColor=d,e.getCellsAreMerged=v,e.isOptionsMenuVisible=m;var r=i(t)}),define("scenes/entities/toolbar",["exports","text!assets/undo.svg","text!assets/redo.svg","text!assets/add-row.svg","text!assets/add-column.svg","text!assets/border-color.svg","text!assets/fill-color.svg","text!assets/text-color.svg","text!assets/text-bold.svg","text!assets/text-italic.svg","text!assets/text-strikethrough.svg","text!assets/merge-cells.svg","text!assets/dots.svg","config/TextAlign","config/FontSize","config/CellType","config/CellFormat","config/CellColors","actions/addRow","actions/addColumn","actions/undo","actions/redo","actions/setCellType","actions/setCellFormat","actions/setFontSize","actions/setTextAlign","actions/setTextBold","actions/setTextItalic","actions/setTextStrikethrough","actions/setFillColor","actions/setBorderColor","actions/setTextColor","actions/mergeSelectedCells","actions/setOptionsMenuVisible","storage/selectors/toolbar","storage/selectors/table"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H){"use strict";function lt(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var B=lt(t),j=lt(n),F=lt(r),I=lt(i),q=lt(s),R=lt(o),U=lt(u),z=lt(a),W=lt(f),X=lt(l),V=lt(c),$=lt(h),J=lt(y),K=lt(b),Q=lt(w),G=lt(E),Y=lt(S),Z=lt(x),et=lt(T),tt=lt(N),nt=lt(C),rt=lt(k),it=lt(L),st=lt(A),ot=lt(O),ut=lt(M),at=lt(_),ft=lt(D);e.default={components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar"},connect:{componentName:"connectToStore",stateMap:function(t){return t}}},children:{group1:{components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar-group"}},children:{undo:{factory:"simpleButton",references:{"class":"toolbar-item flip-if-rtl",icon:B.default,stateMap:function(t){return{enabled:(0,H.canUndo)(t)}},dispatchMap:function(t){return{click:function(){return t((0,Q.default)())}}}}},redo:{factory:"simpleButton",references:{"class":"toolbar-item flip-if-rtl",icon:j.default,stateMap:function(t){return{enabled:(0,H.canRedo)(t)}},dispatchMap:function(t){return{click:function(){return t((0,G.default)())}}}}}}},group2:{components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar-group"},connect:{componentName:"connectToStore",stateMap:function(t){return t},dispatchMap:function(t){return{close:function(){t((0,ft.default)(!1))}}}},hideOptionsMenu:{componentName:"interactionActionOnEvent",renderer:"&renderer",eventName:"mousedown",actionName:"close"}},children:{cellType:{factory:"dropdownMenu",references:{"class":"toolbar-item",tick:!0,width:100,options:v.CellTypeOptions,stateMap:function(t){return{option:v.CellTypeToOption[(0,P.getCellType)(t)]}},dispatchMap:function(t){return{updateOption:function(n){return t((0,Y.default)(v.CellTypeFromOption[n]))}}}}}}},group3:{components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar-group"}},children:{addRow:{factory:"simpleButton",references:{"class":"toolbar-item",icon:F.default,stateMap:function(){return{enabled:!0}},dispatchMap:function(t){return{click:function(){return t((0,J.default)())}}}}},addColumn:{factory:"simpleButton",references:{"class":"toolbar-item flip-if-rtl",icon:I.default,stateMap:function(){return{enabled:!0}},dispatchMap:function(t){return{click:function(){return t((0,K.default)())}}}}}}},group4:{components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar-group"},connect:{componentName:"connectToStore",stateMap:function(t){return t},dispatchMap:function(t){return{close:function(){t((0,ft.default)(!1))}}}},hideOptionsMenu:{componentName:"interactionActionOnEvent",renderer:"&renderer",eventName:"mousedown",actionName:"close"}},children:{fillColor:{factory:"colorPickerPopup",references:{"class":"toolbar-item",icon:R.default,colors:g.FillColors,stateMap:function(t){return{color:(0,P.getFillColor)(t)}},dispatchMap:function(t){return{updateColor:function(n){return t((0,st.default)(n))}}}}},borderColor:{factory:"colorPickerPopup",references:{"class":"toolbar-item",icon:q.default,colors:g.BorderColors,stateMap:function(t){return{color:(0,P.getBorderColor)(t)}},dispatchMap:function(t){return{updateColor:function(n){return t((0,ot.default)(n))}}}}},mergeCells:{factory:"toggleButton",references:{"class":"toolbar-item merge-cells",icon:V.default,stateMap:function(t){return{enabled:!0,selected:(0,P.getCellsAreMerged)(t)}},dispatchMap:function(t,n){return{click:function(){return t((0,at.default)(!n.selected))}}}}}}},group5:{components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar-group"},connect:{componentName:"connectToStore",stateMap:function(t){return t},dispatchMap:function(t){return{close:function(){t((0,ft.default)(!1))}}}},hideOptionsMenu:{componentName:"interactionActionOnEvent",renderer:"&renderer",eventName:"mousedown",actionName:"close"}},children:{fontSize:{factory:"dropdownMenu",references:{"class":"toolbar-item",width:40,options:d.FontSizeOptions,stateMap:function(t){return{option:d.FontSizeToOption[(0,P.getFontSize)(t)]}},dispatchMap:function(t){return{updateOption:function(n){return t((0,et.default)(d.FontOptionToSize[n]))}}}}}}},group6:{components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar-group"}},children:{textBold:{factory:"toggleButton",components:{renderer:{attributes:{"class":"simple-button-container",title:"Bold"}}},references:{"class":"toolbar-item",icon:z.default,stateMap:function(t){return{enabled:!0,selected:(0,P.getTextIsBold)(t)}},dispatchMap:function(t,n){return{click:function(){return t((0,nt.default)(!n.selected))}}}}},textItalic:{factory:"toggleButton",components:{renderer:{attributes:{"class":"simple-button-container",title:"Italic"}}},references:{"class":"toolbar-item",icon:W.default,stateMap:function(t){return{enabled:!0,selected:(0,P.getTextIsItalic)(t)}},dispatchMap:function(t,n){return{click:function(){return t((0,rt.default)(!n.selected))}}}}},textStrikethrough:{factory:"toggleButton",components:{renderer:{attributes:{"class":"simple-button-container",title:"Strikethrough"}}},references:{"class":"toolbar-item",icon:X.default,stateMap:function(t){return{enabled:!0,selected:(0,P.getTextIsStrikethrough)(t)}},dispatchMap:function(t,n){return{click:function(){return t((0,it.default)(!n.selected))}}}}},textColor:{factory:"colorPickerPopup",references:{"class":"toolbar-item",icon:U.default,colors:g.TextColors,stateMap:function(t){return{color:(0,P.getTextColor)(t)}},dispatchMap:function(t){return{updateColor:function(n){return t((0,ut.default)(n))}}}}},textAlign:{factory:"dropdownButtons",references:{"class":"toolbar-item",buttons:p.AlignOptions,stateMap:function(t){return{option:p.AlignTypeToOption[(0,P.getTextAlign)(t)]}},dispatchMap:function(t){return{updateOption:function(n){return t((0,tt.default)(p.AlignOptionToType[n]))}}}}}}},group7:{components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar-group"}},children:{cellFormat:{factory:"dropdownMenu",references:{"class":"toolbar-item",exposed:!1,title:"123",tick:!0,width:43,options:m.CellFormatOptions,stateMap:function(t){return{option:m.CellFormatToOption[(0,P.getCellFormat)(t)]}},dispatchMap:function(t){return{updateOption:function(n){return t((0,Z.default)(m.CellFormatFromOption[n]))}}}}}}},group8:{components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar-group"}},children:{moreOptionsButton:{factory:"toggleButton",components:{renderer:{attributes:{"class":"simple-button-container",title:"More Options"}}},references:{"class":"toolbar-item",icon:$.default,stateMap:function(t){return{enabled:!0,selected:(0,P.isOptionsMenuVisible)(t)}},dispatchMap:function(t,n){var r=n.selected;return{click:function(){return t((0,ft.default)(!r))}}}}},moreOptionsMenu:{components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar-dropdown"},connect:{componentName:"connectToStore",stateMap:function(t){return{visible:(0,P.isOptionsMenuVisible)(t)}},dispatchMap:function(t){return{close:function(){return t((0,ft.default)(!1))}}}},toggleVisibility:{componentName:"syncReduxToggleVisibility",renderer:"&renderer",selector:function(t){return t.visible}},hideMenuFromTable:{componentName:"interactionActionOnEvent",renderer:"&table.renderer",eventName:"mousedown",actionName:"close"}},children:{group1:{components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar-group"}},children:{mergeCells:{factory:"toggleButton",references:{"class":"toolbar-item merge-cells",icon:V.default,stateMap:function(t){return{enabled:!0,selected:(0,P.getCellsAreMerged)(t)}},dispatchMap:function(t,n){return{click:function(){return t((0,at.default)(!n.selected))}}}}}}},group2:{components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar-group"}},children:{textBold:{factory:"toggleButton",components:{renderer:{attributes:{"class":"simple-button-container",title:"Bold"}}},references:{"class":"toolbar-item",icon:z.default,stateMap:function(t){return{enabled:!0,selected:(0,P.getTextIsBold)(t)}},dispatchMap:function(t,n){return{click:function(){return t((0,nt.default)(!n.selected))}}}}},textItalic:{factory:"toggleButton",components:{renderer:{attributes:{"class":"simple-button-container",title:"Italic"}}},references:{"class":"toolbar-item",icon:W.default,stateMap:function(t){return{enabled:!0,selected:(0,P.getTextIsItalic)(t)}},dispatchMap:function(t,n){return{click:function(){return t((0,rt.default)(!n.selected))}}}}},textStrikethrough:{factory:"toggleButton",components:{renderer:{attributes:{"class":"simple-button-container",title:"Strikethrough"}}},references:{"class":"toolbar-item",icon:X.default,stateMap:function(t){return{enabled:!0,selected:(0,P.getTextIsStrikethrough)(t)}},dispatchMap:function(t,n){return{click:function(){return t((0,it.default)(!n.selected))}}}}},textColor:{factory:"colorPickerPopup",references:{"class":"toolbar-item",icon:U.default,colors:g.TextColors,stateMap:function(t){return{color:(0,P.getTextColor)(t)}},dispatchMap:function(t){return{updateColor:function(n){return t((0,ut.default)(n))}}}}},textAlign:{factory:"dropdownButtons",references:{"class":"toolbar-item",buttons:p.AlignOptions,stateMap:function(t){return{option:p.AlignTypeToOption[(0,P.getTextAlign)(t)]}},dispatchMap:function(t){return{updateOption:function(n){return t((0,tt.default)(p.AlignOptionToType[n]))}}}}}}},group3:{components:{renderer:{componentName:"uiHtmlRenderer","class":"toolbar-group"}},children:{cellFormat:{factory:"dropdownMenu",references:{"class":"toolbar-item",exposed:!1,title:"123",tick:!0,width:43,options:m.CellFormatOptions,stateMap:function(t){return{option:m.CellFormatToOption[(0,P.getCellFormat)(t)]}},dispatchMap:function(t){return{updateOption:function(n){return t((0,Z.default)(m.CellFormatFromOption[n]))}}}}}}}}}}}}}}),define("actions/updateCellData",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,r){return{type:n.default.SET_CELL_DATA,rowIndex:e,columnIndex:t,value:r}};var n=r(t)}),define("actions/insertRow",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.INSERT_ROW,rowIndex:e}};var n=r(t)}),define("actions/insertColumn",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.INSERT_COLUMN,columnIndex:e}};var n=r(t)}),define("actions/removeRows",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return{type:n.default.REMOVE_ROWS,rowIndex:e,amount:t}};var n=r(t)}),define("actions/removeColumns",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return{type:n.default.REMOVE_COLUMNS,columnIndex:e,amount:t}};var n=r(t)}),define("actions/moveRows",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return{type:n.default.MOVE_ROWS,rows:e,targetIndex:t}};var n=r(t)}),define("actions/moveColumns",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return{type:n.default.MOVE_COLUMNS,columns:e,targetIndex:t}};var n=r(t)}),define("actions/setRowHeights",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_ROW_HEIGHTS,value:e}};var n=r(t)}),define("actions/setRowHeaderWidth",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_ROW_HEADER_WIDTH,value:e}};var n=r(t)}),define("actions/setColumnWidths",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_COLUMN_WIDTHS,value:e}};var n=r(t)}),define("actions/updateUndoRedo",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return{type:n.default.UPDATE_UNDO_REDO_AVAILABILITY,data:{undoIsAvailable:e,redoIsAvailable:t}}};var n=r(t)}),define("actions/setMetadata",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_METADATA,value:e}};var n=r(t)}),define("lib/connect/connectTable",["exports","constants/ActionTypes","actions/updateCellData","actions/insertRow","actions/insertColumn","actions/removeRows","actions/removeColumns","actions/moveRows","actions/moveColumns","actions/setRowHeights","actions/setRowHeaderWidth","actions/setColumnWidths","actions/updateUndoRedo","actions/setData","actions/setMetadata","storage/selectors"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v){"use strict";function O(e){return e&&e.__esModule?e:{"default":e}}function M(e){var t=(0,v.getTableData)(e),n=(0,v.getNumberOfColumns)(e),r=(0,v.getMetadata)(e),i=(0,v.isHeadersVisible)(e),s=(0,v.getAnswers)(e),o=(0,v.getInputs)(e),u=i?(0,v.getRowHeaderWidth)(e):0,a=(0,v.getRowHeights)(e),f=(0,v.getColWidths)(e),l=(0,v.getMergedCells)(e),c=(0,v.getDirection)(e);return{data:t,numberOfColumns:n,metadata:r,showHeaders:i,answers:s,inputs:o,rowHeaderWidth:u,rowHeights:a,colWidths:f,mergedCells:l,direction:c}}function _(e,t){return{updateCellData:function(n,r,i){e((0,g.default)(n,r,i))},insertRow:function(n){e((0,y.default)(n))},insertColumn:function(n){e((0,b.default)(n))},removeRows:function(n,r){e((0,w.default)(n,r))},removeColumns:function(n,r){e((0,E.default)(n,r))},moveRows:function(n,r){e((0,S.default)(n,r))},moveColumns:function(n,r){e((0,x.default)(n,r))},setRowHeaderWidth:function(n){e((0,N.default)(n))},setRowHeights:function(n){e((0,T.default)(n))},setColWidths:function(n){e((0,C.default)(n))},updateUndoRedoToolbar:function(n,r){e((0,k.default)(n,r))},setData:function(n){e((0,L.default)(n))},setMetadata:function(n){e((0,A.default)(n))},toggleCellType:function(n,r){e({type:m.default.TOGGLE_CELL_TYPE_VISIBILITY,id:n,value:r})}}}Object.defineProperty(e,"__esModule",{value:!0}),e.stateMap=M,e.dispatchMap=_;var m=O(t),g=O(n),y=O(r),b=O(i),w=O(s),E=O(o),S=O(u),x=O(a),T=O(f),N=O(l),C=O(c),k=O(h),L=O(p),A=O(d)}),define("actions/setTextAlignToolbarState",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_TEXT_ALIGN_TOOLBAR_STATE,align:e}};var n=r(t)}),define("lib/connect/connectSerializer",["exports","constants/ActionTypes","storage/selectors","actions/setData","actions/setTextAlignToolbarState","underscore"],function(e,t,n,r,i,s){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function c(e){var t=(0,n.getTable)(e),r=(0,n.getTableHeaders)(e),i=(0,n.getSimConfig)(e),s=(0,n.getMode)(e);return{table:t,tableHeaders:r,simConfig:i,mode:s}}function h(e,t){var n=t.table,r=t.tableHeaders,i=t.simConfig;return{setMetadata:function(r){if(f.default.isEqual(n.metadata,r))return;e({type:o.default.SET_METADATA,value:r})},setMergedCells:function(r){if(f.default.isEqual(n.mergedCells,r))return;e({type:o.default.SET_MERGED_CELLS,value:r})},setRowHeaderWidth:function(r){if(n.rowHeaderWidth===r)return;e({type:o.default.SET_ROW_HEADER_WIDTH,value:r})},setRowHeights:function(r){if(f.default.isEqual(n.rowHeights,r))return;e({type:o.default.SET_ROW_HEIGHTS,value:r})},setColWidths:function(r){if(f.default.isEqual(n.colWidths,r))return;e({type:o.default.SET_COLUMN_WIDTHS,value:r})},setData:function(r){if(f.default.isEqual(n.data,r))return;e((0,u.default)(r))},setRowHeaders:function(n){if(f.default.isEqual(r.rowHeaders,n))return;e({type:o.default.SET_ROW_HEADERS,headers:n})},setColHeaders:function(n){if(f.default.isEqual(r.colHeaders,n))return;e({type:o.default.SET_COLUMN_HEADERS,headers:n})},setAnswerData:function(r){if(f.default.isEqual(n.answers,r))return;e({type:o.default.SET_ANSWERS,value:r})},setConfig:function(n){if(i.configJSON===n)return;e({type:o.default.SET_CAPI_CONFIG,value:n})},setTextAlignToolbarState:function(n){e((0,a.default)(n))}}}Object.defineProperty(e,"__esModule",{value:!0}),e.stateMap=c,e.dispatchMap=h;var o=l(t),u=l(r),a=l(i),f=l(s)}),define("lib/connect/connectCapiToMetadata",["exports","storage/selectors"],function(e,t){"use strict";function n(e){var n=(0,t.getMetadata)(e),r=(0,t.getStudentEditing)(e),i=(0,t.getGlobalEditing)(e),s=(0,t.isShowCorrect)(e),o=(0,t.getLanguage)(e);return{metadata:n,globalEditing:i,studentEditing:r,showCorrect:s,language:o}}function r(e,t){return{}}Object.defineProperty(e,"__esModule",{value:!0}),e.stateMap=n,e.dispatchMap=r}),define("scenes/base",["exports","jquery","constants/ActionTypes","cdp/entries","prefabLib/factories","./entities/toolbar","storage/reducerMap","lib/connect/connectTable","lib/connect/connectSerializer","lib/connect/connectCapiToMetadata"],function(e,t,n,r,i,s,o,u,a,f){"use strict";function y(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return y=function(){return e},e}function b(e){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{"default":e};var t=y();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function w(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var l=w(t),c=w(n),h=b(i),p=w(s),d=b(o),v=b(u),m=b(a),g=b(f),E={message:{components:{renderer:{componentName:"uiHtmlRenderer","class":"~type",attributes:{"class":"message-overlay"}}},children:{icon:{components:{renderer:{componentName:"uiTextRenderer",text:"~svg","class":"message-overlay-icon"}}},text:{components:{renderer:{componentName:"uiTextRenderer",type:"span",text:"~message","class":"message-overlay-text"}}}}}};l.default.extend(E,h),e.default={factories:E,entities:{redux:{components:{store:{componentName:"reduxStore",reducerMap:d},syncCDP:{componentName:"syncCDP",store:"&store",entries:r.entries}}},sceneSet:{components:{connect:{componentName:"connectToStore",stateMap:m.stateMap,dispatchMap:m.dispatchMap},importCss:{componentName:"behaviourImportCss",store:"&redux.store",storeKey:"simConfig.css",updateActions:[c.default.SET_CAPI_CSS]},serializer:{componentName:"controllerSerialization"}}},instructions:{},overview:{},toolbar:p.default,wrapper:{components:{renderer:{componentName:"uiHtmlRenderer","class":"table-wrapper"}}},table:{components:{renderer:{componentName:"uiHtmlRenderer","class":"table",parent:"&wrapper.renderer"},connect:{componentName:"connectToStore",stateMap:v.stateMap,dispatchMap:v.dispatchMap},controller:{componentName:"controllerTable",tableRenderer:"&renderer"},cellsColorController:{componentName:"controllerCellsColor",tableController:"&controller"},cellsValidationController:{componentName:"controllerCellsValidation",tableController:"&controller",messageHandler:"&messages.controller"},textFormattingController:{componentName:"controllerTextFormatting",tableController:"&controller"},undoRedo:{componentName:"behaviourCheckUndoRedoUnavailable",table:"&controller",toolbarId:"toolbar",store:"&redux.store"},updateTable:{componentName:"controllerUpdateTable",table:"&controller",store:"&redux.store"},syncUndo:{componentName:"behaviourSyncTableOnAction",table:"&controller",store:"&redux.store",action:c.default.UNDO,functionName:"undo"},syncRedo:{componentName:"behaviourSyncTableOnAction",table:"&controller",store:"&redux.store",action:c.default.REDO,functionName:"redo"},updateTableDimsOnResize:{componentName:"behaviourUpdateTableDimsOnResize",tableController:"&controller"},columnsWidth:{componentName:"syncColumnsWidth",tableController:"&controller"},rowsHeight:{componentName:"syncRowsHeight",tableController:"&controller"},rtl:{componentName:"controllerRtl",tableController:"&controller"}},children:{syncTableMetadata:{components:{connect:{componentName:"connectToStore",stateMap:g.stateMap,dispatchMap:g.dispatchMap},sync:{componentName:"syncMetadataToTable",tableController:"&^.controller"}}},syncTableData:{components:{connect:{componentName:"connectToStore",stateMap:v.stateMap,dispatchMap:v.dispatchMap},syncTableData:{componentName:"syncTableData",tableController:"&^.controller"},syncMergedCells:{componentName:"syncMergedCells",tableController:"&^.controller"}}},syncEditor:{components:{connect:{componentName:"connectToStore",stateMap:v.stateMap},syncCellEditor:{componentName:"syncCellEditor",tableController:"&^.controller"}}},syncMergedCells:{components:{connect:{componentName:"connectToStore",stateMap:v.stateMap},syncMergedCells:{componentName:"syncMergedCells",tableController:"&^.controller"}}}}},messages:{components:{renderer:{componentName:"uiHtmlRenderer","class":"message-wrapper"},controller:{componentName:"controllerMessageDisplayer",errorFactory:"+message"}}}}}}),define("actions/setInputs",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{type:n.default.SET_INPUTS_DATA,value:e}};var n=r(t)}),define("lib/connect/connectToCorrect",["exports","storage/selectors","actions/actions","actions/setInputs","underscore"],function(e,t,n,r,i){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e){var n=(0,t.getAnswers)(e),r=(0,t.getMetadata)(e),i=(0,t.getTableData)(e),s=(0,t.getInputs)(e),o=(0,t.isShowCorrect)(e),u=(0,t.isShowHints)(e),a=(0,t.getIsCaseSensitive)(e),f=(0,t.getAlternateCorrectDelimiter)(e);return{answers:n,metadata:r,data:i,inputs:s,showCorrect:o,showHints:u,isCaseSensitive:a,alternateCorrectDelimiter:f}}function f(e,t){var r=t.answers,i=t.inputs;return{setAnswerData:function(i){if(o.default.isEqual(i,r))return;e((0,n.setAnswers)(i))},setInputs:function(n){if(o.default.isEqual(n,i))return;e((0,s.default)(n))},setCorrect:function(r){e((0,n.setCorrect)(r))}}}Object.defineProperty(e,"__esModule",{value:!0}),e.stateMap=a,e.dispatchMap=f;var s=u(r),o=u(i)}),define("lib/connect/connectDropdown",["exports","constants/ActionTypes","storage/selectors"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e){var t=(0,n.getAnswers)(e),r=(0,n.getLanguage)(e);return{answers:t,language:r}}function o(e,t){return{addAnswer:function(n,i,s,o,u){e({type:r.default.ADD_ANSWER,uuid:n,rowIndex:i,colIndex:s,value:o,correct:u})},updateOptionText:function(n,i){e({type:r.default.UPDATE_ANSWER,uuid:n,value:i})},removeAnswer:function(n){e({type:r.default.REMOVE_ANSWER,uuid:n})},setCorrect:function(n){e({type:r.default.UPDATE_CORRECT,uuid:n})}}}Object.defineProperty(e,"__esModule",{value:!0}),e.stateMap=s,e.dispatchMap=o;var r=i(t)}),define("actions/newCellSelection",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,r,i){return{type:n.default.NEW_CELL_SELECTION,startRow:e,startCol:t,endRow:r,endCol:i}};var n=r(t)}),define("actions/addCellSelection",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,r,i){return{type:n.default.ADD_CELL_SELECTION,startRow:e,startCol:t,endRow:r,endCol:i}};var n=r(t)}),define("actions/clearCellSelection",["exports","constants/ActionTypes"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{type:n.default.CLEAR_CELL_SELECTION}};var n=r(t)}),define("lib/connect/connectSelection",["exports","actions/newCellSelection","actions/addCellSelection","actions/clearCellSelection"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e){return e}function f(e){return{newSelection:function(n,r,s,o){e((0,i.default)(n,r,s,o))},addSelection:function(n,r,i,o){e((0,s.default)(n,r,i,o))},clearSelection:function(){e((0,o.default)())}}}Object.defineProperty(e,"__esModule",{value:!0}),e.stateMap=a,e.dispatchMap=f;var i=u(t),s=u(n),o=u(r)}),define("scenes/config",["exports","jquery","constants/Mode","scenes/base","lib/connect/connectToCorrect","lib/connect/connectDropdown","lib/connect/connectSelection"],function(e,t,n,r,i,s,o){"use strict";function p(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return p=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{"default":e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function v(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var u=v(t),a=v(n),f=v(r),l=d(i),c=d(s),h=d(o);e.default=u.default.extend(!0,{},f.default,{id:a.default.CONFIG,factories:{dropdownInputItem:{components:{renderer:{componentName:"uiHtmlRenderer","class":"dropdown-item",parent:"~parent"}},children:{selected:{components:{connect:{componentName:"connectToStore",stateMap:c.stateMap,dispatchMap:c.dispatchMap},renderer:{componentName:"uiHtmlRenderer","class":"dropdown-item-select-button",type:"button"},toggle:{componentName:"syncReduxToggleClass",renderer:"&renderer",className:"selected",selector:"~correctSelector",storeValue:!0},action:{componentName:"interactionSetCorrectOnClick",renderer:"&renderer",selector:"~correctSelector",actionName:"setCorrect",uuid:"~uuid"}}},name:{components:{connect:{componentName:"connectToStore",stateMap:c.stateMap,dispatchMap:c.dispatchMap},renderer:{componentName:"uiTextRenderer","class":"dropdown-item-name",text:"~text",attributes:{contentEditable:!0}},sync:{componentName:"syncDropdownOptionText",renderer:"&renderer",uuid:"~uuid"},highlight:{componentName:"controllerDropdownOption",renderer:"&renderer",focused:"~focus"}}},"delete":{components:{connect:{componentName:"connectToStore",stateMap:c.stateMap,dispatchMap:c.dispatchMap},renderer:{componentName:"uiHtmlRenderer","class":"dropdown-item-delete",type:"button"},click:{componentName:"interactionRemoveOptionOnClick",renderer:"&renderer",uuid:"~uuid"}}}}},dropdownInput:{components:{connect:{componentName:"connectToStore",stateMap:c.stateMap,dispatchMap:c.dispatchMap},renderer:{componentName:"uiHtmlRenderer",parent:"~parent"},controller:{componentName:"controllerDropdown",renderer:"&.popup.options.renderer",optionFactory:"+dropdownInputItem",rowIndex:"~rowIndex",colIndex:"~colIndex"},stopPropagation:{componentName:"behaviourStopPropagation",renderer:"&renderer",eventName:"contextmenu"},positionerWidth:{componentName:"controllerDropdownPositioner",renderer:"&.popup.renderer",property:"width",classWhenOutside:"align-right",originalPosition:"~left"},positionerHeight:{componentName:"controllerDropdownPositioner",renderer:"&.popup.renderer",property:"height",classWhenOutside:"align-bottom",originalPosition:"~top"}},children:{selectedValue:{components:{connect:{componentName:"connectToStore",stateMap:c.stateMap,dispatchMap:c.dispatchMap},renderer:{componentName:"uiTextRenderer","class":"dropdown-selected-value",text:"~selectedValue"},sync:{componentName:"syncSelectedDropdownOptionText",renderer:"&renderer",rowIndex:"~rowIndex",colIndex:"~colIndex"},setHeight:{componentName:"syncSelectedValueCss",cssName:"height",renderer:"&renderer",value:"~selectedValueHeight"},setFontsize:{componentName:"syncSelectedValueCss",cssName:"font-size",renderer:"&renderer",value:"~selectValueFontSize",suffix:""}}},popup:{components:{renderer:{componentName:"uiHtmlRenderer","class":"dropdown-popout"}},children:{options:{components:{connect:{componentName:"connectToStore",stateMap:c.stateMap,dispatchMap:c.dispatchMap},renderer:{componentName:"uiTextRenderer","class":"dropdown-options"},addNewOption:{componentName:"controllerAddNewOption",rowIndex:"~rowIndex",colIndex:"~colIndex"}}},addOption:{components:{connect:{componentName:"connectToStore",stateMap:c.stateMap,dispatchMap:c.dispatchMap},renderer:{componentName:"uiHtmlRenderer","class":"dropdown-add-option",type:"button"},click:{componentName:"interactionAddOptionOnClick",renderer:"&renderer",rowIndex:"~rowIndex",colIndex:"~colIndex"}},children:{text:{components:{renderer:{componentName:"uiTextRenderer","class":"dropdown-add-text",type:"span",text:"Add option"}}}}}}}}}},entities:{table:{children:{syncTableMetadata:{components:{sync:{sceneName:a.default.CONFIG}}},syncAnswers:{components:{connect:{componentName:"connectToStore",stateMap:l.stateMap,dispatchMap:l.dispatchMap},syncAnswerData:{componentName:"syncUpdateAnswers",tableController:"&^.controller"},syncInputs:{componentName:"syncInputs",tableController:"&^.controller"}}},syncSelection:{components:{connect:{componentName:"connectToStore",stateMap:h.stateMap,dispatchMap:h.dispatchMap},syncCellSelection:{componentName:"syncCellSelection",tableController:"&^.controller"}}}}}}})}),define("lib/connect/connectInstructions",["exports","storage/selectors","util/languageUtils","util/htmlUtils"],function(e,t,n,r){"use strict";function i(e){var n=(0,t.getRowCount)(e),r=(0,t.getColumnCount)(e);return"Table with ".concat(r," column").concat(r>1?"s":""," and ").concat(n," row").concat(n>1?"s":"",".")}function s(e){var i=(0,t.getTableTitle)(e),s=(0,t.getLanguage)(e),o=(0,n.getLanguage)(s);return i?'<span lang="'.concat(o,'">').concat((0,r.escTextContent)(i),".</span>"):""}function o(e){var i=(0,t.getTableSummary)(e),s=(0,t.getLanguage)(e),o=(0,n.getLanguage)(s);return i?'<span lang="'.concat(o,'">').concat((0,r.escTextContent)(i),".</span>"):""}function u(e){var n=(0,t.isNavigationEnabled)(e),r=(0,t.getBlankCount)(e);return r<=0||!n?"":"Press Tab to move to a blank and then Enter to select it. Navigate between cells using the arrow keys."}function a(e){var n=(0,t.isNavigationEnabled)(e),r=(0,t.getBlankCount)(e);return r<=0||!n?"":r>1?"There are ".concat(r," blanks to complete."):"There is 1 blank to complete."}function f(e){var n=(0,t.getCompletedBlankCount)(e),r=(0,t.getBlankCount)(e);return"You've completed ".concat(n," out of ").concat(r," blank").concat(r===1?"":"s",". Press Tab to exit the table.")}function l(e){var n=(0,t.getCompletedBlankCount)(e),r=(0,t.getBlankCount)(e);return r>0&&n!==r}function c(e){return(0,t.isShowHints)(e)||(0,t.isShowCorrect)(e)?"There are ".concat((0,t.getCorrectCount)(e)," correct and ").concat((0,t.getIncorrectCount)(e)," incorrect inputs in this table."):""}function h(e){var i=(0,t.getTableData)(e),s=(0,t.getLanguage)(e),o=(0,n.getLanguage)(s),u="";return i.forEach(function(n,s){n.forEach(function(n,a){var f=(0,t.getCellIsAssessed)(e,s,a);if(!n&&!f)return;var l=i[0][a];u+=l?'<span lang="'.concat(o,'">').concat((0,r.escTextContent)(l),"</span>, "):"",u+=a===0?"column ".concat(a+1," row ").concat(s+1,", "):"column ".concat(a+1,", "),u+=!n&&f?"Blank. ":'<span lang="'.concat(o,'">').concat((0,r.escTextContent)(n),". </span>")})}),u}function p(e){var t=[c(e),i(e),s(e),o(e),u(e),a(e),h(e)],n=t.filter(function(e){return e&&e.length}).join(" ").trim(),r=f(e),p=l(e);return{text:n,exit:r,showExit:p}}Object.defineProperty(e,"__esModule",{value:!0}),e.stateMap=p}),define("scenes/student",["exports","jquery","constants/Mode","scenes/base","lib/connect/connectToCorrect","lib/connect/connectDropdown","lib/connect/connectInstructions"],function(e,t,n,r,i,s,o){"use strict";function p(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return p=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{"default":e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function v(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var u=v(t),a=v(n),f=v(r),l=d(i),c=d(s),h=d(o);e.default=u.default.extend(!0,{},f.default,{id:a.default.STUDENT,factories:{dropdownInputItem:{components:{renderer:{componentName:"uiHtmlRenderer","class":"dropdown-item",parent:"~parent",type:"option"},selected:{componentName:"behaviourAddSelectedOnStart",renderer:"&renderer",selectedValue:"~selectedValue"}},children:{name:{components:{connect:{componentName:"connectToStore",stateMap:c.stateMap,dispatchMap:c.dispatchMap},renderer:{componentName:"uiTextRenderer","class":"dropdown-item-name",text:"~text"},sync:{componentName:"syncDropdownOptionText",renderer:"&renderer",uuid:"~uuid"}}}}},dropdownInput:{components:{connect:{componentName:"connectToStore",stateMap:c.stateMap,dispatchMap:c.dispatchMap},renderer:{componentName:"uiHtmlRenderer",parent:"~parent",type:"select"},select2:{componentName:"controllerSelect2",renderer:"&renderer",options:{width:"100%",minimumResultsForSearch:-1},rowIndex:"~rowIndex",colIndex:"~colIndex",selectedValue:"~selectedValue"},stopPropagation:{componentName:"behaviourStopPropagation",renderer:"&renderer",eventName:"contextmenu"},setHeight:{componentName:"syncSelectedValueCss",cssName:"height",renderer:"~parent",value:"~selectedValueHeight"},setFontsize:{componentName:"syncSelectedValueCss",cssName:"font-size",renderer:"~parent",value:"~selectValueFontSize",suffix:""}}}},entities:{instructions:{components:{renderer:{componentName:"uiHtmlRenderer","class":"instructions",attributes:{tabindex:0}},connect:{componentName:"connectToStore",stateMap:h.stateMap},text:{componentName:"syncReduxToHtml",renderer:"&renderer",selector:function(t){return t.text}}}},toolbar:{components:{hidden:{componentName:"syncReduxToggleVisibility",renderer:"&renderer",selector:function(){return!1}}}},table:{components:{controller:{allowEdit:!1},accessibility:{componentName:"controllerTableAccessibility",$container:(0,u.default)("body"),tableController:"&controller"}},children:{syncTableMetadata:{components:{sync:{sceneName:a.default.STUDENT}}},syncTableData:{components:{syncTableData:{storeInputChanges:!0}}},syncInputs:{components:{connect:{componentName:"connectToStore",stateMap:l.stateMap,dispatchMap:l.dispatchMap},syncInputCorrectness:{componentName:"syncInputCorrectness"},correct:{componentName:"syncCorrect"}}},correctAnswers:{components:{connect:{componentName:"connectToStore",stateMap:l.stateMap,dispatchMap:l.dispatchMap},showCorrectAnswers:{componentName:"controllerShowCorrectAnswers",tableController:"&^.controller"},showAnswersHints:{componentName:"controllerShowAnswersHint",tableController:"&^.controller"}}}}},exit:{components:{renderer:{componentName:"uiHtmlRenderer","class":"sr-only"},connect:{componentName:"connectToStore",stateMap:h.stateMap},enable:{componentName:"syncReduxToAttribute",renderer:"&renderer",selector:function(t){return t.showExit},attribute:"tabindex",formatter:function(t){return t?"0":"-1"}},text:{componentName:"syncReduxToText",renderer:"&renderer",selector:function(t){return t.exit}}}}}})}),define("scenes/index",["exports","scenes/initial","scenes/config","scenes/student"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=u(t),s=u(n),o=u(r);e.default={pauseOnBlur:!1,scenes:[i.default,s.default,o.default]}}),!function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){(function(t){"use strict";if(e(189),e(2),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{189:189,2:2}],2:[function(e,t,n){t.exports=e(190)},{190:190}],3:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],4:[function(e,t,n){var r=e(84)("unscopables"),i=Array.prototype;void 0==i[r]&&e(32)(i,r,{}),t.exports=function(e){i[r][e]=!0}},{32:32,84:84}],5:[function(e,t,n){var r=e(39);t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{39:39}],6:[function(e,t,n){"use strict";var r=e(81),i=e(77),s=e(80);t.exports=[].copyWithin||function(t,n){var u=r(this),a=s(u.length),f=i(t,a),l=i(n,a),c=arguments,h=c.length>2?c[2]:void 0,p=Math.min((void 0===h?a:i(h,a))-l,a-f),d=1;for(f>l&&l+p>f&&(d=-1,l+=p-1,f+=p-1);p-->0;)l in u?u[f]=u[l]:delete u[f],f+=d,l+=d;return u}},{77:77,80:80,81:81}],7:[function(e,t,n){"use strict";var r=e(81),i=e(77),s=e(80);t.exports=[].fill||function(t){for(var n=r(this,!0),u=s(n.length),a=arguments,f=a.length,l=i(f>1?a[1]:void 0,u),c=f>2?a[2]:void 0,h=void 0===c?u:i(c,u);h>l;)n[l++]=t;return n}},{77:77,80:80,81:81}],8:[function(e,t,n){var r=e(79),i=e(80),s=e(77);t.exports=function(e){return function(t,n,u){var a,f=r(t),l=i(f.length),c=s(u,l);if(e&&n!=n){for(;l>c;)if(a=f[c++],a!=a)return!0}else for(;l>c;c++)if((e||c in f)&&f[c]===n)return e||c;return!e&&-1}}},{77:77,79:79,80:80}],9:[function(e,t,n){var r=e(18),i=e(35),s=e(81),o=e(80),u=e(10);t.exports=function(e){var t=1==e,n=2==e,a=3==e,f=4==e,l=6==e,h=5==e||l;return function(p,d,v){for(var m,g,y=s(p),b=i(y),w=r(d,v,3),E=o(b.length),S=0,x=t?u(p,E):n?u(p,0):void 0;E>S;S++)if((h||S in b)&&(m=b[S],g=w(m,S,y),e))if(t)x[S]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return S;case 2:x.push(m)}else if(f)return!1;return l?-1:a||f?f:x}}},{10:10,18:18,35:35,80:80,81:81}],10:[function(e,t,n){var r=e(39),i=e(37),s=e(84)("species");t.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),r(n)&&(n=n[s],null===n&&(n=void 0))),new(void 0===n?Array:n)(t)}},{37:37,39:39,84:84}],11:[function(e,t,n){var r=e(12),i=e(84)("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof (n=(t=Object(e))[i])?n:s?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},{12:12,84:84}],12:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],13:[function(e,t,n){"use strict";var r=e(47),i=e(32),s=e(54),o=e(18),u=e(70),a=e(20),f=e(28),l=e(43),c=e(45),h=e(83)("id"),p=e(31),d=e(39),v=e(66),m=e(21),g=Object.isExtensible||d,y=m?"_s":"size",b=0,w=function(e,t){if(!d(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!p(e,h)){if(!g(e))return"F";if(!t)return"E";i(e,h,++b)}return"O"+e[h]},E=function(e,t){var n,r=w(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,i){var l=e(function(e,s){u(e,l,t),e._i=r.create(null),e._f=void 0,e._l=void 0,e[y]=0,void 0!=s&&f(s,n,e[i],e)});return s(l.prototype,{clear:function(){for(var t=this,n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[y]=0},"delete":function(e){var t=this,n=E(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[y]--}return!!n},forEach:function(t){for(var n,r=o(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!E(this,t)}}),m&&r.setDesc(l.prototype,"size",{get:function(){return a(this[y])}}),l},def:function(e,t,n){var r,i,s=E(e,t);return s?s.v=n:(e._l=s={i:i=w(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=s),r&&(r.n=s),e[y]++,"F"!==i&&(e._i[i]=s)),e},getEntry:E,setStrong:function(e,t,n){l(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?c(0,n.k):"values"==t?c(0,n.v):c(0,[n.k,n.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),v(t)}}},{18:18,20:20,21:21,28:28,31:31,32:32,39:39,43:43,45:45,47:47,54:54,66:66,70:70,83:83}],14:[function(e,t,n){var r=e(28),i=e(11);t.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");var n=[];return r(this,!1,n.push,n),n}}},{11:11,28:28}],15:[function(e,t,n){"use strict";var r=e(32),i=e(54),s=e(5),o=e(70),u=e(28),a=e(9),f=e(83)("weak"),l=e(39),c=e(31),h=Object.isExtensible||l,p=a(5),d=a(6),v=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},y=function(e,t){return p(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=y(this,e);return t?t[1]:void 0},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t])},"delete":function(e){var t=d(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,n,r){var s=e(function(e,i){o(e,s,t),e._i=v++,e._l=void 0,void 0!=i&&u(i,n,e[r],e)});return i(s.prototype,{"delete":function(e){return l(e)?h(e)?c(e,f)&&c(e[f],this._i)&&delete e[f][this._i]:m(this)["delete"](e):!1},has:function(t){return l(t)?h(t)?c(t,f)&&c(t[f],this._i):m(this).has(t):!1}}),s},def:function(e,t,n){return h(s(t))?(c(t,f)||r(t,f,{}),t[f][e._i]=n):m(e).set(t,n),e},frozenStore:m,WEAK:f}},{28:28,31:31,32:32,39:39,5:5,54:54,70:70,83:83,9:9}],16:[function(e,t,n){"use strict";var r=e(30),i=e(19),s=e(62),o=e(54),u=e(28),a=e(70),f=e(39),l=e(25),c=e(44),h=e(67);t.exports=function(e,t,n,p,d,v){var m=r[e],g=m,y=d?"set":"add",b=g&&g.prototype,w={},E=function(e){var t=b[e];s(b,e,"delete"==e?function(e){return v&&!f(e)?!1:t.call(this,0===e?0:e)}:"has"==e?function(n){return v&&!f(n)?!1:t.call(this,0===n?0:n)}:"get"==e?function(n){return v&&!f(n)?void 0:t.call(this,0===n?0:n)}:"add"==e?function(n){return t.call(this,0===n?0:n),this}:function(n,r){return t.call(this,0===n?0:n,r),this})};if("function"==typeof g&&(v||b.forEach&&!l(function(){(new g).entries().next()}))){var S,x=new g,T=x[y](v?{}:-0,1)!=x,N=l(function(){x.has(1)}),C=c(function(e){new g(e)});C||(g=t(function(t,n){a(t,g,e);var r=new m;return void 0!=n&&u(n,d,r[y],r),r}),g.prototype=b,b.constructor=g),v||x.forEach(function(e,t){S=1/t===-1/0}),(N||S)&&(E("delete"),E("has"),d&&E("get")),(S||T)&&E(y),v&&b.clear&&delete b.clear}else g=p.getConstructor(t,e,d,y),o(g.prototype,n);return h(g,e),w[e]=g,i(i.G+i.W+i.F*(g!=m),w),v||p.setStrong(g,e,d),g}},{19:19,25:25,28:28,30:30,39:39,44:44,54:54,62:62,67:67,70:70}],17:[function(e,t,n){var r=t.exports={version:"1.2.5"};"number"==typeof __e&&(__e=r)},{}],18:[function(e,t,n){var r=e(3);t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{3:3}],19:[function(e,t,n){var r=e(30),i=e(17),s=e(32),o=e(62),u="prototype",a=function(e,t){return function(){return e.apply(t,arguments)}},f=function(e,t,n){var l,h,p,d,v=e&f.G,m=e&f.P,g=v?r:e&f.S?r[t]||(r[t]={}):(r[t]||{})[u],y=v?i:i[t]||(i[t]={});v&&(n=t);for(l in n)h=!(e&f.F)&&g&&l in g,p=(h?g:n)[l],d=e&f.B&&h?a(p,r):m&&"function"==typeof p?a(Function.call,p):p,g&&!h&&o(g,l,p),y[l]!=p&&s(y,l,d),m&&((y[u]||(y[u]={}))[l]=p)};r.core=i,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,t.exports=f},{17:17,30:30,32:32,62:62}],20:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],21:[function(e,t,n){t.exports=!e(25)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{25:25}],22:[function(e,t,n){var r=e(39),i=e(30).document,s=r(i)&&r(i.createElement);t.exports=function(e){return s?i.createElement(e):{}}},{30:30,39:39}],23:[function(e,t,n){var r=e(47);t.exports=function(e){var t=r.getKeys(e),n=r.getSymbols;if(n)for(var i,s=n(e),o=r.isEnum,u=0;s.length>u;)o.call(e,i=s[u++])&&t.push(i);return t}},{47:47}],24:[function(e,t,n){var r=e(84)("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(i){}}return!0}},{84:84}],25:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],26:[function(e,t,n){"use strict";var r=e(32),i=e(62),s=e(25),o=e(20),u=e(84);t.exports=function(e,t,n){var a=u(e),f=""[e];s(function(){var t={};return t[a]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,n(o,a,f)),r(RegExp.prototype,a,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},{20:20,25:25,32:32,62:62,84:84}],27:[function(e,t,n){"use strict";var r=e(5);t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{5:5}],28:[function(e,t,n){var r=e(18),i=e(41),s=e(36),o=e(5),u=e(80),a=e(85);t.exports=function(e,t,n,f){var l,h,p,d=a(e),v=r(n,f,t?2:1),m=0;if("function"!=typeof d)throw TypeError(e+" is not iterable!");if(s(d))for(l=u(e.length);l>m;m++)t?v(o(h=e[m])[0],h[1]):v(e[m]);else for(p=d.call(e);!(h=p.next()).done;)i(p,v,h.value,t)}},{18:18,36:36,41:41,5:5,80:80,85:85}],29:[function(e,t,n){var r={}.toString,i=e(79),s=e(47).getNames,o="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return s(e)}catch(t){return o.slice()}};t.exports.get=function(t){return o&&"[object Window]"==r.call(t)?u(t):s(i(t))}},{47:47,79:79}],30:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],31:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],32:[function(e,t,n){var r=e(47),i=e(61);t.exports=e(21)?function(e,t,n){return r.setDesc(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{21:21,47:47,61:61}],33:[function(e,t,n){t.exports=e(30).document&&document.documentElement},{30:30}],34:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],35:[function(e,t,n){var r=e(12);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{12:12}],36:[function(e,t,n){var r=e(46),i=e(84)("iterator"),s=Array.prototype;t.exports=function(e){return(r.Array||s[i])===e}},{46:46,84:84}],37:[function(e,t,n){var r=e(12);t.exports=Array.isArray||function(e){return"Array"==r(e)}},{12:12}],38:[function(e,t,n){var r=e(39),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},{39:39}],39:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],40:[function(e,t,n){var r=e(39),i=e(12),s=e(84)("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},{12:12,39:39,84:84}],41:[function(e,t,n){var r=e(5);t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw void 0!==o&&r(o.call(e)),s}}},{5:5}],42:[function(e,t,n){"use strict";var r=e(47),i=e(61),s=e(67),o={};e(32)(o,e(84)("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r.create(o,{next:i(1,n)}),s(e,t+" Iterator")}},{32:32,47:47,61:61,67:67,84:84}],43:[function(e,t,n){"use strict";var r=e(49),i=e(19),s=e(62),o=e(32),u=e(31),a=e(84)("iterator"),f=e(46),l=e(42),c=e(67),h=e(47).getProto,p=!([].keys&&"next"in[].keys()),d="@@iterator",v="keys",m="values",g=function(){return this};t.exports=function(e,t,n,b,w,E,S){l(n,t,b);var x,T,N=function(e){if(!p&&e in k)return k[e];switch(e){case v:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",k=e.prototype,L=k[a]||k[d]||w&&k[w],A=L||N(w);if(L){var O=h(A.call(new e));c(O,C,!0),!r&&u(k,d)&&o(O,a,g)}if(r&&!S||!p&&a in k||o(k,a,A),f[t]=A,f[C]=g,w)if(x={values:w==m?A:N(m),keys:E?A:N(v),entries:w!=m?A:N("entries")},S)for(T in x)T in k||s(k,T,x[T]);else i(i.P+i.F*p,t,x);return x}},{19:19,31:31,32:32,42:42,46:46,47:47,49:49,62:62,67:67,84:84}],44:[function(e,t,n){var r=e(84)("iterator"),i=!1;try{var s=[7][r]();s["return"]=function(){i=!0},Array.from(s,function(){throw 2})}catch(o){}t.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var s=[7],o=s[r]();o.next=function(){n=!0},s[r]=function(){return o},e(s)}catch(u){}return n}},{84:84}],45:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],46:[function(e,t,n){t.exports={}},{}],47:[function(e,t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},{}],48:[function(e,t,n){var r=e(47),i=e(79);t.exports=function(e,t){for(var n,s=i(e),u=r.getKeys(s),a=u.length,f=0;a>f;)if(s[n=u[f++]]===t)return n}},{47:47,79:79}],49:[function(e,t,n){t.exports=!1},{}],50:[function(e,t,n){t.exports=Math.expm1||function(t){return 0==(t=+t)?t:t>-0.000001&&1e-6>t?t+t*t/2:Math.exp(t)-1}},{}],51:[function(e,t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&1e-8>t?t-t*t/2:Math.log(1+t)}},{}],52:[function(e,t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:0>t?-1:1}},{}],53:[function(e,t,n){var r,i,s,o=e(30),u=e(76).set,a=o.MutationObserver||o.WebKitMutationObserver,f=o.process,l="process"==e(12)(f),c=function(){var e,t;for(l&&(e=f.domain)&&(f.domain=null,e.exit());r;)t=r.domain,t&&t.enter(),r.fn.call(),t&&t.exit(),r=r.next;i=void 0,e&&e.enter()};if(l)s=function(){f.nextTick(c)};else if(a){var h=1,p=document.createTextNode("");(new a(c)).observe(p,{characterData:!0}),s=function(){p.data=h=-h}}else s=function(){u.call(o,c)};t.exports=function(t){var n={fn:t,next:void 0,domain:l&&f.domain};i&&(i.next=n),r||(r=n,s()),i=n}},{12:12,30:30,76:76}],54:[function(e,t,n){var r=e(62);t.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e}},{62:62}],55:[function(e,t,n){var r=e(47),i=e(81),s=e(35);t.exports=e(25)(function(){var e=Object.assign,t={},n={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=i})?function(t,n){for(var u=i(t),a=arguments,f=a.length,l=1,c=r.getKeys,h=r.getSymbols,p=r.isEnum;f>l;)for(var d,v=s(a[l++]),m=h?c(v).concat(h(v)):c(v),g=m.length,y=0;g>y;)p.call(v,d=m[y++])&&(u[d]=v[d]);return u}:Object.assign},{25:25,35:35,47:47,81:81}],56:[function(e,t,n){var r=(e(19),e(17)),i=e(25);t.exports=function(t,n){var s=e(19),u=(r.Object||{})[t]||Object[t],a={};a[t]=n(u),s(s.S+s.F*i(function(){u(1)}),"Object",a)}},{17:17,19:19,25:25}],57:[function(e,t,n){var r=e(47),i=e(79),s=r.isEnum;t.exports=function(e){return function(t){for(var n,u=i(t),a=r.getKeys(u),f=a.length,l=0,c=[];f>l;)s.call(u,n=a[l++])&&c.push(e?[n,u[n]]:u[n]);return c}}},{47:47,79:79}],58:[function(e,t,n){var r=e(47),i=e(5),s=e(30).Reflect;t.exports=s&&s.ownKeys||function(t){var n=r.getNames(i(t)),s=r.getSymbols;return s?n.concat(s(t)):n}},{30:30,47:47,5:5}],59:[function(e,t,n){"use strict";var r=e(60),i=e(34),s=e(3);t.exports=function(){for(var e=s(this),t=arguments.length,n=Array(t),u=0,a=r._,f=!1;t>u;)(n[u]=arguments[u++])===a&&(f=!0);return function(){var r,s=this,u=arguments,l=u.length,h=0,p=0;if(!f&&!l)return i(e,n,s);if(r=n.slice(),f)for(;t>h;h++)r[h]===a&&(r[h]=u[p++]);for(;l>p;)r.push(u[p++]);return i(e,r,s)}}},{3:3,34:34,60:60}],60:[function(e,t,n){t.exports=e(30)},{30:30}],61:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],62:[function(e,t,n){var r=e(30),i=e(32),s=e(83)("src"),o="toString",u=Function[o],a=(""+u).split(o);e(17).inspectSource=function(e){return u.call(e)},(t.exports=function(e,t,n,o){"function"==typeof n&&(n.hasOwnProperty(s)||i(n,s,e[t]?""+e[t]:a.join(String(t))),n.hasOwnProperty("name")||i(n,"name",t)),e===r?e[t]=n:(o||delete e[t],i(e,t,n))})(Function.prototype,o,function f(){return"function"==typeof this&&this[s]||u.call(this)})},{17:17,30:30,32:32,83:83}],63:[function(e,t,n){t.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},{}],64:[function(e,t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t===1/n:t!=t&&n!=n}},{}],65:[function(e,t,n){var r=e(47).getDesc,i=e(39),s=e(5),o=function(e,t){if(s(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{i=e(18)(Function.call,r(Object.prototype,"__proto__").set,2),i(t,[]),n=!(t instanceof Array)}catch(s){n=!0}return function(t,r){return o(t,r),n?t.__proto__=r:i(t,r),t}}({},!1):void 0),check:o}},{18:18,39:39,47:47,5:5}],66:[function(e,t,n){"use strict";var r=e(30),i=e(47),s=e(21),o=e(84)("species");t.exports=function(e){var t=r[e];s&&t&&!t[o]&&i.setDesc(t,o,{configurable:!0,get:function(){return this}})}},{21:21,30:30,47:47,84:84}],67:[function(e,t,n){var r=e(47).setDesc,i=e(31),s=e(84)("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},{31:31,47:47,84:84}],68:[function(e,t,n){var r=e(30),i="__core-js_shared__",s=r[i]||(r[i]={});t.exports=function(e){return s[e]||(s[e]={})}},{30:30}],69:[function(e,t,n){var r=e(5),i=e(3),s=e(84)("species");t.exports=function(e,t){var n,u=r(e).constructor;return void 0===u||void 0==(n=r(u)[s])?t:i(n)}},{3:3,5:5,84:84}],70:[function(e,t,n){t.exports=function(e,t,n){if(e instanceof t)return e;throw TypeError(n+": use the 'new' operator!")}},{}],71:[function(e,t,n){var r=e(78),i=e(20);t.exports=function(e){return function(t,n){var s,u,a=String(i(t)),f=r(n),l=a.length;return 0>f||f>=l?e?"":void 0:(s=a.charCodeAt(f),55296>s||s>56319||f+1===l||(u=a.charCodeAt(f+1))<56320||u>57343?e?a.charAt(f):s:e?a.slice(f,f+2):(s-55296<<10)+(u-56320)+65536)}}},{20:20,78:78}],72:[function(e,t,n){var r=e(40),i=e(20);t.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},{20:20,40:40}],73:[function(e,t,n){var r=e(80),i=e(74),s=e(20);t.exports=function(e,t,n,u){var a=String(s(e)),f=a.length,l=void 0===n?" ":String(n),c=r(t);if(f>=c)return a;""==l&&(l=" ");var h=c-f,p=i.call(l,Math.ceil(h/l.length));return p.length>h&&(p=p.slice(0,h)),u?p+a:a+p}},{20:20,74:74,80:80}],74:[function(e,t,n){"use strict";var r=e(78),i=e(20);t.exports=function(t){var n=String(i(this)),s="",u=r(t);if(0>u||u==1/0)throw RangeError("Count can't be negative");for(;u>0;(u>>>=1)&&(n+=n))1&u&&(s+=n);return s}},{20:20,78:78}],75:[function(e,t,n){var r=e(19),i=e(20),s=e(25),o="	\n\f\r Â áá ââââââââââââ¯âã\u2028\u2029ï»¿",u="["+o+"]",a="âÂ",f=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),c=function(e,t){var n={};n[e]=t(h),r(r.P+r.F*s(function(){return!!o[e]()||a[e]()!=a}),"String",n)},h=c.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(f,"")),2&t&&(e=e.replace(l,"")),e};t.exports=c},{19:19,20:20,25:25}],76:[function(e,t,n){"use strict";var r,i,s,o=e(18),u=e(34),a=e(33),f=e(22),l=e(30),c=l.process,h=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,v=0,m={},g="onreadystatechange",y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){y.call(e.data)};h&&p||(h=function(t){for(var n=[],i=1;arguments.length>i;)n.push(arguments[i++]);return m[++v]=function(){u("function"==typeof t?t:Function(t),n)},r(v),v},p=function(t){delete m[t]},"process"==e(12)(c)?r=function(e){c.nextTick(o(y,e,1))}:d?(i=new d,s=i.port2,i.port1.onmessage=b,r=o(s.postMessage,s,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r=g in f("script")?function(e){a.appendChild(f("script"))[g]=function(){a.removeChild(this),y.call(e)}}:function(e){setTimeout(o(y,e,1),0)}),t.exports={set:h,clear:p}},{12:12,18:18,22:22,30:30,33:33,34:34}],77:[function(e,t,n){var r=e(78),i=Math.max,s=Math.min;t.exports=function(e,t){return e=r(e),0>e?i(e+t,0):s(e,t)}},{78:78}],78:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],79:[function(e,t,n){var r=e(35),i=e(20);t.exports=function(e){return r(i(e))}},{20:20,35:35}],80:[function(e,t,n){var r=e(78),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{78:78}],81:[function(e,t,n){var r=e(20);t.exports=function(e){return Object(r(e))}},{20:20}],82:[function(e,t,n){var r=e(39);t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof (n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof (n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof (n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{39:39}],83:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],84:[function(e,t,n){var r=e(68)("wks"),i=e(83),s=e(30).Symbol;t.exports=function(e){return r[e]||(r[e]=s&&s[e]||(s||i)("Symbol."+e))}},{30:30,68:68,83:83}],85:[function(e,t,n){var r=e(11),i=e(84)("iterator"),s=e(46);t.exports=e(17).getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||s[r(e)]:void 0}},{11:11,17:17,46:46,84:84}],86:[function(e,t,n){"use strict";var r,i=e(47),s=e(21),o=e(61),u=e(33),a=e(22),f=e(31),l=e(12),c=e(19),h=e(34),p=e(9),d=e(83)("__proto__"),v=e(39),m=e(5),g=e(3),y=e(81),b=e(79),w=e(78),E=e(77),S=e(80),x=e(35),T=e(25),N=Object.prototype,C=[],k=C.slice,L=C.join,A=i.setDesc,O=i.getDesc,M=i.setDescs,_=e(8)(!1),D={};s||(r=!T(function(){return 7!=A(a("div"),"a",{get:function(){return 7}}).a}),i.setDesc=function(e,t,n){if(r)try{return A(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(m(e)[t]=n.value),e},i.getDesc=function(e,t){if(r)try{return O(e,t)}catch(n){}return f(e,t)?o(!N.propertyIsEnumerable.call(e,t),e[t]):void 0},i.setDescs=M=function(e,t){m(e);for(var n,r=i.getKeys(t),s=r.length,o=0;s>o;)i.setDesc(e,n=r[o++],t[n]);return e}),c(c.S+c.F*!s,"Object",{getOwnPropertyDescriptor:i.getDesc,defineProperty:i.setDesc,defineProperties:M});var P="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),H=P.concat("length","prototype"),B=P.length,j=function(){var e,t=a("iframe"),n=B,r=">";for(t.style.display="none",u.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+r),e.close(),j=e.F;n--;)delete j.prototype[P[n]];return j()},F=function(e,t){return function(n){var r,i=b(n),s=0,o=[];for(r in i)r!=d&&f(i,r)&&o.push(r);for(;t>s;)f(i,r=e[s++])&&(~_(o,r)||o.push(r));return o}},I=function(){};c(c.S,"Object",{getPrototypeOf:i.getProto=i.getProto||function(e){return e=y(e),f(e,d)?e[d]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?N:null},getOwnPropertyNames:i.getNames=i.getNames||F(H,H.length,!0),create:i.create=i.create||function(e,t){var n;return null!==e?(I.prototype=m(e),n=new I,I.prototype=null,n[d]=e):n=j(),void 0===t?n:M(n,t)},keys:i.getKeys=i.getKeys||F(P,B,!1)});var q=function(e,t,n){if(!(t in D)){for(var r=[],i=0;t>i;i++)r[i]="a["+i+"]";D[t]=Function("F,a","return new F("+r.join(",")+")")}return D[t](e,n)};c(c.P,"Function",{bind:function(t){var n=g(this),r=k.call(arguments,1),i=function(){var e=r.concat(k.call(arguments));return this instanceof i?q(n,e.length,e):h(n,e,t)};return v(n.prototype)&&(i.prototype=n.prototype),i}});var R=T(function(){u&&k.call(u)});c(c.P+c.F*R,"Array",{slice:function(e,t){var n=S(this.length),r=l(this);if(t=void 0===t?n:t,"Array"==r)return k.call(this,e,t);for(var i=E(e,n),s=E(t,n),o=S(s-i),u=Array(o),a=0;o>a;a++)u[a]="String"==r?this.charAt(i+a):this[i+a];return u}}),c(c.P+c.F*(x!=Object),"Array",{join:function(){return L.apply(x(this),arguments)}}),c(c.S,"Array",{isArray:e(37)});var U=function(e){return function(t,n){g(t);var r=x(this),i=S(r.length),s=e?i-1:0,o=e?-1:1;if(arguments.length<2)for(;;){if(s in r){n=r[s],s+=o;break}if(s+=o,e?0>s:s>=i)throw TypeError("Reduce of empty array with no initial value")}for(;e?s>=0:i>s;s+=o)s in r&&(n=t(n,r[s],s,this));return n}},z=function(e){return function(t){return e(this,t,arguments[1])}};c(c.P,"Array",{forEach:i.each=i.each||z(p(0)),map:z(p(1)),filter:z(p(2)),some:z(p(3)),every:z(p(4)),reduce:U(!1),reduceRight:U(!0),indexOf:z(_),lastIndexOf:function(e,t){var n=b(this),r=S(n.length),i=r-1;for(arguments.length>1&&(i=Math.min(i,w(t))),0>i&&(i=S(r+i));i>=0;i--)if(i in n&&n[i]===e)return i;return-1}}),c(c.S,"Date",{now:function(){return+(new Date)}});var W=function(e){return e>9?e:"0"+e},X=new Date(-5e13-1),V=!X.toISOString||"0385-07-25T07:06:39.999Z"!=X.toISOString()||!T(function(){(new Date(NaN)).toISOString()});c(c.P+c.F*V,"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),i=0>n?"-":n>9999?"+":"";return i+("00000"+Math.abs(n)).slice(i?-6:-4)+"-"+W(t.getUTCMonth()+1)+"-"+W(t.getUTCDate())+"T"+W(t.getUTCHours())+":"+W(t.getUTCMinutes())+":"+W(t.getUTCSeconds())+"."+(r>99?r:"0"+W(r))+"Z"}})},{12:12,19:19,21:21,22:22,25:25,3:3,31:31,33:33,34:34,35:35,37:37,39:39,47:47,5:5,61:61,77:77,78:78,79:79,8:8,80:80,81:81,83:83,9:9}],87:[function(e,t,n){"use strict";var r=e(19);r(r.P,"Array",{copyWithin:e(6)}),e(4)("copyWithin")},{19:19,4:4,6:6}],88:[function(e,t,n){var r=e(19);r(r.P,"Array",{fill:e(7)}),e(4)("fill")},{19:19,4:4,7:7}],89:[function(e,t,n){"use strict";var r="findIndex",i=e(19),s=!0,o=e(9)(6);r in[]&&Array(1)[r](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),e(4)(r)},{19:19,4:4,9:9}],90:[function(e,t,n){"use strict";var r="find",i=e(19),s=!0,o=e(9)(5);r in[]&&Array(1)[r](function(){s=!1}),i(i.P+i.F*s,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),e(4)(r)},{19:19,4:4,9:9}],91:[function(e,t,n){"use strict";var r=e(18),i=e(19),s=e(81),o=e(41),u=e(36),a=e(80),f=e(85);i(i.S+i.F*!e(44)(function(e){Array.from(e)}),"Array",{from:function(t){var n,i,l,h,p=s(t),d="function"==typeof this?this:Array,v=arguments,m=v.length,g=m>1?v[1]:void 0,y=void 0!==g,b=0,w=f(p);if(y&&(g=r(g,m>2?v[2]:void 0,2)),void 0==w||d==Array&&u(w))for(n=a(p.length),i=new d(n);n>b;b++)i[b]=y?g(p[b],b):p[b];else for(h=w.call(p),i=new d;!(l=h.next()).done;b++)i[b]=y?o(h,g,[l.value,b],!0):l.value;return i.length=b,i}})},{18:18,19:19,36:36,41:41,44:44,80:80,81:81,85:85}],92:[function(e,t,n){"use strict";var r=e(4),i=e(45),s=e(46),o=e(79);t.exports=e(43)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},{4:4,43:43,45:45,46:46,79:79}],93:[function(e,t,n){"use strict";var r=e(19);r(r.S+r.F*e(25)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var t=0,n=arguments,r=n.length,i=new("function"==typeof this?this:Array)(r);r>t;)i[t]=n[t++];return i.length=r,i}})},{19:19,25:25}],94:[function(e,t,n){e(66)("Array")},{66:66}],95:[function(e,t,n){"use strict";var r=e(47),i=e(39),s=e(84)("hasInstance"),o=Function.prototype;s in o||r.setDesc(o,s,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=r.getProto(e);)if(this.prototype===e)return!0;return!1}})},{39:39,47:47,84:84}],96:[function(e,t,n){var r=e(47).setDesc,i=e(61),s=e(31),o=Function.prototype,u=/^\s*function ([^ (]*)/,a="name";a in o||e(21)&&r(o,a,{configurable:!0,get:function(){var e=(""+this).match(u),t=e?e[1]:"";return s(this,a)||r(this,a,i(5,t)),t}})},{21:21,31:31,47:47,61:61}],97:[function(e,t,n){"use strict";var r=e(13);e(16)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=r.getEntry(this,t);return n&&n.v},set:function(t,n){return r.def(this,0===t?0:t,n)}},r,!0)},{13:13,16:16}],98:[function(e,t,n){var r=e(19),i=e(51),s=Math.sqrt,o=Math.acosh;r(r.S+r.F*(!o||710!=Math.floor(o(Number.MAX_VALUE))),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+s(t-1)*s(t+1))}})},{19:19,51:51}],99:[function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?0>e?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=e(19);i(i.S,"Math",{asinh:r})},{19:19}],100:[function(e,t,n){var r=e(19);r(r.S,"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{19:19}],101:[function(e,t,n){var r=e(19),i=e(52);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},{19:19,52:52}],102:[function(e,t,n){var r=e(19);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{19:19}],103:[function(e,t,n){var r=e(19),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},{19:19}],104:[function(e,t,n){var r=e(19);r(r.S,"Math",{expm1:e(50)})},{19:19,50:50}],105:[function(e,t,n){var r=e(19),i=e(52),s=Math.pow,o=s(2,-52),u=s(2,-23),a=s(2,127)*(2-u),f=s(2,-126),l=function(e){return e+1/o-1/o};r(r.S,"Math",{fround:function(t){var n,r,s=Math.abs(t),h=i(t);return f>s?h*l(s/f/u)*f*u:(n=(1+u/o)*s,r=n-(n-s),r>a||r!=r?h*(1/0):h*r)}})},{19:19,52:52}],106:[function(e,t,n){var r=e(19),i=Math.abs;r(r.S,"Math",{hypot:function(t,n){for(var r,s,u=0,a=0,f=arguments,l=f.length,c=0;l>a;)r=i(f[a++]),r>c?(s=c/r,u=u*s*s+1,c=r):r>0?(s=r/c,u+=s*s):u+=r;return c===1/0?1/0:c*Math.sqrt(u)}})},{19:19}],107:[function(e,t,n){var r=e(19),i=Math.imul;r(r.S+r.F*e(25)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,n){var r=65535,i=+t,s=+n,o=r&i,u=r&s;return 0|o*u+((r&i>>>16)*u+o*(r&s>>>16)<<16>>>0)}})},{19:19,25:25}],108:[function(e,t,n){var r=e(19);r(r.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},{19:19}],109:[function(e,t,n){var r=e(19);r(r.S,"Math",{log1p:e(51)})},{19:19,51:51}],110:[function(e,t,n){var r=e(19);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{19:19}],111:[function(e,t,n){var r=e(19);r(r.S,"Math",{sign:e(52)})},{19:19,52:52}],112:[function(e,t,n){var r=e(19),i=e(50),s=Math.exp;r(r.S+r.F*e(25)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(s(t-1)-s(-t-1))*(Math.E/2)}})},{19:19,25:25,50:50}],113:[function(e,t,n){var r=e(19),i=e(50),s=Math.exp;r(r.S,"Math",{tanh:function(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(s(t)+s(-t))}})},{19:19,50:50}],114:[function(e,t,n){var r=e(19);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},{19:19}],115:[function(e,t,n){"use strict";var r=e(47),i=e(30),s=e(31),o=e(12),u=e(82),a=e(25),f=e(75).trim,l="Number",c=i[l],h=c,p=c.prototype,d=o(r.create(p))==l,v="trim"in String.prototype,m=function(e){var t=u(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():f(t,3);var n,r,i,s=t.charCodeAt(0);if(43===s||45===s){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var o,a=t.slice(2),l=0,c=a.length;c>l;l++)if(o=a.charCodeAt(l),48>o||o>i)return NaN;return parseInt(a,r)}}return+t};c(" 0o1")&&c("0b1")&&!c("+0x1")||(c=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof c&&(d?a(function(){p.valueOf.call(r)}):o(r)!=l)?new h(m(n)):m(n)},r.each.call(e(21)?r.getNames(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(e){s(h,e)&&!s(c,e)&&r.setDesc(c,e,r.getDesc(h,e))}),c.prototype=p,p.constructor=c,e(62)(i,l,c))},{12:12,21:21,25:25,30:30,31:31,47:47,62:62,75:75,82:82}],116:[function(e,t,n){var r=e(19);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},{19:19}],117:[function(e,t,n){var r=e(19),i=e(30).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},{19:19,30:30}],118:[function(e,t,n){var r=e(19);r(r.S,"Number",{isInteger:e(38)})},{19:19,38:38}],119:[function(e,t,n){var r=e(19);r(r.S,"Number",{isNaN:function(t){return t!=t}})},{19:19}],120:[function(e,t,n){var r=e(19),i=e(38),s=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&s(t)<=9007199254740991}})},{19:19,38:38}],121:[function(e,t,n){var r=e(19);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{19:19}],122:[function(e,t,n){var r=e(19);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{19:19}],123:[function(e,t,n){var r=e(19);r(r.S,"Number",{parseFloat:parseFloat})},{19:19}],124:[function(e,t,n){var r=e(19);r(r.S,"Number",{parseInt:parseInt})},{19:19}],125:[function(e,t,n){var r=e(19);r(r.S+r.F,"Object",{assign:e(55)})},{19:19,55:55}],126:[function(e,t,n){var r=e(39);e(56)("freeze",function(e){return function(n){return e&&r(n)?e(n):n}})},{39:39,56:56}],127:[function(e,t,n){var r=e(79);e(56)("getOwnPropertyDescriptor",function(e){return function(n,i){return e(r(n),i)}})},{56:56,79:79}],128:[function(e,t,n){e(56)("getOwnPropertyNames",function(){return e(29).get})},{29:29,56:56}],129:[function(e,t,n){var r=e(81);e(56)("getPrototypeOf",function(e){return function(n){return e(r(n))}})},{56:56,81:81}],130:[function(e,t,n){var r=e(39);e(56)("isExtensible",function(e){return function(n){return r(n)?e?e(n):!0:!1}})},{39:39,56:56}],131:[function(e,t,n){var r=e(39);e(56)("isFrozen",function(e){return function(n){return r(n)?e?e(n):!1:!0}})},{39:39,56:56}],132:[function(e,t,n){var r=e(39);e(56)("isSealed",function(e){return function(n){return r(n)?e?e(n):!1:!0}})},{39:39,56:56}],133:[function(e,t,n){var r=e(19);r(r.S,"Object",{is:e(64)})},{19:19,64:64}],134:[function(e,t,n){var r=e(81);e(56)("keys",function(e){return function(n){return e(r(n))}})},{56:56,81:81}],135:[function(e,t,n){var r=e(39);e(56)("preventExtensions",function(e){return function(n){return e&&r(n)?e(n):n}})},{39:39,56:56}],136:[function(e,t,n){var r=e(39);e(56)("seal",function(e){return function(n){return e&&r(n)?e(n):n}})},{39:39,56:56}],137:[function(e,t,n){var r=e(19);r(r.S,"Object",{setPrototypeOf:e(65).set})},{19:19,65:65}],138:[function(e,t,n){"use strict";var r=e(11),i={};i[e(84)("toStringTag")]="z",i+""!="[object z]"&&e(62)(Object.prototype,"toString",function s(){return"[object "+r(this)+"]"},!0)},{11:11,62:62,84:84}],139:[function(e,t,n){"use strict";var r,i=e(47),s=e(49),o=e(30),u=e(18),a=e(11),f=e(19),l=e(39),c=e(5),h=e(3),p=e(70),d=e(28),v=e(65).set,m=e(64),g=e(84)("species"),y=e(69),b=e(83)("record"),w=e(53),E="Promise",S=o.process,x="process"==a(S),T=o[E],N=function(e){var t=new T(function(){});return e&&(t.constructor=Object),T.resolve(t)===t},C=function(){function t(e){var n=new T(e);return v(n,t.prototype),n}var n=!1;try{if(n=T&&T.resolve&&N(),v(t,T),t.prototype=i.create(T.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(n=!1),n&&e(21)){var r=!1;T.resolve(i.setDesc({},"then",{get:function(){r=!0}})),n=r}}catch(s){n=!1}return n}(),k=function(e){return l(e)&&(C?"Promise"==a(e):b in e)},L=function(e,t){return s&&e===T&&t===r?!0:m(e,t)},A=function(e){var t=c(e)[g];return void 0!=t?t:e},O=function(e){var t;return l(e)&&"function"==typeof (t=e.then)?t:!1},M=function(e,t){if(!e.n){e.n=!0;var n=e.c;w(function(){for(var r=e.v,i=1==e.s,s=0,u=function(t){var n,s,o=i?t.ok:t.fail;try{o?(i||(e.h=!0),n=o===!0?r:o(r),n===t.P?t.rej(TypeError("Promise-chain cycle")):(s=O(n))?s.call(n,t.res,t.rej):t.res(n)):t.rej(r)}catch(u){t.rej(u)}};n.length>s;)u(n[s++]);n.length=0,e.n=!1,t&&setTimeout(function(){var t,n,i=e.p;_(i)&&(x?S.emit("unhandledRejection",r,i):(t=o.onunhandledrejection)?t({promise:i,reason:r}):(n=o.console)&&n.error&&n.error("Unhandled promise rejection",r)),e.a=void 0},1)})}},_=function(e){var t,n=e[b],r=n.a||n.c,i=0;if(n.h)return!1;for(;r.length>i;)if(t=r[i++],t.fail||!_(t.P))return!1;return!0},D=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),M(t,!0))},P=function(e){var t,n=this;if(!n.d){n.d=!0,n=n.r||n;try{(t=O(e))?w(function(){var r={r:n,d:!1};try{t.call(e,u(P,r,1),u(D,r,1))}catch(i){D.call(r,i)}}):(n.v=e,n.s=1,M(n,!1))}catch(r){D.call({r:n,d:!1},r)}}};C||(T=function(t){h(t);var n={p:p(this,T,E),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};this[b]=n;try{t(u(P,n,1),u(D,n,1))}catch(r){D.call(n,r)}},e(54)(T.prototype,{then:function(t,n){var r={ok:"function"==typeof t?t:!0,fail:"function"==typeof n?n:!1},i=r.P=new(y(this,T))(function(e,t){r.res=e,r.rej=t});h(r.res),h(r.rej);var s=this[b];return s.c.push(r),s.a&&s.a.push(r),s.s&&M(s,!1),i},"catch":function(e){return this.then(void 0,e)}})),f(f.G+f.W+f.F*!C,{Promise:T}),e(67)(T,E),e(66)(E),r=e(17)[E],f(f.S+f.F*!C,E,{reject:function(t){return new this(function(e,n){n(t)})}}),f(f.S+f.F*(!C||N(!0)),E,{resolve:function(t){return k(t)&&L(t.constructor,this)?t:new this(function(e){e(t)})}}),f(f.S+f.F*(!C||!e(44)(function(e){T.all(e)["catch"](function(){})})),E,{all:function(t){var n=A(this),r=[];return new n(function(e,s){d(t,!1,r.push,r);var o=r.length,u=Array(o);o?i.each.call(r,function(t,r){n.resolve(t).then(function(t){u[r]=t,--o||e(u)},s)}):e(u)})},race:function(t){var n=A(this);return new n(function(e,r){d(t,!1,function(t){n.resolve(t).then(e,r)})})}})},{11:11,17:17,18:18,19:19,21:21,28:28,3:3,30:30,39:39,44:44,47:47,49:49,5:5,53:53,54:54,64:64,65:65,66:66,67:67,69:69,70:70,83:83,84:84}],140:[function(e,t,n){var r=e(19),i=Function.apply;r(r.S,"Reflect",{apply:function(t,n,r){return i.call(t,n,r)}})},{19:19}],141:[function(e,t,n){var r=e(47),i=e(19),s=e(3),o=e(5),u=e(39),a=Function.bind||e(17).Function.prototype.bind;i(i.S+i.F*e(25)(function(){function e(){}return!(Reflect.construct(function(){},[],e)instanceof e)}),"Reflect",{construct:function(t,n){s(t);var i=arguments.length<3?t:s(arguments[2]);if(t==i){if(void 0!=n)switch(o(n).length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var f=[null];return f.push.apply(f,n),new(a.apply(t,f))}var l=i.prototype,h=r.create(u(l)?l:Object.prototype),p=Function.apply.call(t,h,n);return u(p)?p:h}})},{17:17,19:19,25:25,3:3,39:39,47:47,5:5}],142:[function(e,t,n){var r=e(47),i=e(19),s=e(5);i(i.S+i.F*e(25)(function(){Reflect.defineProperty(r.setDesc({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,i){s(t);try{return r.setDesc(t,n,i),!0}catch(o){return!1}}})},{19:19,25:25,47:47,5:5}],143:[function(e,t,n){var r=e(19),i=e(47).getDesc,s=e(5);r(r.S,"Reflect",{deleteProperty:function(t,n){var r=i(s(t),n);return r&&!r.configurable?!1:delete t[n]}})},{19:19,47:47,5:5}],144:[function(e,t,n){"use strict";var r=e(19),i=e(5),s=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};e(42)(s,"Object",function(){var e,t=this,n=t._k;do if(t._i>=n.length)return{value:void 0,done:!0};while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new s(t)}})},{19:19,42:42,5:5}],145:[function(e,t,n){var r=e(47),i=e(19),s=e(5);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return r.getDesc(s(t),n)}})},{19:19,47:47,5:5}],146:[function(e,t,n){var r=e(19),i=e(47).getProto,s=e(5);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(s(t))}})},{19:19,47:47,5:5}],147:[function(e,t,n){function r(e,t){var n,o,f=arguments.length<3?e:arguments[2];return a(e)===f?e[t]:(n=i.getDesc(e,t))?s(n,"value")?n.value:void 0!==n.get?n.get.call(f):void 0:u(o=i.getProto(e))?r(o,t,f):void 0}var i=e(47),s=e(31),o=e(19),u=e(39),a=e(5);o(o.S,"Reflect",{get:r})},{19:19,31:31,39:39,47:47,5:5}],148:[function(e,t,n){var r=e(19);r(r.S,"Reflect",{has:function(t,n){return n in t}})},{19:19}],149:[function(e,t,n){var r=e(19),i=e(5),s=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),s?s(t):!0}})},{19:19,5:5}],150:[function(e,t,n){var r=e(19);r(r.S,"Reflect",{ownKeys:e(58)})},{19:19,58:58}],151:[function(e,t,n){var r=e(19),i=e(5),s=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return s&&s(t),!0}catch(n){return!1}}})},{19:19,5:5}],152:[function(e,t,n){var r=e(19),i=e(65);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(r){return!1}}})},{19:19,65:65}],153:[function(e,t,n){function r(e,t,n){var o,l,h=arguments.length<4?e:arguments[3],p=i.getDesc(a(e),t);if(!p){if(f(l=i.getProto(e)))return r(l,t,n,h);p=u(0)}return s(p,"value")?p.writable!==!1&&f(h)?(o=i.getDesc(h,t)||u(0),o.value=n,i.setDesc(h,t,o),!0):!1:void 0===p.set?!1:(p.set.call(h,n),!0)}var i=e(47),s=e(31),o=e(19),u=e(61),a=e(5),f=e(39);o(o.S,"Reflect",{set:r})},{19:19,31:31,39:39,47:47,5:5,61:61}],154:[function(e,t,n){var r=e(47),i=e(30),s=e(40),o=e(27),u=i.RegExp,a=u,f=u.prototype,l=/a/g,c=/a/g,h=new u(l)!==l;!e(21)||h&&!e(25)(function(){return c[e(84)("match")]=!1,u(l)!=l||u(c)==c||"/a/i"!=u(l,"i")})||(u=function(t,n){var r=s(t),i=void 0===n;return this instanceof u||!r||t.constructor!==u||!i?h?new a(r&&!i?t.source:t,n):a((r=t instanceof u)?t.source:t,r&&i?o.call(t):n):t},r.each.call(r.getNames(a),function(e){e in u||r.setDesc(u,e,{configurable:!0,get:function(){return a[e]},set:function(t){a[e]=t}})}),f.constructor=u,u.prototype=f,e(62)(i,"RegExp",u)),e(66)("RegExp")},{21:21,25:25,27:27,30:30,40:40,47:47,62:62,66:66,84:84}],155:[function(e,t,n){var r=e(47);e(21)&&"g"!=/./g.flags&&r.setDesc(RegExp.prototype,"flags",{configurable:!0,get:e(27)})},{21:21,27:27,47:47}],156:[function(e,t,n){e(26)("match",1,function(e,t){return function(r){"use strict";var i=e(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,i):(new RegExp(r))[t](String(i))}})},{26:26}],157:[function(e,t,n){e(26)("replace",2,function(e,t,n){return function(i,s){"use strict";var o=e(this),u=void 0==i?void 0:i[t];return void 0!==u?u.call(i,o,s):n.call(String(o),i,s)}})},{26:26}],158:[function(e,t,n){e(26)("search",1,function(e,t){return function(r){"use strict";var i=e(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,i):(new RegExp(r))[t](String(i))}})},{26:26}],159:[function(e,t,n){e(26)("split",2,function(e,t,n){return function(i,s){"use strict";var o=e(this),u=void 0==i?void 0:i[t];return void 0!==u?u.call(i,o,s):n.call(String(o),i,s)}})},{26:26}],160:[function(e,t,n){"use strict";var r=e(13);e(16)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},{13:13,16:16}],161:[function(e,t,n){"use strict";var r=e(19),i=e(71)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},{19:19,71:71}],162:[function(e,t,n){"use strict";var r=e(19),i=e(80),s=e(72),o="endsWith",u=""[o];r(r.P+r.F*e(24)(o),"String",{endsWith:function(t){var n=s(this,t,o),r=arguments,a=r.length>1?r[1]:void 0,f=i(n.length),l=void 0===a?f:Math.min(i(a),f),h=String(t);return u?u.call(n,h,l):n.slice(l-h.length,l)===h}})},{19:19,24:24,72:72,80:80}],163:[function(e,t,n){var r=e(19),i=e(77),s=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var n,r=[],o=arguments,u=o.length,a=0;u>a;){if(n=+o[a++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(65536>n?s(n):s(((n-=65536)>>10)+55296,n%1024+56320))}return r.join("")}})},{19:19,77:77}],164:[function(e,t,n){"use strict";var r=e(19),i=e(72),s="includes";r(r.P+r.F*e(24)(s),"String",{includes:function(t){return!!~i(this,t,s).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{19:19,24:24,72:72}],165:[function(e,t,n){"use strict";var r=e(71)(!0);e(43)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{43:43,71:71}],166:[function(e,t,n){var r=e(19),i=e(79),s=e(80);r(r.S,"String",{raw:function(t){for(var n=i(t.raw),r=s(n.length),u=arguments,a=u.length,f=[],l=0;r>l;)f.push(String(n[l++])),a>l&&f.push(String(u[l]));return f.join("")}})},{19:19,79:79,80:80}],167:[function(e,t,n){var r=e(19);r(r.P,"String",{repeat:e(74)})},{19:19,74:74}],168:[function(e,t,n){"use strict";var r=e(19),i=e(80),s=e(72),o="startsWith",u=""[o];r(r.P+r.F*e(24)(o),"String",{startsWith:function(t){var n=s(this,t,o),r=arguments,a=i(Math.min(r.length>1?r[1]:void 0,n.length)),f=String(t);return u?u.call(n,f,a):n.slice(a,a+f.length)===f}})},{19:19,24:24,72:72,80:80}],169:[function(e,t,n){"use strict";e(75)("trim",function(e){return function(){return e(this,3)}})},{75:75}],170:[function(e,t,n){"use strict";var r=e(47),i=e(30),s=e(31),o=e(21),u=e(19),a=e(62),f=e(25),l=e(68),c=e(67),h=e(83),p=e(84),d=e(48),v=e(29),m=e(23),g=e(37),y=e(5),b=e(79),w=e(61),E=r.getDesc,S=r.setDesc,x=r.create,T=v.get,N=i.Symbol,C=i.JSON,k=C&&C.stringify,L=!1,A=p("_hidden"),O=r.isEnum,M=l("symbol-registry"),_=l("symbols"),D="function"==typeof N,P=Object.prototype,H=o&&f(function(){return 7!=x(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=E(P,t);r&&delete P[t],S(e,t,n),r&&e!==P&&S(P,t,r)}:S,B=function(e){var t=_[e]=x(N.prototype);return t._k=e,o&&L&&H(P,e,{configurable:!0,set:function(t){s(this,A)&&s(this[A],e)&&(this[A][e]=!1),H(this,e,w(1,t))}}),t},j=function(e){return"symbol"==typeof e},F=function(t,n,r){return r&&s(_,n)?(r.enumerable?(s(t,A)&&t[A][n]&&(t[A][n]=!1),r=x(r,{enumerable:w(0,!1)})):(s(t,A)||S(t,A,w(1,{})),t[A][n]=!0),H(t,n,r)):S(t,n,r)},I=function(t,n){y(t);for(var r,i=m(n=b(n)),s=0,o=i.length;o>s;)F(t,r=i[s++],n[r]);return t},q=function(t,n){return void 0===n?x(t):I(x(t),n)},R=function J(e){var t=O.call(this,e);return t||!s(this,e)||!s(_,e)||s(this,A)&&this[A][e]?t:!0},U=function(t,n){var r=E(t=b(t),n);return!r||!s(_,n)||s(t,A)&&t[A][n]||(r.enumerable=!0),r},z=function(t){for(var n,r=T(b(t)),i=[],o=0;r.length>o;)s(_,n=r[o++])||n==A||i.push(n);return i},W=function(t){for(var n,r=T(b(t)),i=[],o=0;r.length>o;)s(_,n=r[o++])&&i.push(_[n]);return i},X=function(t){if(void 0!==t&&!j(t)){for(var n,r,i=[t],s=1,o=arguments;o.length>s;)i.push(o[s++]);return n=i[1],"function"==typeof n&&(r=n),(r||!g(n))&&(n=function(e,t){return r&&(t=r.call(this,e,t)),j(t)?void 0:t}),i[1]=n,k.apply(C,i)}},V=f(function(){var e=N();return"[null]"!=k([e])||"{}"!=k({a:e})||"{}"!=k(Object(e))});D||(N=function(){if(j(this))throw TypeError("Symbol is not a constructor");return B(h(arguments.length>0?arguments[0]:void 0))},a(N.prototype,"toString",function K(){return this._k}),j=function(e){return e instanceof N},r.create=q,r.isEnum=R,r.getDesc=U,r.setDesc=F,r.setDescs=I,r.getNames=v.get=z,r.getSymbols=W,o&&!e(49)&&a(P,"propertyIsEnumerable",R,!0));var $={"for":function(e){return s(M,e+="")?M[e]:M[e]=N(e)},keyFor:function(t){return d(M,t)},useSetter:function(){L=!0},useSimple:function(){L=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=p(e);$[e]=D?t:B(t)}),L=!0,u(u.G+u.W,{Symbol:N}),u(u.S,"Symbol",$),u(u.S+u.F*!D,"Object",{create:q,defineProperty:F,defineProperties:I,getOwnPropertyDescriptor:U,getOwnPropertyNames:z,getOwnPropertySymbols:W}),C&&u(u.S+u.F*(!D||V),"JSON",{stringify:X}),c(N,"Symbol"),c(Math,"Math",!0),c(i.JSON,"JSON",!0)},{19:19,21:21,23:23,25:25,29:29,30:30,31:31,37:37,47:47,48:48,49:49,5:5,61:61,62:62,67:67,68:68,79:79,83:83,84:84}],171:[function(e,t,n){"use strict";var r=e(47),i=e(62),s=e(15),o=e(39),u=e(31),a=s.frozenStore,f=s.WEAK,l=Object.isExtensible||o,c={},h=e(16)("WeakMap",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){if(o(t)){if(!l(t))return a(this).get(t);if(u(t,f))return t[f][this._i]}},set:function(t,n){return s.def(this,t,n)}},s,!0,!0);7!=(new h).set((Object.freeze||Object)(c),7).get(c)&&r.each.call(["delete","has","get","set"],function(e){var t=h.prototype,n=t[e];i(t,e,function(t,r){if(o(t)&&!l(t)){var i=a(this)[e](t,r);return"set"==e?this:i}return n.call(this,t,r)})})},{15:15,16:16,31:31,39:39,47:47,62:62}],172:[function(e,t,n){"use strict";var r=e(15);e(16)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t,!0)}},r,!1,!0)},{15:15,16:16}],173:[function(e,t,n){"use strict";var r=e(19),i=e(8)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),e(4)("includes")},{19:19,4:4,8:8}],174:[function(e,t,n){var r=e(19);r(r.P,"Map",{toJSON:e(14)("Map")})},{14:14,19:19}],175:[function(e,t,n){var r=e(19),i=e(57)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},{19:19,57:57}],176:[function(e,t,n){var r=e(47),i=e(19),s=e(58),o=e(79),u=e(61);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,i,a=o(t),f=r.setDesc,l=r.getDesc,h=s(a),p={},d=0;h.length>d;)i=l(a,n=h[d++]),n in p?f(p,n,u(0,i)):p[n]=i;return p}})},{19:19,47:47,58:58,61:61,79:79}],177:[function(e,t,n){var r=e(19),i=e(57)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},{19:19,57:57}],178:[function(e,t,n){var r=e(19),i=e(63)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},{19:19,63:63}],179:[function(e,t,n){var r=e(19);r(r.P,"Set",{toJSON:e(14)("Set")})},{14:14,19:19}],180:[function(e,t,n){"use strict";var r=e(19),i=e(71)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},{19:19,71:71}],181:[function(e,t,n){"use strict";var r=e(19),i=e(73);r(r.P,"String",{padLeft:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},{19:19,73:73}],182:[function(e,t,n){"use strict";var r=e(19),i=e(73);r(r.P,"String",{padRight:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},{19:19,73:73}],183:[function(e,t,n){"use strict";e(75)("trimLeft",function(e){return function(){return e(this,1)}})},{75:75}],184:[function(e,t,n){"use strict";e(75)("trimRight",function(e){return function(){return e(this,2)}})},{75:75}],185:[function(e,t,n){var r=e(47),i=e(19),s=e(18),o=e(17).Array||Array,u={},a=function(e,t){r.each.call(e.split(","),function(e){void 0==t&&e in o?u[e]=o[e]:e in[]&&(u[e]=s(Function.call,[][e],t))})};a("pop,reverse,shift,keys,values,entries",1),a("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),a("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),i(i.S,"Array",u)},{17:17,18:18,19:19,47:47}],186:[function(e,t,n){e(92);var r=e(30),i=e(32),s=e(46),o=e(84)("iterator"),u=r.NodeList,a=r.HTMLCollection,f=u&&u.prototype,l=a&&a.prototype,c=s.NodeList=s.HTMLCollection=s.Array;!u||o in f||i(f,o,c),!a||o in l||i(l,o,c)},{30:30,32:32,46:46,84:84,92:92}],187:[function(e,t,n){var r=e(19),i=e(76);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},{19:19,76:76}],188:[function(e,t,n){var r=e(30),i=e(19),s=e(34),o=e(59),u=r.navigator,a=!!u&&/MSIE .\./.test(u.userAgent),f=function(e){return a?function(t,n){return e(s(o,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),n)}:e};i(i.G+i.B+i.F*a,{setTimeout:f(r.setTimeout),setInterval:f(r.setInterval)})},{19:19,30:30,34:34,59:59}],189:[function(e,t,n){e(86),e(170),e(125),e(133),e(137),e(138),e(126),e(136),e(135),e(131),e(132),e(130),e(127),e(129),e(134),e(128),e(96),e(95),e(115),e(116),e(117),e(118),e(119),e(120),e(121),e(122),e(123),e(124),e(98),e(99),e(100),e(101),e(102),e(103),e(104),e(105),e(106),e(107),e(108),e(109),e(110),e(111),e(112),e(113),e(114),e(163),e(166),e(169),e(165),e(161),e(162),e(164),e(167),e(168),e(91),e(93),e(92),e(94),e(87),e(88),e(90),e(89),e(154),e(155),e(156),e(157),e(158),e(159),e(139),e(97),e(160),e(171),e(172),e(140),e(141),e(142),e(143),e(144),e(147),e(145),e(146),e(148),e(149),e(150),e(151),e(153),e(152),e(173),e(180),e(181),e(182),e(183),e(184),e(178),e(176),e(177),e(175),e(174),e(179),e(185),e(188),e(187),e(186),t.exports=e(17)},{100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,127:127,128:128,129:129,130:130,131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,17:17,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99}],190:[function(e,t,n){(function(e){!function(e){"use strict";function n(e,t,n,r){var s=Object.create((t||i).prototype),o=new p(r||[]);return s._invoke=l(e,n,o),s}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function i(){}function s(){}function o(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function a(e){this.arg=e}function f(e){function t(t,n){var r=e[t](n),o=r.value;return o instanceof a?Promise.resolve(o.arg).then(i,s):Promise.resolve(o).then(function(e){return r.value=e,r})}function n(e,n){function i(){return t(e,n)}return r=r?r.then(i,i):new Promise(function(e){e(i())})}"object"==typeof process&&process.domain&&(t=process.domain.bind(t));var r,i=t.bind(e,"next"),s=t.bind(e,"throw");t.bind(e,"return"),this._invoke=n}function l(e,t,n){var i=E;return function(o,u){if(i===x)throw new Error("Generator is already running");if(i===T){if("throw"===o)throw u;return v()}for(;;){var a=n.delegate;if(a){if("return"===o||"throw"===o&&a.iterator[o]===m){n.delegate=null;var f=a.iterator["return"];if(f){var l=r(f,a.iterator,u);if("throw"===l.type){o="throw",u=l.arg;continue}}if("return"===o)continue}var l=r(a.iterator[o],a.iterator,u);if("throw"===l.type){n.delegate=null,o="throw",u=l.arg;continue}o="next",u=m;var c=l.arg;if(!c.done)return i=S,c;n[a.resultName]=c.value,n.next=a.nextLoc,n.delegate=null}if("next"===o)n._sent=u,i===S?n.sent=u:n.sent=m;else if("throw"===o){if(i===E)throw i=T,u;n.dispatchException(u)&&(o="next",u=m)}else"return"===o&&n.abrupt("return",u);i=x;var l=r(e,t,n);if("normal"===l.type){i=n.done?T:S;var c={value:l.arg,done:n.done};if(l.arg!==N)return c;n.delegate&&"next"===o&&(u=m)}else"throw"===l.type&&(i=T,o="throw",u=l.arg)}}}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)}function d(e){if(e){var t=e[y];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function i(){for(;++n<e.length;)if(g.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=m,i.done=!0,i};return r.next=r}}return{next:v}}function v(){return{value:m,done:!0}}var m,g=Object.prototype.hasOwnProperty,y="function"==typeof Symbol&&Symbol.iterator||"@@iterator",b="object"==typeof t,w=e.regeneratorRuntime;if(w)return void (b&&(t.exports=w));w=e.regeneratorRuntime=b?t.exports:{},w.wrap=n;var E="suspendedStart",S="suspendedYield",x="executing",T="completed",N={},C=o.prototype=i.prototype;s.prototype=C.constructor=o,o.constructor=s,s.displayName="GeneratorFunction",w.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===s||"GeneratorFunction"===(t.displayName||t.name):!1},w.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o,e.prototype=Object.create(C),e},w.awrap=function(e){return new a(e)},u(f.prototype),w.async=function(e,t,r,i){var s=new f(n(e,t,r,i));return w.isGeneratorFunction(t)?s:s.next().then(function(e){return e.done?e.value:s.next()})},u(C),C[y]=function(){return this},C.toString=function(){return"[object Generator]"},w.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},w.values=d,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=m,this.done=!1,this.delegate=null,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return s.type="throw",s.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=g.call(i,"catchLoc"),u=g.call(i,"finallyLoc");if(o&&u){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?this.next=i.finallyLoc:this.complete(s),N},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),N}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:d(e),resultName:t,nextLoc:n},N}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]),define("babelPolyfill",function(){}),define("main",["jquery","ComponentLibrary","components","SceneManager","scenes/index","constants/Mode","cdp/setup","babelPolyfill"],function(e,t,n,r,i,s,o){"use strict";function p(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return p=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{"default":e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function v(e){return e&&e.__esModule?e:{"default":e}}function m(){a.default.init(f),l.default.create(Object.assign({body:(0,u.default)("body")},c.default)),l.default.startScene(h.default.INITIAL)}var u=v(e),a=v(t),f=d(n),l=v(r),c=v(i),h=v(s);(0,o.setup)(m)}),require(["main"]);