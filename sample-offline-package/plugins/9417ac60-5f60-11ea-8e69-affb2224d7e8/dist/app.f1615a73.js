(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{392:function(e,t,n){n(393),e.exports=n(899)},809:function(e,t){},811:function(e,t){},844:function(e,t){},845:function(e,t){},899:function(e,t,n){"use strict";n.r(t);n(395),n(407);var o,a=n(0),r=n.n(a),s=n(49),i=n(155),c=(n(616),n(372)),l=n(234),d=n.n(l),u=n(373),m=n(43),h=n(50),b=n(26),p=n(12),f=n(231),g=n(377),w=n.n(g),S=n(378),C=n(235),v=n(58),y=n(162),x=(o=null,{get:function(){return o},set:function(e){o=e}});var E=function(e){if(!(e instanceof Object))throw new TypeError("invalid message");!function e(t,n){if(t.postMessage(n,"*"),t.parent===t)return;e(t.parent,n)}(window.parent,e)},O=(n(4),{ADD_SECTION_BUTTON:6}),T=p.default.button.withConfig({componentId:"sc-1i0le39-0"})(["width:150px;border-radius:16px;padding:0 12px;transform:translateY(-50%);line-height:32px;text-transform:uppercase;font-size:14px;background:#ceebfe;color:rgb(33,150,243);outline:none;border:none;cursor:pointer;&:hover,&:focus{box-shadow:inset 0 0 2px 0 rgba(33,150,243,0.7),0 0 2px 0 rgba(33,150,243,0.7);}"]),k=p.default.div.withConfig({componentId:"sc-1i0le39-1"})(["height:20px;bottom:0px;z-index:",";"],O.ADD_SECTION_BUTTON);var j=function(e){var t=e.onClick;return r.a.createElement(k,null,r.a.createElement(T,{onClick:t},"Add Section"))},U=n(387),I=["STAGE"],L=Object(p.css)(["@media (max-width:1000px){.spf-rce-section-content{width:100%;min-width:unset;max-width:none;}.spf-rce-section-background-wrapper{width:100%;min-width:unset;padding:0 40px;max-width:none;}}@media (max-width:760px){.spf-rce-section-content{padding:0;}.spf-rce-section-content .spf-rce-element{margin:0;}.spf-rce-row{flex-direction:column;}}@media (max-width:760px){.spf-element-image > div{height:auto !important;}}"]),N=p.default.div.withConfig({componentId:"qnyfl0-0"})(["position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;pointer-events:none;background-color:",";",";background-size:cover;"],(function(e){return e.color}),(function(e){return e.imageURL&&"background: url("+encodeURI(e.imageURL)+") no-repeat center center fixed"})),F=p.default.div.withConfig({componentId:"qnyfl0-1"})(["width:100%;position:relative;padding-top:100px;padding-bottom:70px;"]),R=p.default.div.withConfig({componentId:"qnyfl0-2"})(["",";width:100%;max-height:auto;display:flex;flex-direction:column;align-items:center;position:relative;top:0;right:0;bottom:0;left:0;overflow:hidden;-webkit-overflow-scrolling:touch;margin-bottom:0;backface-visibility:hidden;",";"],(function(e){return e.isEditor&&"padding-bottom : 310px;"}),(function(e){return e.responsive&&L})),D=n(390);function P(){var e=Object(D.a)(["\n  html,\n  body {\n    font-family: system-ui, -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;\n    font-size: 16px;\n    line-height: 1.21;\n    font-weight: 400;\n    height: auto;\n    width: 100%;\n    overflow-x: hidden;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    box-sizing: border-box;\n\n    *,\n    *::before,\n    *::after {\n      box-sizing: inherit;\n      flex-shrink: 0;\n    }\n  }\n\n  body {\n    margin: 0;\n\n    & > div {\n      min-height: 100%;\n      overflow: auto;\n\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n    }\n\n    #app {\n      width: 100vw;\n      height: auto;\n    }\n  }\n"]);return P=function(){return e},e}var A=Object(p.createGlobalStyle)(P()),z="screenScroll",B="INTERACTIVE_CONFIG",_={buttonColor:"rgba(0, 115, 202, 1)",textColor:"rgba(0, 0, 0, 0.7)",backgroundColor:"rgba(255, 255, 255, 1)",padding:10,corners:4,border:"none",shadow:"0 -1px 4px 0 rgba(0,0,0,0.06), 0 0 12px 2px rgba(0,0,0,0.1)"},q={width:320,textColor:"rgba(0, 0, 0, 0.7)",backgroundColor:"rgba(255, 255, 255, 1)",corners:4,border:"none",shadow:"0 5px 47px 10px rgba(0,0,0,0.15), 0 10px 20px 2px rgba(0,0,0,0.1), 0 7px 8px 0 rgba(0,0,0,0.1)"};var G=r.a.createElement(A,null),H=r.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Material+Icons",rel:"stylesheet"}),J=function(e){function t(t){var n;return n=e.call(this,t)||this,Object(h.a)(Object(m.a)(n),"handleGetContextCallback",(function(e){x.set({mode:e,readOnly:"EDITOR"!==e}),n.forceUpdate()})),Object(h.a)(Object(m.a)(n),"addNewSection",Object(u.a)(d.a.mark((function e(){var t,o,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(n.state.stage.sections),o=new v.Section([new v.Row([new v.Column([new v.PlaceholderElement]),new v.Column([new v.PlaceholderElement])])]),t.push(o),e.next=5,b.a.features().is("content-creation-actions-history-undo-redo",!0);case 5:return a=e.sent,r={name:"addNewSection",undo:"revertConfig",redo:"revertConfig",data:null,elementType:B},e.next=9,b.a.editor().deselect({path:I});case 9:a?n.onChange(new v.Stage(t),r):n.onChange(new v.Stage(t));case 10:case"end":return e.stop()}}),e)})))),Object(h.a)(Object(m.a)(n),"onChange",(function(e,t){void 0===t&&(t=null),t&&b.a.editor().recordUndoRedoAction(t,e),b.a.state("stage").set(Object(y.stageToPlainObject)(e))})),Object(h.a)(Object(m.a)(n),"onStageUpdate",(function(e){var t=Object(y.stageToPlainObject)(n.state.stage);JSON.stringify(e)!==JSON.stringify(t)&&n.setState({stage:Object(y.plainStageToInstance)(e)})})),Object(h.a)(Object(m.a)(n),"onStylesUpdate",(function(e){n.setState({styles:e})})),Object(h.a)(Object(m.a)(n),"updateThemeCssUrl",(function(){var e=document.getElementById("themeCssUrl"),t=n.state.theme.cssUrl;if(e&&e.remove(),t){var o=document.createElement("LINK");o.id="themeCssUrl",o.href=t,o.rel="stylesheet",o.addEventListener("load",(function(){return window.requestAnimationFrame((function(){return n.setState({isThemeCssUrlLoaded:!0})}))})),o.addEventListener("error",(function(){return n.setState({isThemeCssUrlLoaded:!0})})),document.head.appendChild(o)}else n.setState({isThemeCssUrlLoaded:!0})})),Object(h.a)(Object(m.a)(n),"onThemeUpdate",(function(e){w()(n.state.theme,e)||n.setState((function(){return{theme:e||{}}}),n.updateThemeCssUrl)})),Object(h.a)(Object(m.a)(n),"onThemeCSSUpdate",(function(e){n.state.themeCSS!==e&&n.setState({themeCSS:e}),n.setState({isThemeCssLoaded:!0})})),Object(h.a)(Object(m.a)(n),"onFooterUpdate",(function(e){n.setState({footer:e})})),Object(h.a)(Object(m.a)(n),"onLockElementsUpdate",(function(e){n.state.lockElements!==e&&n.setState({lockElements:e})})),Object(h.a)(Object(m.a)(n),"onScreenTypeUpdate",(function(e){n.state.screenType!==e&&(n.setState({screenType:e}),E({type:"screenInfoChanged",detail:{screenType:e}}))})),n.state={stage:new v.Stage([]),lockElements:!1,screenType:void 0,styles:{},footer:{},theme:{},themeCSS:"",isThemeCssUrlLoaded:!1,isThemeCssLoaded:!1},n.handleScroll=n.handleScroll.bind(Object(m.a)(n)),n.handleScrollThrottled=Object(S.throttle)(n.handleScroll,100),n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;b.a.register().then((function(){return Promise.all([b.a.state("stage").subscribe(e.onStageUpdate),b.a.state("styles").subscribe(e.onStylesUpdate),b.a.state("lockElements").subscribe(e.onLockElementsUpdate),b.a.state("screenType").subscribe(e.onScreenTypeUpdate),b.a.theme().subscribe(e.onThemeUpdate),b.a.theme().subscribeToCSS(e.onThemeCSSUpdate),b.a.state("footer").subscribe(e.onFooterUpdate),b.a.context().get().then(e.handleGetContextCallback),b.a.state("styles").get().then(e.onStylesUpdate),b.a.state("footer").get().then(e.onFooterUpdate)])})).then((function(t){var n=t[0],o=t[1],a=t[2],r=t[3],s=t[4],i=t[5],c=t[6];e.subscription=n,e.stageStylesSubscription=o,e.subscriptionLockElements=a,e.subscriptionScreenType=r,e.subscriptionTheme=s,e.subscriptionThemeCSS=i,e.subscriptionFooter=c,window.addEventListener("scroll",e.handleScrollThrottled,!1)})),window.__CDP=b.a},n.componentWillUnmount=function(){this.subscription&&(this.subscription.unsubscribe(),this.stageStylesSubscription.unsubscribe(),this.subscriptionLockElements.unsubscribe(),this.subscriptionScreenType.unsubscribe(),this.subscriptionTheme.unsubscribe(),this.subscriptionThemeCSS.unsubscribe(),this.subscriptionFooter.unsubscribe()),window.removeEventListener("scroll",this.handleScrollThrottled,!1)},n.handleScroll=function(){b.a.event(z).publish({screenScrollTop:window.pageYOffset})},n.shouldShowFooter=function(e,t){var n=t||{},o=n.showFooter,a=n.previewFooter;return!!e&&("REVIEW"!==e.mode&&(!("EDITOR"===e.mode||!o)||!("EDITOR"!==e.mode||!a)))},n.render=function(){var e,t,n,o,s,i,l,d,u,m,h,g,w=this.state,S=w.stage,v=w.lockElements,y=w.styles,E=w.themeCSS,O=w.footer,T=w.isThemeCssUrlLoaded,k=w.isThemeCssLoaded,I=x.get(),L=(I||{}).readOnly,D=this.shouldShowFooter(I,O);if(!Object.keys(y).length>0||!k||!T)return null;var P=function(e){return e.footer||(e.footer=_),e.feedback||(e.feedback=q),e.background=e.background||{},e.background.image=e.background.image||{},e.background.color=e.background.color||"rgba(255,255,255,0)",e}(y);document.body.className="screen "+(null!=I&&I.mode?"context-"+I.mode.toLowerCase():"")+" "+(P.cssClass?P.cssClass:"");var A="stage-container "+("HISTORY"===(null==I?void 0:I.mode)?"context-history":""),z=(null==(e=P.background)||null==(t=e.image)||null==(n=t.large)?void 0:n.url)||(null==(o=P.background)||null==(s=o.image)||null==(i=s.original)?void 0:i.url)||(null==(l=P.background)||null==(d=l.image)||null==(u=d.source)?void 0:u.url)||(null==(m=P.background)||null==(h=m.image)?void 0:h.url),B="EDITOR"===(null==I?void 0:I.mode),J=function(e){var t=e.buttonText,n=e.buttonIcon,o=e.showFooter,a=e.showHistoryNavButtons;return{showFooter:o,position:"Below the stage"===e.position?"END":"FIXED",buttonLabel:t,buttonIcon:"Arrow"===n?"arrow":"none",showHistoryNavButtons:a?"show":"hide",footerStyle:e.footerStyle}}(Object(c.a)({},O,{footerStyle:P.footer||{}})),M=P.feedback;return r.a.createElement(p.ThemeProvider,{theme:P},r.a.createElement(a.Fragment,null,G,r.a.createElement(f.Helmet,null,!!E&&r.a.createElement("style",{id:"themeCss"},E),P&&P.css&&r.a.createElement("style",{id:"safeStylesCss"},P.css),P&&P.cssUrl&&r.a.createElement("link",{id:"safeStylesCssUrl",href:P.cssUrl,rel:"stylesheet"}),!L&&H),P.background.color&&r.a.createElement(N,{className:"screen-background-container",color:P.background.color}),z&&r.a.createElement(N,{className:"screen-background-container",imageURL:z}),r.a.createElement(R,{className:A,responsive:null==(g=y.stage)?void 0:g.responsive,isEditor:B},r.a.createElement(F,{className:"stage-box"},L&&r.a.createElement(C.RCEViewer,{stage:S,componentsPath:"components",CDP:b.a,stageStyles:P,lockElements:v}),!L&&r.a.createElement(C.RCEEditor,{stage:S,componentsPath:"components",onChange:this.onChange,CDP:b.a,stageStyles:P,lockElements:v})),I&&!L&&r.a.createElement(j,{onClick:this.addNewSection}),D&&r.a.createElement(U.a,{style:y,footer:J,feedback:M,context:I.mode,CDP:b.a}))))},t}(r.a.Component),M=r.a.createElement(J,null),V=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){return M},t}(r.a.Component);Object(s.render)(r.a.createElement(V,null),document.querySelector("#app"))}},[[392,1,2]]]);